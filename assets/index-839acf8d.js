function eR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function dT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fT={exports:{}},ld={},pT={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),tR=Symbol.for("react.portal"),nR=Symbol.for("react.fragment"),rR=Symbol.for("react.strict_mode"),iR=Symbol.for("react.profiler"),sR=Symbol.for("react.provider"),oR=Symbol.for("react.context"),aR=Symbol.for("react.forward_ref"),uR=Symbol.for("react.suspense"),lR=Symbol.for("react.memo"),cR=Symbol.for("react.lazy"),p0=Symbol.iterator;function hR(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var mT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gT=Object.assign,yT={};function da(t,e,n){this.props=t,this.context=e,this.refs=yT,this.updater=n||mT}da.prototype.isReactComponent={};da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vT(){}vT.prototype=da.prototype;function oy(t,e,n){this.props=t,this.context=e,this.refs=yT,this.updater=n||mT}var ay=oy.prototype=new vT;ay.constructor=oy;gT(ay,da.prototype);ay.isPureReactComponent=!0;var m0=Array.isArray,_T=Object.prototype.hasOwnProperty,uy={current:null},wT={key:!0,ref:!0,__self:!0,__source:!0};function ET(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_T.call(e,r)&&!wT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sl,type:t,key:s,ref:o,props:i,_owner:uy.current}}function dR(t,e){return{$$typeof:sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ly(t){return typeof t=="object"&&t!==null&&t.$$typeof===sl}function fR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var g0=/\/+/g;function np(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fR(""+t.key):e.toString(36)}function Tc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sl:case tR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+np(o,0):r,m0(i)?(n="",t!=null&&(n=t.replace(g0,"$&/")+"/"),Tc(i,e,n,"",function(l){return l})):i!=null&&(ly(i)&&(i=dR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(g0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",m0(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+np(s,a);o+=Tc(s,e,n,u,i)}else if(u=hR(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+np(s,a++),o+=Tc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kl(t,e,n){if(t==null)return t;var r=[],i=0;return Tc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function pR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},Sc={transition:null},mR={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:uy};we.Children={map:Kl,forEach:function(t,e,n){Kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kl(t,function(){e++}),e},toArray:function(t){return Kl(t,function(e){return e})||[]},only:function(t){if(!ly(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=da;we.Fragment=nR;we.Profiler=iR;we.PureComponent=oy;we.StrictMode=rR;we.Suspense=uR;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mR;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=uy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)_T.call(e,u)&&!wT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:sl,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:oR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sR,_context:t},t.Consumer=t};we.createElement=ET;we.createFactory=function(t){var e=ET.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:aR,render:t}};we.isValidElement=ly;we.lazy=function(t){return{$$typeof:cR,_payload:{_status:-1,_result:t},_init:pR}};we.memo=function(t,e){return{$$typeof:lR,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return ln.current.useCallback(t,e)};we.useContext=function(t){return ln.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};we.useEffect=function(t,e){return ln.current.useEffect(t,e)};we.useId=function(){return ln.current.useId()};we.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return ln.current.useMemo(t,e)};we.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};we.useRef=function(t){return ln.current.useRef(t)};we.useState=function(t){return ln.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return ln.current.useTransition()};we.version="18.2.0";pT.exports=we;var T=pT.exports;const ke=dT(T),gR=eR({__proto__:null,default:ke},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=T,vR=Symbol.for("react.element"),_R=Symbol.for("react.fragment"),wR=Object.prototype.hasOwnProperty,ER=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TR={key:!0,ref:!0,__self:!0,__source:!0};function TT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wR.call(e,r)&&!TR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vR,type:t,key:s,ref:o,props:i,_owner:ER.current}}ld.Fragment=_R;ld.jsx=TT;ld.jsxs=TT;fT.exports=ld;var c=fT.exports,pm={},ST={exports:{}},Pn={},IT={exports:{}},xT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,q){var Y=M.length;M.push(q);e:for(;0<Y;){var ye=Y-1>>>1,Ce=M[ye];if(0<i(Ce,q))M[ye]=q,M[Y]=Ce,Y=ye;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var q=M[0],Y=M.pop();if(Y!==q){M[0]=Y;e:for(var ye=0,Ce=M.length,kt=Ce>>>1;ye<kt;){var vt=2*(ye+1)-1,rr=M[vt],$n=vt+1,ir=M[$n];if(0>i(rr,Y))$n<Ce&&0>i(ir,rr)?(M[ye]=ir,M[$n]=Y,ye=$n):(M[ye]=rr,M[vt]=Y,ye=vt);else if($n<Ce&&0>i(ir,Y))M[ye]=ir,M[$n]=Y,ye=$n;else break e}}return q}function i(M,q){var Y=M.sortIndex-q.sortIndex;return Y!==0?Y:M.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],h=1,d=null,f=3,p=!1,m=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var q=n(l);q!==null;){if(q.callback===null)r(l);else if(q.startTime<=M)r(l),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(l)}}function v(M){if(y=!1,w(M),!m)if(n(u)!==null)m=!0,Se(I);else{var q=n(l);q!==null&&Ne(v,q.startTime-M)}}function I(M,q){m=!1,y&&(y=!1,_(O),O=-1),p=!0;var Y=f;try{for(w(q),d=n(u);d!==null&&(!(d.expirationTime>q)||M&&!oe());){var ye=d.callback;if(typeof ye=="function"){d.callback=null,f=d.priorityLevel;var Ce=ye(d.expirationTime<=q);q=t.unstable_now(),typeof Ce=="function"?d.callback=Ce:d===n(u)&&r(u),w(q)}else r(u);d=n(u)}if(d!==null)var kt=!0;else{var vt=n(l);vt!==null&&Ne(v,vt.startTime-q),kt=!1}return kt}finally{d=null,f=Y,p=!1}}var C=!1,R=null,O=-1,U=5,L=-1;function oe(){return!(t.unstable_now()-L<U)}function X(){if(R!==null){var M=t.unstable_now();L=M;var q=!0;try{q=R(!0,M)}finally{q?J():(C=!1,R=null)}}else C=!1}var J;if(typeof g=="function")J=function(){g(X)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ae=me.port2;me.port1.onmessage=X,J=function(){ae.postMessage(null)}}else J=function(){E(X,0)};function Se(M){R=M,C||(C=!0,J())}function Ne(M,q){O=E(function(){M(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Se(I))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var Y=f;f=q;try{return M()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=f;f=M;try{return q()}finally{f=Y}},t.unstable_scheduleCallback=function(M,q,Y){var ye=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ye+Y:ye):Y=ye,M){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=Y+Ce,M={id:h++,callback:q,priorityLevel:M,startTime:Y,expirationTime:Ce,sortIndex:-1},Y>ye?(M.sortIndex=Y,e(l,M),n(u)===null&&M===n(l)&&(y?(_(O),O=-1):y=!0,Ne(v,Y-ye))):(M.sortIndex=Ce,e(u,M),m||p||(m=!0,Se(I))),M},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(M){var q=f;return function(){var Y=f;f=q;try{return M.apply(this,arguments)}finally{f=Y}}}})(xT);IT.exports=xT;var SR=IT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT=T,In=SR;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PT=new Set,Eu={};function Qs(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(Eu[t]=e,t=0;t<e.length;t++)PT.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,IR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y0={},v0={};function xR(t){return mm.call(v0,t)?!0:mm.call(y0,t)?!1:IR.test(t)?v0[t]=!0:(y0[t]=!0,!1)}function CR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PR(t,e,n,r){if(e===null||typeof e>"u"||CR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var cy=/[\-:]([a-z])/g;function hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cy,hy);Ut[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cy,hy);Ut[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cy,hy);Ut[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function dy(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PR(e,n,i,r)&&(n=null),r||i===null?xR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=CT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),fy=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),RT=Symbol.for("react.provider"),AT=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),vm=Symbol.for("react.suspense_list"),my=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),kT=Symbol.for("react.offscreen"),_0=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=_0&&t[_0]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,rp;function Wa(t){if(rp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rp=e&&e[1]||""}return`
`+rp+t}var ip=!1;function sp(t,e){if(!t||ip)return"";ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wa(t):""}function RR(t){switch(t.tag){case 5:return Wa(t.type);case 16:return Wa("Lazy");case 13:return Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 2:case 15:return t=sp(t.type,!1),t;case 11:return t=sp(t.type.render,!1),t;case 1:return t=sp(t.type,!0),t;default:return""}}function _m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case gm:return"Profiler";case fy:return"StrictMode";case ym:return"Suspense";case vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AT:return(t.displayName||"Context")+".Consumer";case RT:return(t._context.displayName||"Context")+".Provider";case py:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case my:return e=t.displayName||null,e!==null?e:_m(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return _m(t(e))}catch{}}return null}function AR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(e);case 8:return e===fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kR(t){var e=bT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yl(t){t._valueTracker||(t._valueTracker=kR(t))}function DT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OT(t,e){e=e.checked,e!=null&&dy(t,"checked",e,!1)}function Em(t,e){OT(t,e);var n=qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tm(t,e.type,qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tm(t,e,n){(e!=="number"||Jc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qa=Array.isArray;function Ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Qa(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qi(n)}}function NT(t,e){var n=qi(e.value),r=qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function S0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xl,LT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bR=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){bR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function MT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function VT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DR=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xm(t,e){if(e){if(DR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=null;function gy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rm=null,Ao=null,ko=null;function I0(t){if(t=ul(t)){if(typeof Rm!="function")throw Error(j(280));var e=t.stateNode;e&&(e=pd(e),Rm(t.stateNode,t.type,e))}}function UT(t){Ao?ko?ko.push(t):ko=[t]:Ao=t}function FT(){if(Ao){var t=Ao,e=ko;if(ko=Ao=null,I0(t),e)for(t=0;t<e.length;t++)I0(e[t])}}function $T(t,e){return t(e)}function BT(){}var op=!1;function zT(t,e,n){if(op)return t(e,n);op=!0;try{return $T(t,e,n)}finally{op=!1,(Ao!==null||ko!==null)&&(BT(),FT())}}function Su(t,e){var n=t.stateNode;if(n===null)return null;var r=pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Am=!1;if(Hr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Am=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Am=!1}function OR(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(h){this.onError(h)}}var ru=!1,Zc=null,eh=!1,km=null,NR={onError:function(t){ru=!0,Zc=t}};function jR(t,e,n,r,i,s,o,a,u){ru=!1,Zc=null,OR.apply(NR,arguments)}function LR(t,e,n,r,i,s,o,a,u){if(jR.apply(this,arguments),ru){if(ru){var l=Zc;ru=!1,Zc=null}else throw Error(j(198));eh||(eh=!0,km=l)}}function Ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x0(t){if(Ks(t)!==t)throw Error(j(188))}function MR(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return x0(i),t;if(s===r)return x0(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function HT(t){return t=MR(t),t!==null?WT(t):null}function WT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WT(t);if(e!==null)return e;t=t.sibling}return null}var QT=In.unstable_scheduleCallback,C0=In.unstable_cancelCallback,VR=In.unstable_shouldYield,UR=In.unstable_requestPaint,ft=In.unstable_now,FR=In.unstable_getCurrentPriorityLevel,yy=In.unstable_ImmediatePriority,KT=In.unstable_UserBlockingPriority,th=In.unstable_NormalPriority,$R=In.unstable_LowPriority,GT=In.unstable_IdlePriority,cd=null,fr=null;function BR(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(cd,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:HR,zR=Math.log,qR=Math.LN2;function HR(t){return t>>>=0,t===0?32:31-(zR(t)/qR|0)|0}var Jl=64,Zl=4194304;function Ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ka(a):(s&=o,s!==0&&(r=Ka(s)))}else o=n&~i,o!==0?r=Ka(o):s!==0&&(r=Ka(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function WR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=WR(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YT(){var t=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),t}function ap(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function KR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function vy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function XT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JT,_y,ZT,eS,tS,Dm=!1,ec=[],bi=null,Di=null,Oi=null,Iu=new Map,xu=new Map,_i=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P0(t,e){switch(t){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(e.pointerId)}}function ba(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ul(e),e!==null&&_y(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YR(t,e,n,r,i){switch(e){case"focusin":return bi=ba(bi,t,e,n,r,i),!0;case"dragenter":return Di=ba(Di,t,e,n,r,i),!0;case"mouseover":return Oi=ba(Oi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Iu.set(s,ba(Iu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xu.set(s,ba(xu.get(s)||null,t,e,n,r,i)),!0}return!1}function nS(t){var e=ys(t.target);if(e!==null){var n=Ks(e);if(n!==null){if(e=n.tag,e===13){if(e=qT(n),e!==null){t.blockedOn=e,tS(t.priority,function(){ZT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Om(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pm=r,n.target.dispatchEvent(r),Pm=null}else return e=ul(n),e!==null&&_y(e),t.blockedOn=n,!1;e.shift()}return!0}function R0(t,e,n){Ic(t)&&n.delete(e)}function XR(){Dm=!1,bi!==null&&Ic(bi)&&(bi=null),Di!==null&&Ic(Di)&&(Di=null),Oi!==null&&Ic(Oi)&&(Oi=null),Iu.forEach(R0),xu.forEach(R0)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,Dm||(Dm=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,XR)))}function Cu(t){function e(i){return Da(i,t)}if(0<ec.length){Da(ec[0],t);for(var n=1;n<ec.length;n++){var r=ec[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bi!==null&&Da(bi,t),Di!==null&&Da(Di,t),Oi!==null&&Da(Oi,t),Iu.forEach(e),xu.forEach(e),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)nS(n),n.blockedOn===null&&_i.shift()}var bo=ti.ReactCurrentBatchConfig,rh=!0;function JR(t,e,n,r){var i=be,s=bo.transition;bo.transition=null;try{be=1,wy(t,e,n,r)}finally{be=i,bo.transition=s}}function ZR(t,e,n,r){var i=be,s=bo.transition;bo.transition=null;try{be=4,wy(t,e,n,r)}finally{be=i,bo.transition=s}}function wy(t,e,n,r){if(rh){var i=Om(t,e,n,r);if(i===null)yp(t,e,r,ih,n),P0(t,r);else if(YR(i,t,e,n,r))r.stopPropagation();else if(P0(t,r),e&4&&-1<GR.indexOf(t)){for(;i!==null;){var s=ul(i);if(s!==null&&JT(s),s=Om(t,e,n,r),s===null&&yp(t,e,r,ih,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yp(t,e,r,null,n)}}var ih=null;function Om(t,e,n,r){if(ih=null,t=gy(r),t=ys(t),t!==null)if(e=Ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ih=t,null}function rS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FR()){case yy:return 1;case KT:return 4;case th:case $R:return 16;case GT:return 536870912;default:return 16}default:return 16}}var Pi=null,Ey=null,xc=null;function iS(){if(xc)return xc;var t,e=Ey,n=e.length,r,i="value"in Pi?Pi.value:Pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return xc=i.slice(t,1<r?1-r:void 0)}function Cc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tc(){return!0}function A0(){return!1}function Rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tc:A0,this.isPropagationStopped=A0,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),e}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ty=Rn(fa),al=tt({},fa,{view:0,detail:0}),eA=Rn(al),up,lp,Oa,hd=tt({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(up=t.screenX-Oa.screenX,lp=t.screenY-Oa.screenY):lp=up=0,Oa=t),up)},movementY:function(t){return"movementY"in t?t.movementY:lp}}),k0=Rn(hd),tA=tt({},hd,{dataTransfer:0}),nA=Rn(tA),rA=tt({},al,{relatedTarget:0}),cp=Rn(rA),iA=tt({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),sA=Rn(iA),oA=tt({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aA=Rn(oA),uA=tt({},fa,{data:0}),b0=Rn(uA),lA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hA[t])?!!e[t]:!1}function Sy(){return dA}var fA=tt({},al,{key:function(t){if(t.key){var e=lA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(t){return t.type==="keypress"?Cc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pA=Rn(fA),mA=tt({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=Rn(mA),gA=tt({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),yA=Rn(gA),vA=tt({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),_A=Rn(vA),wA=tt({},hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EA=Rn(wA),TA=[9,13,27,32],Iy=Hr&&"CompositionEvent"in window,iu=null;Hr&&"documentMode"in document&&(iu=document.documentMode);var SA=Hr&&"TextEvent"in window&&!iu,sS=Hr&&(!Iy||iu&&8<iu&&11>=iu),O0=String.fromCharCode(32),N0=!1;function oS(t,e){switch(t){case"keyup":return TA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function IA(t,e){switch(t){case"compositionend":return aS(e);case"keypress":return e.which!==32?null:(N0=!0,O0);case"textInput":return t=e.data,t===O0&&N0?null:t;default:return null}}function xA(t,e){if(po)return t==="compositionend"||!Iy&&oS(t,e)?(t=iS(),xc=Ey=Pi=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sS&&e.locale!=="ko"?null:e.data;default:return null}}var CA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CA[t.type]:e==="textarea"}function uS(t,e,n,r){UT(r),e=sh(e,"onChange"),0<e.length&&(n=new Ty("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var su=null,Pu=null;function PA(t){_S(t,0)}function dd(t){var e=yo(t);if(DT(e))return t}function RA(t,e){if(t==="change")return e}var lS=!1;if(Hr){var hp;if(Hr){var dp="oninput"in document;if(!dp){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),dp=typeof L0.oninput=="function"}hp=dp}else hp=!1;lS=hp&&(!document.documentMode||9<document.documentMode)}function M0(){su&&(su.detachEvent("onpropertychange",cS),Pu=su=null)}function cS(t){if(t.propertyName==="value"&&dd(Pu)){var e=[];uS(e,Pu,t,gy(t)),zT(PA,e)}}function AA(t,e,n){t==="focusin"?(M0(),su=e,Pu=n,su.attachEvent("onpropertychange",cS)):t==="focusout"&&M0()}function kA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dd(Pu)}function bA(t,e){if(t==="click")return dd(e)}function DA(t,e){if(t==="input"||t==="change")return dd(e)}function OA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:OA;function Ru(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mm.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function V0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U0(t,e){var n=V0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function hS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dS(){for(var t=window,e=Jc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jc(t.document)}return e}function xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NA(t){var e=dS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hS(n.ownerDocument.documentElement,n)){if(r!==null&&xy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=U0(n,s);var o=U0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jA=Hr&&"documentMode"in document&&11>=document.documentMode,mo=null,Nm=null,ou=null,jm=!1;function F0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jm||mo==null||mo!==Jc(r)||(r=mo,"selectionStart"in r&&xy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&Ru(ou,r)||(ou=r,r=sh(Nm,"onSelect"),0<r.length&&(e=new Ty("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function nc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:nc("Animation","AnimationEnd"),animationiteration:nc("Animation","AnimationIteration"),animationstart:nc("Animation","AnimationStart"),transitionend:nc("Transition","TransitionEnd")},fp={},fS={};Hr&&(fS=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function fd(t){if(fp[t])return fp[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fS)return fp[t]=e[n];return t}var pS=fd("animationend"),mS=fd("animationiteration"),gS=fd("animationstart"),yS=fd("transitionend"),vS=new Map,$0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){vS.set(t,e),Qs(e,[t])}for(var pp=0;pp<$0.length;pp++){var mp=$0[pp],LA=mp.toLowerCase(),MA=mp[0].toUpperCase()+mp.slice(1);es(LA,"on"+MA)}es(pS,"onAnimationEnd");es(mS,"onAnimationIteration");es(gS,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(yS,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function B0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LR(r,e,void 0,t),t.currentTarget=null}function _S(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;B0(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;B0(i,a,l),s=u}}}if(eh)throw t=km,eh=!1,km=null,t}function Fe(t,e){var n=e[Fm];n===void 0&&(n=e[Fm]=new Set);var r=t+"__bubble";n.has(r)||(wS(e,t,2,!1),n.add(r))}function gp(t,e,n){var r=0;e&&(r|=4),wS(n,t,r,e)}var rc="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[rc]){t[rc]=!0,PT.forEach(function(n){n!=="selectionchange"&&(VA.has(n)||gp(n,!1,t),gp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rc]||(e[rc]=!0,gp("selectionchange",!1,e))}}function wS(t,e,n,r){switch(rS(e)){case 1:var i=JR;break;case 4:i=ZR;break;default:i=wy}n=i.bind(null,e,n,t),i=void 0,!Am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ys(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zT(function(){var l=s,h=gy(n),d=[];e:{var f=vS.get(t);if(f!==void 0){var p=Ty,m=t;switch(t){case"keypress":if(Cc(n)===0)break e;case"keydown":case"keyup":p=pA;break;case"focusin":m="focus",p=cp;break;case"focusout":m="blur",p=cp;break;case"beforeblur":case"afterblur":p=cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=k0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yA;break;case pS:case mS:case gS:p=sA;break;case yS:p=_A;break;case"scroll":p=eA;break;case"wheel":p=EA;break;case"copy":case"cut":case"paste":p=aA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=D0}var y=(e&4)!==0,E=!y&&t==="scroll",_=y?f!==null?f+"Capture":null:f;y=[];for(var g=l,w;g!==null;){w=g;var v=w.stateNode;if(w.tag===5&&v!==null&&(w=v,_!==null&&(v=Su(g,_),v!=null&&y.push(ku(g,v,w)))),E)break;g=g.return}0<y.length&&(f=new p(f,m,null,n,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Pm&&(m=n.relatedTarget||n.fromElement)&&(ys(m)||m[Wr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=l,m=m?ys(m):null,m!==null&&(E=Ks(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(y=k0,v="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=D0,v="onPointerLeave",_="onPointerEnter",g="pointer"),E=p==null?f:yo(p),w=m==null?f:yo(m),f=new y(v,g+"leave",p,n,h),f.target=E,f.relatedTarget=w,v=null,ys(h)===l&&(y=new y(_,g+"enter",m,n,h),y.target=w,y.relatedTarget=E,v=y),E=v,p&&m)t:{for(y=p,_=m,g=0,w=y;w;w=so(w))g++;for(w=0,v=_;v;v=so(v))w++;for(;0<g-w;)y=so(y),g--;for(;0<w-g;)_=so(_),w--;for(;g--;){if(y===_||_!==null&&y===_.alternate)break t;y=so(y),_=so(_)}y=null}else y=null;p!==null&&z0(d,f,p,y,!1),m!==null&&E!==null&&z0(d,E,m,y,!0)}}e:{if(f=l?yo(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=RA;else if(j0(f))if(lS)I=DA;else{I=kA;var C=AA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=bA);if(I&&(I=I(t,l))){uS(d,I,n,h);break e}C&&C(t,f,l),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Tm(f,"number",f.value)}switch(C=l?yo(l):window,t){case"focusin":(j0(C)||C.contentEditable==="true")&&(mo=C,Nm=l,ou=null);break;case"focusout":ou=Nm=mo=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,F0(d,n,h);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":F0(d,n,h)}var R;if(Iy)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else po?oS(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(sS&&n.locale!=="ko"&&(po||O!=="onCompositionStart"?O==="onCompositionEnd"&&po&&(R=iS()):(Pi=h,Ey="value"in Pi?Pi.value:Pi.textContent,po=!0)),C=sh(l,O),0<C.length&&(O=new b0(O,t,null,n,h),d.push({event:O,listeners:C}),R?O.data=R:(R=aS(n),R!==null&&(O.data=R)))),(R=SA?IA(t,n):xA(t,n))&&(l=sh(l,"onBeforeInput"),0<l.length&&(h=new b0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:l}),h.data=R))}_S(d,e)})}function ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Su(t,n),s!=null&&r.unshift(ku(t,s,i)),s=Su(t,e),s!=null&&r.push(ku(t,s,i))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Su(n,s),u!=null&&o.unshift(ku(n,u,a))):i||(u=Su(n,s),u!=null&&o.push(ku(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function q0(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(FA,"")}function ic(t,e,n){if(e=q0(e),q0(t)!==e&&n)throw Error(j(425))}function oh(){}var Lm=null,Mm=null;function Vm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Um=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(zA)}:Um;function zA(t){setTimeout(function(){throw t})}function vp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cu(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pa=Math.random().toString(36).slice(2),ar="__reactFiber$"+pa,bu="__reactProps$"+pa,Wr="__reactContainer$"+pa,Fm="__reactEvents$"+pa,qA="__reactListeners$"+pa,HA="__reactHandles$"+pa;function ys(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[ar])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function ul(t){return t=t[ar]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function pd(t){return t[bu]||null}var $m=[],vo=-1;function ts(t){return{current:t}}function qe(t){0>vo||(t.current=$m[vo],$m[vo]=null,vo--)}function Ue(t,e){vo++,$m[vo]=t.current,t.current=e}var Hi={},Xt=ts(Hi),pn=ts(!1),bs=Hi;function Wo(t,e){var n=t.type.contextTypes;if(!n)return Hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function ah(){qe(pn),qe(Xt)}function Q0(t,e,n){if(Xt.current!==Hi)throw Error(j(168));Ue(Xt,e),Ue(pn,n)}function ES(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,AR(t)||"Unknown",i));return tt({},n,r)}function uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hi,bs=Xt.current,Ue(Xt,t),Ue(pn,pn.current),!0}function K0(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=ES(t,e,bs),r.__reactInternalMemoizedMergedChildContext=t,qe(pn),qe(Xt),Ue(Xt,t)):qe(pn),Ue(pn,n)}var Nr=null,md=!1,_p=!1;function TS(t){Nr===null?Nr=[t]:Nr.push(t)}function WA(t){md=!0,TS(t)}function ns(){if(!_p&&Nr!==null){_p=!0;var t=0,e=be;try{var n=Nr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,md=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(t+1)),QT(yy,ns),i}finally{be=e,_p=!1}}return null}var _o=[],wo=0,lh=null,ch=0,Dn=[],On=0,Ds=null,Lr=1,Mr="";function fs(t,e){_o[wo++]=ch,_o[wo++]=lh,lh=t,ch=e}function SS(t,e,n){Dn[On++]=Lr,Dn[On++]=Mr,Dn[On++]=Ds,Ds=t;var r=Lr;t=Mr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var s=32-Yn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lr=1<<32-Yn(e)+i|n<<i|r,Mr=s+t}else Lr=1<<s|n<<i|r,Mr=t}function Cy(t){t.return!==null&&(fs(t,1),SS(t,1,0))}function Py(t){for(;t===lh;)lh=_o[--wo],_o[wo]=null,ch=_o[--wo],_o[wo]=null;for(;t===Ds;)Ds=Dn[--On],Dn[On]=null,Mr=Dn[--On],Dn[On]=null,Lr=Dn[--On],Dn[On]=null}var Tn=null,_n=null,Ye=!1,Qn=null;function IS(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,_n=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ds!==null?{id:Lr,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,_n=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(Ye){var e=_n;if(e){var n=e;if(!G0(t,e)){if(Bm(t))throw Error(j(418));e=Ni(n.nextSibling);var r=Tn;e&&G0(t,e)?IS(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Tn=t)}}else{if(Bm(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ye=!1,Tn=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function sc(t){if(t!==Tn)return!1;if(!Ye)return Y0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vm(t.type,t.memoizedProps)),e&&(e=_n)){if(Bm(t))throw xS(),Error(j(418));for(;e;)IS(t,e),e=Ni(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=Tn?Ni(t.stateNode.nextSibling):null;return!0}function xS(){for(var t=_n;t;)t=Ni(t.nextSibling)}function Qo(){_n=Tn=null,Ye=!1}function Ry(t){Qn===null?Qn=[t]:Qn.push(t)}var QA=ti.ReactCurrentBatchConfig;function qn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var hh=ts(null),dh=null,Eo=null,Ay=null;function ky(){Ay=Eo=dh=null}function by(t){var e=hh.current;qe(hh),t._currentValue=e}function qm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Do(t,e){dh=t,Ay=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Ay!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(dh===null)throw Error(j(308));Eo=t,dh.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var vs=null;function Dy(t){vs===null?vs=[t]:vs.push(t)}function CS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Dy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function Oy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,Dy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function Pc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vy(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fh(t,e,n,r){var i=t.updateQueue;yi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,h=l=u=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=tt({},d,f);break e;case 2:yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(l=h=p,u=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=d}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var RS=new CT.Component().refs;function Hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gd={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),i=Mi(t),s=$r(r,i);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(Xn(e,t,i,r),Pc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),i=Mi(t),s=$r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(Xn(e,t,i,r),Pc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Mi(t),i=$r(n,r);i.tag=2,e!=null&&(i.callback=e),e=ji(t,i,r),e!==null&&(Xn(e,t,r,n),Pc(e,t,r))}};function Z0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ru(n,r)||!Ru(i,s):!0}function AS(t,e,n){var r=!1,i=Hi,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=mn(e)?bs:Xt.current,r=e.contextTypes,s=(r=r!=null)?Wo(t,i):Hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function e_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gd.enqueueReplaceState(e,e.state,null)}function Wm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=RS,Oy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=mn(e)?bs:Xt.current,i.context=Wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gd.enqueueReplaceState(i,i.state,null),fh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===RS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function oc(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t_(t){var e=t._init;return e(t._payload)}function kS(t){function e(_,g){if(t){var w=_.deletions;w===null?(_.deletions=[g],_.flags|=16):w.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function i(_,g){return _=Vi(_,g),_.index=0,_.sibling=null,_}function s(_,g,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<g?(_.flags|=2,g):w):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,w,v){return g===null||g.tag!==6?(g=Cp(w,_.mode,v),g.return=_,g):(g=i(g,w),g.return=_,g)}function u(_,g,w,v){var I=w.type;return I===fo?h(_,g,w.props.children,v,w.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===gi&&t_(I)===g.type)?(v=i(g,w.props),v.ref=Na(_,g,w),v.return=_,v):(v=Oc(w.type,w.key,w.props,null,_.mode,v),v.ref=Na(_,g,w),v.return=_,v)}function l(_,g,w,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Pp(w,_.mode,v),g.return=_,g):(g=i(g,w.children||[]),g.return=_,g)}function h(_,g,w,v,I){return g===null||g.tag!==7?(g=Ps(w,_.mode,v,I),g.return=_,g):(g=i(g,w),g.return=_,g)}function d(_,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Cp(""+g,_.mode,w),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gl:return w=Oc(g.type,g.key,g.props,null,_.mode,w),w.ref=Na(_,null,g),w.return=_,w;case ho:return g=Pp(g,_.mode,w),g.return=_,g;case gi:var v=g._init;return d(_,v(g._payload),w)}if(Qa(g)||Aa(g))return g=Ps(g,_.mode,w,null),g.return=_,g;oc(_,g)}return null}function f(_,g,w,v){var I=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:a(_,g,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:return w.key===I?u(_,g,w,v):null;case ho:return w.key===I?l(_,g,w,v):null;case gi:return I=w._init,f(_,g,I(w._payload),v)}if(Qa(w)||Aa(w))return I!==null?null:h(_,g,w,v,null);oc(_,w)}return null}function p(_,g,w,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return _=_.get(w)||null,a(g,_,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gl:return _=_.get(v.key===null?w:v.key)||null,u(g,_,v,I);case ho:return _=_.get(v.key===null?w:v.key)||null,l(g,_,v,I);case gi:var C=v._init;return p(_,g,w,C(v._payload),I)}if(Qa(v)||Aa(v))return _=_.get(w)||null,h(g,_,v,I,null);oc(g,v)}return null}function m(_,g,w,v){for(var I=null,C=null,R=g,O=g=0,U=null;R!==null&&O<w.length;O++){R.index>O?(U=R,R=null):U=R.sibling;var L=f(_,R,w[O],v);if(L===null){R===null&&(R=U);break}t&&R&&L.alternate===null&&e(_,R),g=s(L,g,O),C===null?I=L:C.sibling=L,C=L,R=U}if(O===w.length)return n(_,R),Ye&&fs(_,O),I;if(R===null){for(;O<w.length;O++)R=d(_,w[O],v),R!==null&&(g=s(R,g,O),C===null?I=R:C.sibling=R,C=R);return Ye&&fs(_,O),I}for(R=r(_,R);O<w.length;O++)U=p(R,_,O,w[O],v),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?O:U.key),g=s(U,g,O),C===null?I=U:C.sibling=U,C=U);return t&&R.forEach(function(oe){return e(_,oe)}),Ye&&fs(_,O),I}function y(_,g,w,v){var I=Aa(w);if(typeof I!="function")throw Error(j(150));if(w=I.call(w),w==null)throw Error(j(151));for(var C=I=null,R=g,O=g=0,U=null,L=w.next();R!==null&&!L.done;O++,L=w.next()){R.index>O?(U=R,R=null):U=R.sibling;var oe=f(_,R,L.value,v);if(oe===null){R===null&&(R=U);break}t&&R&&oe.alternate===null&&e(_,R),g=s(oe,g,O),C===null?I=oe:C.sibling=oe,C=oe,R=U}if(L.done)return n(_,R),Ye&&fs(_,O),I;if(R===null){for(;!L.done;O++,L=w.next())L=d(_,L.value,v),L!==null&&(g=s(L,g,O),C===null?I=L:C.sibling=L,C=L);return Ye&&fs(_,O),I}for(R=r(_,R);!L.done;O++,L=w.next())L=p(R,_,O,L.value,v),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?O:L.key),g=s(L,g,O),C===null?I=L:C.sibling=L,C=L);return t&&R.forEach(function(X){return e(_,X)}),Ye&&fs(_,O),I}function E(_,g,w,v){if(typeof w=="object"&&w!==null&&w.type===fo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:e:{for(var I=w.key,C=g;C!==null;){if(C.key===I){if(I=w.type,I===fo){if(C.tag===7){n(_,C.sibling),g=i(C,w.props.children),g.return=_,_=g;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===gi&&t_(I)===C.type){n(_,C.sibling),g=i(C,w.props),g.ref=Na(_,C,w),g.return=_,_=g;break e}n(_,C);break}else e(_,C);C=C.sibling}w.type===fo?(g=Ps(w.props.children,_.mode,v,w.key),g.return=_,_=g):(v=Oc(w.type,w.key,w.props,null,_.mode,v),v.ref=Na(_,g,w),v.return=_,_=v)}return o(_);case ho:e:{for(C=w.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(_,g.sibling),g=i(g,w.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=Pp(w,_.mode,v),g.return=_,_=g}return o(_);case gi:return C=w._init,E(_,g,C(w._payload),v)}if(Qa(w))return m(_,g,w,v);if(Aa(w))return y(_,g,w,v);oc(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(_,g.sibling),g=i(g,w),g.return=_,_=g):(n(_,g),g=Cp(w,_.mode,v),g.return=_,_=g),o(_)):n(_,g)}return E}var Ko=kS(!0),bS=kS(!1),ll={},pr=ts(ll),Du=ts(ll),Ou=ts(ll);function _s(t){if(t===ll)throw Error(j(174));return t}function Ny(t,e){switch(Ue(Ou,e),Ue(Du,t),Ue(pr,ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Im(e,t)}qe(pr),Ue(pr,e)}function Go(){qe(pr),qe(Du),qe(Ou)}function DS(t){_s(Ou.current);var e=_s(pr.current),n=Im(e,t.type);e!==n&&(Ue(Du,t),Ue(pr,n))}function jy(t){Du.current===t&&(qe(pr),qe(Du))}var Ze=ts(0);function ph(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wp=[];function Ly(){for(var t=0;t<wp.length;t++)wp[t]._workInProgressVersionPrimary=null;wp.length=0}var Rc=ti.ReactCurrentDispatcher,Ep=ti.ReactCurrentBatchConfig,Os=0,et=null,wt=null,xt=null,mh=!1,au=!1,Nu=0,KA=0;function Ft(){throw Error(j(321))}function My(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function Vy(t,e,n,r,i,s){if(Os=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rc.current=t===null||t.memoizedState===null?JA:ZA,t=n(r,i),au){s=0;do{if(au=!1,Nu=0,25<=s)throw Error(j(301));s+=1,xt=wt=null,e.updateQueue=null,Rc.current=ek,t=n(r,i)}while(au)}if(Rc.current=gh,e=wt!==null&&wt.next!==null,Os=0,xt=wt=et=null,mh=!1,e)throw Error(j(300));return t}function Uy(){var t=Nu!==0;return Nu=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?et.memoizedState=xt=t:xt=xt.next=t,xt}function Vn(){if(wt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=xt===null?et.memoizedState:xt.next;if(e!==null)xt=e,wt=t;else{if(t===null)throw Error(j(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},xt===null?et.memoizedState=xt=t:xt=xt.next=t}return xt}function ju(t,e){return typeof e=="function"?e(t):e}function Tp(t){var e=Vn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var h=l.lane;if((Os&h)===h)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,et.lanes|=h,Ns|=h}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Zn(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sp(t){var e=Vn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zn(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OS(){}function NS(t,e){var n=et,r=Vn(),i=e(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,fn=!0),r=r.queue,Fy(MS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Lu(9,LS.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(j(349));Os&30||jS(n,e,i)}return i}function jS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LS(t,e,n,r){e.value=n,e.getSnapshot=r,VS(e)&&US(t)}function MS(t,e,n){return n(function(){VS(e)&&US(t)})}function VS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function US(t){var e=Qr(t,1);e!==null&&Xn(e,t,1,-1)}function n_(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:t},e.queue=t,t=t.dispatch=XA.bind(null,et,t),[e.memoizedState,t]}function Lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FS(){return Vn().memoizedState}function Ac(t,e,n,r){var i=or();et.flags|=t,i.memoizedState=Lu(1|e,n,void 0,r===void 0?null:r)}function yd(t,e,n,r){var i=Vn();r=r===void 0?null:r;var s=void 0;if(wt!==null){var o=wt.memoizedState;if(s=o.destroy,r!==null&&My(r,o.deps)){i.memoizedState=Lu(e,n,s,r);return}}et.flags|=t,i.memoizedState=Lu(1|e,n,s,r)}function r_(t,e){return Ac(8390656,8,t,e)}function Fy(t,e){return yd(2048,8,t,e)}function $S(t,e){return yd(4,2,t,e)}function BS(t,e){return yd(4,4,t,e)}function zS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qS(t,e,n){return n=n!=null?n.concat([t]):null,yd(4,4,zS.bind(null,e,t),n)}function $y(){}function HS(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&My(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WS(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&My(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QS(t,e,n){return Os&21?(Zn(n,e)||(n=YT(),et.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function GA(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=Ep.transition;Ep.transition={};try{t(!1),e()}finally{be=n,Ep.transition=r}}function KS(){return Vn().memoizedState}function YA(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GS(t))YS(e,n);else if(n=CS(t,e,n,r),n!==null){var i=an();Xn(n,t,r,i),XS(n,e,r)}}function XA(t,e,n){var r=Mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GS(t))YS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,o)){var u=e.interleaved;u===null?(i.next=i,Dy(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=CS(t,e,i,r),n!==null&&(i=an(),Xn(n,t,r,i),XS(n,e,r))}}function GS(t){var e=t.alternate;return t===et||e!==null&&e===et}function YS(t,e){au=mh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vy(t,n)}}var gh={readContext:Mn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},JA={readContext:Mn,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:r_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ac(4194308,4,zS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ac(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YA.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:n_,useDebugValue:$y,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=n_(!1),e=t[0];return t=GA.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=or();if(Ye){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Ct===null)throw Error(j(349));Os&30||jS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,r_(MS.bind(null,r,s,t),[t]),r.flags|=2048,Lu(9,LS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=or(),e=Ct.identifierPrefix;if(Ye){var n=Mr,r=Lr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZA={readContext:Mn,useCallback:HS,useContext:Mn,useEffect:Fy,useImperativeHandle:qS,useInsertionEffect:$S,useLayoutEffect:BS,useMemo:WS,useReducer:Tp,useRef:FS,useState:function(){return Tp(ju)},useDebugValue:$y,useDeferredValue:function(t){var e=Vn();return QS(e,wt.memoizedState,t)},useTransition:function(){var t=Tp(ju)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:OS,useSyncExternalStore:NS,useId:KS,unstable_isNewReconciler:!1},ek={readContext:Mn,useCallback:HS,useContext:Mn,useEffect:Fy,useImperativeHandle:qS,useInsertionEffect:$S,useLayoutEffect:BS,useMemo:WS,useReducer:Sp,useRef:FS,useState:function(){return Sp(ju)},useDebugValue:$y,useDeferredValue:function(t){var e=Vn();return wt===null?e.memoizedState=t:QS(e,wt.memoizedState,t)},useTransition:function(){var t=Sp(ju)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:OS,useSyncExternalStore:NS,useId:KS,unstable_isNewReconciler:!1};function Yo(t,e){try{var n="",r=e;do n+=RR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ip(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tk=typeof WeakMap=="function"?WeakMap:Map;function JS(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vh||(vh=!0,rg=r),Qm(t,e)},n}function ZS(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qm(t,e),typeof r!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function i_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mk.bind(null,t,e,n),e.then(t,t))}function s_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function o_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var nk=ti.ReactCurrentOwner,fn=!1;function rn(t,e,n,r){e.child=t===null?bS(e,null,n,r):Ko(e,t.child,n,r)}function a_(t,e,n,r,i){n=n.render;var s=e.ref;return Do(e,i),r=Vy(t,e,n,r,s,i),n=Uy(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(Ye&&n&&Cy(e),e.flags|=1,rn(t,e,r,i),e.child)}function u_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,e3(t,e,s,r,i)):(t=Oc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ru,n(o,r)&&t.ref===e.ref)return Kr(t,e,i)}return e.flags|=1,t=Vi(s,r),t.ref=e.ref,t.return=e,e.child=t}function e3(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ru(s,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,Kr(t,e,i)}return Km(t,e,n,r,i)}function t3(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(So,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(So,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(So,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(So,vn),vn|=r;return rn(t,e,i,n),e.child}function n3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Km(t,e,n,r,i){var s=mn(n)?bs:Xt.current;return s=Wo(e,s),Do(e,i),n=Vy(t,e,n,r,s,i),r=Uy(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(Ye&&r&&Cy(e),e.flags|=1,rn(t,e,n,i),e.child)}function l_(t,e,n,r,i){if(mn(n)){var s=!0;uh(e)}else s=!1;if(Do(e,i),e.stateNode===null)kc(t,e),AS(e,n,r),Wm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Mn(l):(l=mn(n)?bs:Xt.current,l=Wo(e,l));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&e_(e,o,r,l),yi=!1;var f=e.memoizedState;o.state=f,fh(e,r,o,i),u=e.memoizedState,a!==r||f!==u||pn.current||yi?(typeof h=="function"&&(Hm(e,n,h,r),u=e.memoizedState),(a=yi||Z0(e,n,a,r,f,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PS(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:qn(e.type,a),o.props=l,d=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Mn(u):(u=mn(n)?bs:Xt.current,u=Wo(e,u));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==u)&&e_(e,o,r,u),yi=!1,f=e.memoizedState,o.state=f,fh(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||pn.current||yi?(typeof p=="function"&&(Hm(e,n,p,r),m=e.memoizedState),(l=yi||Z0(e,n,l,r,f,m,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gm(t,e,n,r,s,i)}function Gm(t,e,n,r,i,s){n3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&K0(e,n,!1),Kr(t,e,s);r=e.stateNode,nk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,s),e.child=Ko(e,null,a,s)):rn(t,e,a,s),e.memoizedState=r.state,i&&K0(e,n,!0),e.child}function r3(t){var e=t.stateNode;e.pendingContext?Q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q0(t,e.context,!1),Ny(t,e.containerInfo)}function c_(t,e,n,r,i){return Qo(),Ry(i),e.flags|=256,rn(t,e,n,r),e.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Xm(t){return{baseLanes:t,cachePool:null,transitions:null}}function i3(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ze,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wd(o,r,0,null),t=Ps(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xm(n),e.memoizedState=Ym,t):By(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Vi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vi(a,s):(s=Ps(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ym,r}return s=t.child,t=s.sibling,r=Vi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function By(t,e){return e=wd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ac(t,e,n,r){return r!==null&&Ry(r),Ko(e,t.child,null,n),t=By(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ip(Error(j(422))),ac(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wd({mode:"visible",children:r.children},i,0,null),s=Ps(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=Xm(o),e.memoizedState=Ym,s);if(!(e.mode&1))return ac(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Ip(s,r,void 0),ac(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=Ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(t,i),Xn(r,t,i,-1))}return Ky(),r=Ip(Error(j(421))),ac(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_n=Ni(i.nextSibling),Tn=e,Ye=!0,Qn=null,t!==null&&(Dn[On++]=Lr,Dn[On++]=Mr,Dn[On++]=Ds,Lr=t.id,Mr=t.overflow,Ds=e),e=By(e,r.children),e.flags|=4096,e)}function h_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qm(t.return,e,n)}function xp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function s3(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h_(t,n,e);else if(t.tag===19)h_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ph(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ph(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xp(e,!0,n,null,s);break;case"together":xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ik(t,e,n){switch(e.tag){case 3:r3(e),Qo();break;case 5:DS(e);break;case 1:mn(e.type)&&uh(e);break;case 4:Ny(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(hh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?i3(t,e,n):(Ue(Ze,Ze.current&1),t=Kr(t,e,n),t!==null?t.sibling:null);Ue(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,t3(t,e,n)}return Kr(t,e,n)}var o3,Jm,a3,u3;o3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};a3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_s(pr.current);var s=null;switch(n){case"input":i=wm(t,i),r=wm(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=Sm(t,i),r=Sm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oh)}xm(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Eu.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Fe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};u3=function(t,e,n,r){n!==r&&(e.flags|=4)};function ja(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sk(t,e,n){var r=e.pendingProps;switch(Py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return mn(e.type)&&ah(),$t(e),null;case 3:return r=e.stateNode,Go(),qe(pn),qe(Xt),Ly(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(og(Qn),Qn=null))),Jm(t,e),$t(e),null;case 5:jy(e);var i=_s(Ou.current);if(n=e.type,t!==null&&e.stateNode!=null)a3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return $t(e),null}if(t=_s(pr.current),sc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ar]=e,r[bu]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Ga.length;i++)Fe(Ga[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":w0(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":T0(r,s),Fe("invalid",r)}xm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ic(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ic(r.textContent,a,t),i=["children",""+a]):Eu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Yl(r),E0(r,s,!0);break;case"textarea":Yl(r),S0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=oh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[bu]=r,o3(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cm(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ga.length;i++)Fe(Ga[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":w0(t,r),i=wm(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":T0(t,r),i=Sm(t,r),Fe("invalid",t);break;default:i=r}xm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?VT(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&LT(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Tu(t,u):typeof u=="number"&&Tu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Fe("scroll",t):u!=null&&dy(t,s,u,o))}switch(n){case"input":Yl(t),E0(t,r,!1);break;case"textarea":Yl(t),S0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)u3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=_s(Ou.current),_s(pr.current),sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(s=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:ic(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ic(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return $t(e),null;case 13:if(qe(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&_n!==null&&e.mode&1&&!(e.flags&128))xS(),Qo(),e.flags|=98560,s=!1;else if(s=sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[ar]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else Qn!==null&&(og(Qn),Qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?Et===0&&(Et=3):Ky())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Go(),Jm(t,e),t===null&&Au(e.stateNode.containerInfo),$t(e),null;case 10:return by(e.type._context),$t(e),null;case 17:return mn(e.type)&&ah(),$t(e),null;case 19:if(qe(Ze),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ja(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ph(t),o!==null){for(e.flags|=128,ja(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>Xo&&(e.flags|=128,r=!0,ja(s,!1),e.lanes=4194304)}else{if(!r)if(t=ph(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ja(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return $t(e),null}else 2*ft()-s.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,ja(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=Ze.current,Ue(Ze,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function ok(t,e){switch(Py(e),e.tag){case 1:return mn(e.type)&&ah(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),qe(pn),qe(Xt),Ly(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jy(e),null;case 13:if(qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Ze),null;case 4:return Go(),null;case 10:return by(e.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var uc=!1,Wt=!1,ak=typeof WeakSet=="function"?WeakSet:Set,H=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Zm(t,e,n){try{n()}catch(r){rt(t,e,r)}}var d_=!1;function uk(t,e){if(Lm=rh,t=dS(),xy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++h===r&&(u=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:t,selectionRange:n},rh=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,E=m.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:qn(e.type,y),E);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(v){rt(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return m=d_,d_=!1,m}function uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zm(e,n,s)}i=i.next}while(i!==r)}}function vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function eg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l3(t){var e=t.alternate;e!==null&&(t.alternate=null,l3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[bu],delete e[Fm],delete e[qA],delete e[HA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c3(t){return t.tag===5||t.tag===3||t.tag===4}function f_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oh));else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}function ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ng(t,e,n),t=t.sibling;t!==null;)ng(t,e,n),t=t.sibling}var Dt=null,Hn=!1;function fi(t,e,n){for(n=n.child;n!==null;)h3(t,e,n),n=n.sibling}function h3(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(cd,n)}catch{}switch(n.tag){case 5:Wt||To(n,e);case 6:var r=Dt,i=Hn;Dt=null,fi(t,e,n),Dt=r,Hn=i,Dt!==null&&(Hn?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Hn?(t=Dt,n=n.stateNode,t.nodeType===8?vp(t.parentNode,n):t.nodeType===1&&vp(t,n),Cu(t)):vp(Dt,n.stateNode));break;case 4:r=Dt,i=Hn,Dt=n.stateNode.containerInfo,Hn=!0,fi(t,e,n),Dt=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zm(n,e,o),i=i.next}while(i!==r)}fi(t,e,n);break;case 1:if(!Wt&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}fi(t,e,n);break;case 21:fi(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,fi(t,e,n),Wt=r):fi(t,e,n);break;default:fi(t,e,n)}}function p_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ak),e.forEach(function(r){var i=yk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,Hn=!1;break e;case 3:Dt=a.stateNode.containerInfo,Hn=!0;break e;case 4:Dt=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(Dt===null)throw Error(j(160));h3(s,o,i),Dt=null,Hn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){rt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d3(e,t),e=e.sibling}function d3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),sr(t),r&4){try{uu(3,t,t.return),vd(3,t)}catch(y){rt(t,t.return,y)}try{uu(5,t,t.return)}catch(y){rt(t,t.return,y)}}break;case 1:zn(e,t),sr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(zn(e,t),sr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var i=t.stateNode;try{Tu(i,"")}catch(y){rt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&OT(i,s),Cm(a,o);var l=Cm(a,s);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];h==="style"?VT(i,d):h==="dangerouslySetInnerHTML"?LT(i,d):h==="children"?Tu(i,d):dy(i,h,d,l)}switch(a){case"input":Em(i,s);break;case"textarea":NT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ro(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ro(i,!!s.multiple,s.defaultValue,!0):Ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[bu]=s}catch(y){rt(t,t.return,y)}}break;case 6:if(zn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){rt(t,t.return,y)}}break;case 3:if(zn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cu(e.containerInfo)}catch(y){rt(t,t.return,y)}break;case 4:zn(e,t),sr(t);break;case 13:zn(e,t),sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hy=ft())),r&4&&p_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(l=Wt)||h,zn(e,t),Wt=l):zn(e,t),sr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(d=H=h;H!==null;){switch(f=H,p=f.child,f.tag){case 0:case 11:case 14:case 15:uu(4,f,f.return);break;case 1:To(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){rt(r,n,y)}}break;case 5:To(f,f.return);break;case 22:if(f.memoizedState!==null){g_(d);continue}}p!==null?(p.return=f,H=p):g_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=MT("display",o))}catch(y){rt(t,t.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){rt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zn(e,t),sr(t),r&4&&p_(t);break;case 21:break;default:zn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(c3(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tu(i,""),r.flags&=-33);var s=f_(t);ng(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=f_(t);tg(t,a,o);break;default:throw Error(j(161))}}catch(u){rt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lk(t,e,n){H=t,f3(t)}function f3(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uc;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Wt;a=uc;var l=Wt;if(uc=o,(Wt=u)&&!l)for(H=i;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?y_(i):u!==null?(u.return=o,H=u):y_(i);for(;s!==null;)H=s,f3(s),s=s.sibling;H=i,uc=a,Wt=l}m_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):m_(t)}}function m_(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var h=l.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Cu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Wt||e.flags&512&&eg(e)}catch(f){rt(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function g_(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function y_(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vd(4,e)}catch(u){rt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){rt(e,i,u)}}var s=e.return;try{eg(e)}catch(u){rt(e,s,u)}break;case 5:var o=e.return;try{eg(e)}catch(u){rt(e,o,u)}}}catch(u){rt(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var ck=Math.ceil,yh=ti.ReactCurrentDispatcher,zy=ti.ReactCurrentOwner,Ln=ti.ReactCurrentBatchConfig,Pe=0,Ct=null,gt=null,Lt=0,vn=0,So=ts(0),Et=0,Mu=null,Ns=0,_d=0,qy=0,lu=null,hn=null,Hy=0,Xo=1/0,Or=null,vh=!1,rg=null,Li=null,lc=!1,Ri=null,_h=0,cu=0,ig=null,bc=-1,Dc=0;function an(){return Pe&6?ft():bc!==-1?bc:bc=ft()}function Mi(t){return t.mode&1?Pe&2&&Lt!==0?Lt&-Lt:QA.transition!==null?(Dc===0&&(Dc=YT()),Dc):(t=be,t!==0||(t=window.event,t=t===void 0?16:rS(t.type)),t):1}function Xn(t,e,n,r){if(50<cu)throw cu=0,ig=null,Error(j(185));ol(t,n,r),(!(Pe&2)||t!==Ct)&&(t===Ct&&(!(Pe&2)&&(_d|=n),Et===4&&wi(t,Lt)),gn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Xo=ft()+500,md&&ns()))}function gn(t,e){var n=t.callbackNode;QR(t,e);var r=nh(t,t===Ct?Lt:0);if(r===0)n!==null&&C0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C0(n),e===1)t.tag===0?WA(v_.bind(null,t)):TS(v_.bind(null,t)),BA(function(){!(Pe&6)&&ns()}),n=null;else{switch(XT(r)){case 1:n=yy;break;case 4:n=KT;break;case 16:n=th;break;case 536870912:n=GT;break;default:n=th}n=E3(n,p3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function p3(t,e){if(bc=-1,Dc=0,Pe&6)throw Error(j(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=nh(t,t===Ct?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wh(t,r);else{e=r;var i=Pe;Pe|=2;var s=g3();(Ct!==t||Lt!==e)&&(Or=null,Xo=ft()+500,Cs(t,e));do try{fk();break}catch(a){m3(t,a)}while(1);ky(),yh.current=s,Pe=i,gt!==null?e=0:(Ct=null,Lt=0,e=Et)}if(e!==0){if(e===2&&(i=bm(t),i!==0&&(r=i,e=sg(t,i))),e===1)throw n=Mu,Cs(t,0),wi(t,r),gn(t,ft()),n;if(e===6)wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!hk(i)&&(e=wh(t,r),e===2&&(s=bm(t),s!==0&&(r=s,e=sg(t,s))),e===1))throw n=Mu,Cs(t,0),wi(t,r),gn(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:ps(t,hn,Or);break;case 3:if(wi(t,r),(r&130023424)===r&&(e=Hy+500-ft(),10<e)){if(nh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Um(ps.bind(null,t,hn,Or),e);break}ps(t,hn,Or);break;case 4:if(wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ck(r/1960))-r,10<r){t.timeoutHandle=Um(ps.bind(null,t,hn,Or),r);break}ps(t,hn,Or);break;case 5:ps(t,hn,Or);break;default:throw Error(j(329))}}}return gn(t,ft()),t.callbackNode===n?p3.bind(null,t):null}function sg(t,e){var n=lu;return t.current.memoizedState.isDehydrated&&(Cs(t,e).flags|=256),t=wh(t,e),t!==2&&(e=hn,hn=n,e!==null&&og(e)),t}function og(t){hn===null?hn=t:hn.push.apply(hn,t)}function hk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wi(t,e){for(e&=~qy,e&=~_d,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function v_(t){if(Pe&6)throw Error(j(327));Oo();var e=nh(t,0);if(!(e&1))return gn(t,ft()),null;var n=wh(t,e);if(t.tag!==0&&n===2){var r=bm(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=Mu,Cs(t,0),wi(t,e),gn(t,ft()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,hn,Or),gn(t,ft()),null}function Wy(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Xo=ft()+500,md&&ns())}}function js(t){Ri!==null&&Ri.tag===0&&!(Pe&6)&&Oo();var e=Pe;Pe|=1;var n=Ln.transition,r=be;try{if(Ln.transition=null,be=1,t)return t()}finally{be=r,Ln.transition=n,Pe=e,!(Pe&6)&&ns()}}function Qy(){vn=So.current,qe(So)}function Cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$A(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Py(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ah();break;case 3:Go(),qe(pn),qe(Xt),Ly();break;case 5:jy(r);break;case 4:Go();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:by(r.type._context);break;case 22:case 23:Qy()}n=n.return}if(Ct=t,gt=t=Vi(t.current,null),Lt=vn=e,Et=0,Mu=null,qy=_d=Ns=0,hn=lu=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vs=null}return t}function m3(t,e){do{var n=gt;try{if(ky(),Rc.current=gh,mh){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mh=!1}if(Os=0,xt=wt=et=null,au=!1,Nu=0,zy.current=null,n===null||n.return===null){Et=1,Mu=e,gt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Lt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=s_(o);if(p!==null){p.flags&=-257,o_(p,o,a,s,e),p.mode&1&&i_(s,l,e),e=p,u=l;var m=e.updateQueue;if(m===null){var y=new Set;y.add(u),e.updateQueue=y}else m.add(u);break e}else{if(!(e&1)){i_(s,l,e),Ky();break e}u=Error(j(426))}}else if(Ye&&a.mode&1){var E=s_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),o_(E,o,a,s,e),Ry(Yo(u,a));break e}}s=u=Yo(u,a),Et!==4&&(Et=2),lu===null?lu=[s]:lu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=JS(s,u,e);X0(s,_);break e;case 1:a=u;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Li===null||!Li.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var v=ZS(s,a,e);X0(s,v);break e}}s=s.return}while(s!==null)}v3(n)}catch(I){e=I,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(1)}function g3(){var t=yh.current;return yh.current=gh,t===null?gh:t}function Ky(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(Ns&268435455)&&!(_d&268435455)||wi(Ct,Lt)}function wh(t,e){var n=Pe;Pe|=2;var r=g3();(Ct!==t||Lt!==e)&&(Or=null,Cs(t,e));do try{dk();break}catch(i){m3(t,i)}while(1);if(ky(),Pe=n,yh.current=r,gt!==null)throw Error(j(261));return Ct=null,Lt=0,Et}function dk(){for(;gt!==null;)y3(gt)}function fk(){for(;gt!==null&&!VR();)y3(gt)}function y3(t){var e=w3(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?v3(t):gt=e,zy.current=null}function v3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ok(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,gt=null;return}}else if(n=sk(n,e,vn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Et===0&&(Et=5)}function ps(t,e,n){var r=be,i=Ln.transition;try{Ln.transition=null,be=1,pk(t,e,n,r)}finally{Ln.transition=i,be=r}return null}function pk(t,e,n,r){do Oo();while(Ri!==null);if(Pe&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(KR(t,s),t===Ct&&(gt=Ct=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,E3(th,function(){return Oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ln.transition,Ln.transition=null;var o=be;be=1;var a=Pe;Pe|=4,zy.current=null,uk(t,n),d3(n,t),NA(Mm),rh=!!Lm,Mm=Lm=null,t.current=n,lk(n),UR(),Pe=a,be=o,Ln.transition=s}else t.current=n;if(lc&&(lc=!1,Ri=t,_h=i),s=t.pendingLanes,s===0&&(Li=null),BR(n.stateNode),gn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vh)throw vh=!1,t=rg,rg=null,t;return _h&1&&t.tag!==0&&Oo(),s=t.pendingLanes,s&1?t===ig?cu++:(cu=0,ig=t):cu=0,ns(),null}function Oo(){if(Ri!==null){var t=XT(_h),e=Ln.transition,n=be;try{if(Ln.transition=null,be=16>t?16:t,Ri===null)var r=!1;else{if(t=Ri,Ri=null,_h=0,Pe&6)throw Error(j(331));var i=Pe;for(Pe|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(H=l;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:uu(8,h,s)}var d=h.child;if(d!==null)d.return=h,H=d;else for(;H!==null;){h=H;var f=h.sibling,p=h.return;if(l3(h),h===l){H=null;break}if(f!==null){f.return=p,H=f;break}H=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,H=_;break e}H=s.return}}var g=t.current;for(H=g;H!==null;){o=H;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,H=w;else e:for(o=g;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vd(9,a)}}catch(I){rt(a,a.return,I)}if(a===o){H=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,H=v;break e}H=a.return}}if(Pe=i,ns(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(cd,t)}catch{}r=!0}return r}finally{be=n,Ln.transition=e}}return!1}function __(t,e,n){e=Yo(n,e),e=JS(t,e,1),t=ji(t,e,1),e=an(),t!==null&&(ol(t,1,e),gn(t,e))}function rt(t,e,n){if(t.tag===3)__(t,t,n);else for(;e!==null;){if(e.tag===3){__(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Li===null||!Li.has(r))){t=Yo(n,t),t=ZS(e,t,1),e=ji(e,t,1),t=an(),e!==null&&(ol(e,1,t),gn(e,t));break}}e=e.return}}function mk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Lt&n)===n&&(Et===4||Et===3&&(Lt&130023424)===Lt&&500>ft()-Hy?Cs(t,0):qy|=n),gn(t,e)}function _3(t,e){e===0&&(t.mode&1?(e=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):e=1);var n=an();t=Qr(t,e),t!==null&&(ol(t,e,n),gn(t,n))}function gk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_3(t,n)}function yk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),_3(t,n)}var w3;w3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,ik(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ye&&e.flags&1048576&&SS(e,ch,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kc(t,e),t=e.pendingProps;var i=Wo(e,Xt.current);Do(e,n),i=Vy(null,e,r,t,i,n);var s=Uy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(s=!0,uh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oy(e),i.updater=gd,e.stateNode=i,i._reactInternals=e,Wm(e,r,t,n),e=Gm(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&Cy(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_k(r),t=qn(r,t),i){case 0:e=Km(null,e,r,t,n);break e;case 1:e=l_(null,e,r,t,n);break e;case 11:e=a_(null,e,r,t,n);break e;case 14:e=u_(null,e,r,qn(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Km(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),l_(t,e,r,i,n);case 3:e:{if(r3(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PS(t,e),fh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yo(Error(j(423)),e),e=c_(t,e,r,n,i);break e}else if(r!==i){i=Yo(Error(j(424)),e),e=c_(t,e,r,n,i);break e}else for(_n=Ni(e.stateNode.containerInfo.firstChild),Tn=e,Ye=!0,Qn=null,n=bS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===i){e=Kr(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return DS(e),t===null&&zm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vm(r,i)?o=null:s!==null&&Vm(r,s)&&(e.flags|=32),n3(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&zm(e),null;case 13:return i3(t,e,n);case 4:return Ny(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),a_(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(hh,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!pn.current){e=Kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=$r(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),qm(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Do(e,n),i=Mn(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),u_(t,e,r,i,n);case 15:return e3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),kc(t,e),e.tag=1,mn(r)?(t=!0,uh(e)):t=!1,Do(e,n),AS(e,r,i),Wm(e,r,i,n),Gm(null,e,r,!0,t,n);case 19:return s3(t,e,n);case 22:return t3(t,e,n)}throw Error(j(156,e.tag))};function E3(t,e){return QT(t,e)}function vk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new vk(t,e,n,r)}function Gy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _k(t){if(typeof t=="function")return Gy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===py)return 11;if(t===my)return 14}return 2}function Vi(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fo:return Ps(n.children,i,s,e);case fy:o=8,i|=8;break;case gm:return t=jn(12,n,e,i|2),t.elementType=gm,t.lanes=s,t;case ym:return t=jn(13,n,e,i),t.elementType=ym,t.lanes=s,t;case vm:return t=jn(19,n,e,i),t.elementType=vm,t.lanes=s,t;case kT:return wd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RT:o=10;break e;case AT:o=9;break e;case py:o=11;break e;case my:o=14;break e;case gi:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=jn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ps(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function wd(t,e,n,r){return t=jn(22,t,r,e),t.elementType=kT,t.lanes=n,t.stateNode={isHidden:!1},t}function Cp(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function Pp(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ap(0),this.expirationTimes=ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yy(t,e,n,r,i,s,o,a,u){return t=new wk(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(s),t}function Ek(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T3(t){if(!t)return Hi;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(mn(n))return ES(t,n,e)}return e}function S3(t,e,n,r,i,s,o,a,u){return t=Yy(n,r,!0,t,i,s,o,a,u),t.context=T3(null),n=t.current,r=an(),i=Mi(n),s=$r(r,i),s.callback=e??null,ji(n,s,i),t.current.lanes=i,ol(t,i,r),gn(t,r),t}function Ed(t,e,n,r){var i=e.current,s=an(),o=Mi(i);return n=T3(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ji(i,e,o),t!==null&&(Xn(t,i,o,s),Pc(t,i,o)),o}function Eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function w_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xy(t,e){w_(t,e),(t=t.alternate)&&w_(t,e)}function Tk(){return null}var I3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jy(t){this._internalRoot=t}Td.prototype.render=Jy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Ed(t,e,null,null)};Td.prototype.unmount=Jy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){Ed(null,t,null,null)}),e[Wr]=null}};function Td(t){this._internalRoot=t}Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=eS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_i.length&&e!==0&&e<_i[n].priority;n++);_i.splice(n,0,t),n===0&&nS(t)}};function Zy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function E_(){}function Sk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Eh(o);s.call(l)}}var o=S3(e,r,t,0,null,!1,!1,"",E_);return t._reactRootContainer=o,t[Wr]=o.current,Au(t.nodeType===8?t.parentNode:t),js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Eh(u);a.call(l)}}var u=Yy(t,0,!1,null,null,!1,!1,"",E_);return t._reactRootContainer=u,t[Wr]=u.current,Au(t.nodeType===8?t.parentNode:t),js(function(){Ed(e,u,n,r)}),u}function Id(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Eh(o);a.call(u)}}Ed(e,o,t,i)}else o=Sk(n,e,t,i,r);return Eh(o)}JT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ka(e.pendingLanes);n!==0&&(vy(e,n|1),gn(e,ft()),!(Pe&6)&&(Xo=ft()+500,ns()))}break;case 13:js(function(){var r=Qr(t,1);if(r!==null){var i=an();Xn(r,t,1,i)}}),Xy(t,1)}};_y=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=an();Xn(e,t,134217728,n)}Xy(t,134217728)}};ZT=function(t){if(t.tag===13){var e=Mi(t),n=Qr(t,e);if(n!==null){var r=an();Xn(n,t,e,r)}Xy(t,e)}};eS=function(){return be};tS=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};Rm=function(t,e,n){switch(e){case"input":if(Em(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pd(r);if(!i)throw Error(j(90));DT(r),Em(r,i)}}}break;case"textarea":NT(t,n);break;case"select":e=n.value,e!=null&&Ro(t,!!n.multiple,e,!1)}};$T=Wy;BT=js;var Ik={usingClientEntryPoint:!1,Events:[ul,yo,pd,UT,FT,Wy]},La={findFiberByHostInstance:ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xk={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HT(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{cd=cc.inject(xk),fr=cc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zy(e))throw Error(j(200));return Ek(t,e,null,n)};Pn.createRoot=function(t,e){if(!Zy(t))throw Error(j(299));var n=!1,r="",i=I3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yy(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,Au(t.nodeType===8?t.parentNode:t),new Jy(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=HT(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return js(t)};Pn.hydrate=function(t,e,n){if(!Sd(e))throw Error(j(200));return Id(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Zy(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=I3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=S3(e,null,t,1,n??null,i,!1,s,o),t[Wr]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Td(e)};Pn.render=function(t,e,n){if(!Sd(e))throw Error(j(200));return Id(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!Sd(t))throw Error(j(40));return t._reactRootContainer?(js(function(){Id(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};Pn.unstable_batchedUpdates=Wy;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sd(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Id(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function x3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x3)}catch(t){console.error(t)}}x3(),ST.exports=Pn;var ev=ST.exports;const Ck=dT(ev);var T_=ev;pm.createRoot=T_.createRoot,pm.hydrateRoot=T_.hydrateRoot;var C3={exports:{}},P3={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=T;function Pk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rk=typeof Object.is=="function"?Object.is:Pk,Ak=Jo.useState,kk=Jo.useEffect,bk=Jo.useLayoutEffect,Dk=Jo.useDebugValue;function Ok(t,e){var n=e(),r=Ak({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return bk(function(){i.value=n,i.getSnapshot=e,Rp(i)&&s({inst:i})},[t,n,e]),kk(function(){return Rp(i)&&s({inst:i}),t(function(){Rp(i)&&s({inst:i})})},[t]),Dk(n),n}function Rp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rk(t,n)}catch{return!0}}function Nk(t,e){return e()}var jk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nk:Ok;P3.useSyncExternalStore=Jo.useSyncExternalStore!==void 0?Jo.useSyncExternalStore:jk;C3.exports=P3;var Lk=C3.exports,R3={exports:{}},A3={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=T,Mk=Lk;function Vk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uk=typeof Object.is=="function"?Object.is:Vk,Fk=Mk.useSyncExternalStore,$k=xd.useRef,Bk=xd.useEffect,zk=xd.useMemo,qk=xd.useDebugValue;A3.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=$k(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=zk(function(){function u(p){if(!l){if(l=!0,h=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,Uk(h,p))return m;var y=r(p);return i!==void 0&&i(m,y)?m:(h=p,d=y)}var l=!1,h,d,f=n===void 0?null:n;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,n,r,i]);var a=Fk(t,s[0],s[1]);return Bk(function(){o.hasValue=!0,o.value=a},[a]),qk(a),a};R3.exports=A3;var Hk=R3.exports;function Wk(t){t()}let k3=Wk;const Qk=t=>k3=t,Kk=()=>k3,S_=Symbol.for("react-redux-context"),I_=typeof globalThis<"u"?globalThis:{};function Gk(){var t;if(!T.createContext)return{};const e=(t=I_[S_])!=null?t:I_[S_]=new Map;let n=e.get(T.createContext);return n||(n=T.createContext(null),e.set(T.createContext,n)),n}const Wi=Gk();function tv(t=Wi){return function(){return T.useContext(t)}}const b3=tv(),Yk=()=>{throw new Error("uSES not initialized!")};let D3=Yk;const Xk=t=>{D3=t},Jk=(t,e)=>t===e;function Zk(t=Wi){const e=t===Wi?b3:tv(t);return function(r,i={}){const{equalityFn:s=Jk,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:h,stabilityCheck:d,noopCheck:f}=e();T.useRef(!0);const p=T.useCallback({[r.name](y){return r(y)}}[r.name],[r,d,o]),m=D3(l.addNestedSub,u.getState,h||u.getState,p,s);return T.useDebugValue(m),m}}const eb=Zk();function Re(){return Re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Re.apply(this,arguments)}var O3={exports:{}},Oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=typeof Symbol=="function"&&Symbol.for,nv=Rt?Symbol.for("react.element"):60103,rv=Rt?Symbol.for("react.portal"):60106,Cd=Rt?Symbol.for("react.fragment"):60107,Pd=Rt?Symbol.for("react.strict_mode"):60108,Rd=Rt?Symbol.for("react.profiler"):60114,Ad=Rt?Symbol.for("react.provider"):60109,kd=Rt?Symbol.for("react.context"):60110,iv=Rt?Symbol.for("react.async_mode"):60111,bd=Rt?Symbol.for("react.concurrent_mode"):60111,Dd=Rt?Symbol.for("react.forward_ref"):60112,Od=Rt?Symbol.for("react.suspense"):60113,tb=Rt?Symbol.for("react.suspense_list"):60120,Nd=Rt?Symbol.for("react.memo"):60115,jd=Rt?Symbol.for("react.lazy"):60116,nb=Rt?Symbol.for("react.block"):60121,rb=Rt?Symbol.for("react.fundamental"):60117,ib=Rt?Symbol.for("react.responder"):60118,sb=Rt?Symbol.for("react.scope"):60119;function An(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case nv:switch(t=t.type,t){case iv:case bd:case Cd:case Rd:case Pd:case Od:return t;default:switch(t=t&&t.$$typeof,t){case kd:case Dd:case jd:case Nd:case Ad:return t;default:return e}}case rv:return e}}}function N3(t){return An(t)===bd}Oe.AsyncMode=iv;Oe.ConcurrentMode=bd;Oe.ContextConsumer=kd;Oe.ContextProvider=Ad;Oe.Element=nv;Oe.ForwardRef=Dd;Oe.Fragment=Cd;Oe.Lazy=jd;Oe.Memo=Nd;Oe.Portal=rv;Oe.Profiler=Rd;Oe.StrictMode=Pd;Oe.Suspense=Od;Oe.isAsyncMode=function(t){return N3(t)||An(t)===iv};Oe.isConcurrentMode=N3;Oe.isContextConsumer=function(t){return An(t)===kd};Oe.isContextProvider=function(t){return An(t)===Ad};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===nv};Oe.isForwardRef=function(t){return An(t)===Dd};Oe.isFragment=function(t){return An(t)===Cd};Oe.isLazy=function(t){return An(t)===jd};Oe.isMemo=function(t){return An(t)===Nd};Oe.isPortal=function(t){return An(t)===rv};Oe.isProfiler=function(t){return An(t)===Rd};Oe.isStrictMode=function(t){return An(t)===Pd};Oe.isSuspense=function(t){return An(t)===Od};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Cd||t===bd||t===Rd||t===Pd||t===Od||t===tb||typeof t=="object"&&t!==null&&(t.$$typeof===jd||t.$$typeof===Nd||t.$$typeof===Ad||t.$$typeof===kd||t.$$typeof===Dd||t.$$typeof===rb||t.$$typeof===ib||t.$$typeof===sb||t.$$typeof===nb)};Oe.typeOf=An;O3.exports=Oe;var ob=O3.exports,j3=ob,ab={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ub={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L3={};L3[j3.ForwardRef]=ab;L3[j3.Memo]=ub;var Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=Symbol.for("react.element"),ov=Symbol.for("react.portal"),Ld=Symbol.for("react.fragment"),Md=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),Ud=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),lb=Symbol.for("react.server_context"),$d=Symbol.for("react.forward_ref"),Bd=Symbol.for("react.suspense"),zd=Symbol.for("react.suspense_list"),qd=Symbol.for("react.memo"),Hd=Symbol.for("react.lazy"),cb=Symbol.for("react.offscreen"),M3;M3=Symbol.for("react.module.reference");function Un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sv:switch(t=t.type,t){case Ld:case Vd:case Md:case Bd:case zd:return t;default:switch(t=t&&t.$$typeof,t){case lb:case Fd:case $d:case Hd:case qd:case Ud:return t;default:return e}}case ov:return e}}}Le.ContextConsumer=Fd;Le.ContextProvider=Ud;Le.Element=sv;Le.ForwardRef=$d;Le.Fragment=Ld;Le.Lazy=Hd;Le.Memo=qd;Le.Portal=ov;Le.Profiler=Vd;Le.StrictMode=Md;Le.Suspense=Bd;Le.SuspenseList=zd;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return Un(t)===Fd};Le.isContextProvider=function(t){return Un(t)===Ud};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sv};Le.isForwardRef=function(t){return Un(t)===$d};Le.isFragment=function(t){return Un(t)===Ld};Le.isLazy=function(t){return Un(t)===Hd};Le.isMemo=function(t){return Un(t)===qd};Le.isPortal=function(t){return Un(t)===ov};Le.isProfiler=function(t){return Un(t)===Vd};Le.isStrictMode=function(t){return Un(t)===Md};Le.isSuspense=function(t){return Un(t)===Bd};Le.isSuspenseList=function(t){return Un(t)===zd};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ld||t===Vd||t===Md||t===Bd||t===zd||t===cb||typeof t=="object"&&t!==null&&(t.$$typeof===Hd||t.$$typeof===qd||t.$$typeof===Ud||t.$$typeof===Fd||t.$$typeof===$d||t.$$typeof===M3||t.getModuleId!==void 0)};Le.typeOf=Un;function hb(){const t=Kk();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const x_={notify(){},get:()=>[]};function db(t,e){let n,r=x_,i=0,s=!1;function o(y){h();const E=r.subscribe(y);let _=!1;return()=>{_||(_=!0,E(),d())}}function a(){r.notify()}function u(){m.onStateChange&&m.onStateChange()}function l(){return s}function h(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=hb())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=x_)}function f(){s||(s=!0,h())}function p(){s&&(s=!1,d())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return m}const fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pb=fb?T.useLayoutEffect:T.useEffect;function mb({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=T.useMemo(()=>{const l=db(t);return{store:t,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=T.useMemo(()=>t.getState(),[t]);pb(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=e||Wi;return T.createElement(u.Provider,{value:o},n)}function V3(t=Wi){const e=t===Wi?b3:tv(t);return function(){const{store:r}=e();return r}}const gb=V3();function yb(t=Wi){const e=t===Wi?gb:V3(t);return function(){return e().dispatch}}const vb=yb();Xk(Hk.useSyncExternalStoreWithSelector);Qk(ev.unstable_batchedUpdates);function Nc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nc=function(n){return typeof n}:Nc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nc(t)}function _b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wb(t,e,n){return e&&C_(t.prototype,e),n&&C_(t,n),t}function Eb(t,e){return e&&(Nc(e)==="object"||typeof e=="function")?e:jc(t)}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function jc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ug(t,e)}function ug(t,e){return ug=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ug(t,e)}function Lc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U3=function(t){Tb(e,t);function e(){var n,r;_b(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Eb(this,(n=ag(e)).call.apply(n,[this].concat(s))),Lc(jc(r),"state",{bootstrapped:!1}),Lc(jc(r),"_unsubscribe",void 0),Lc(jc(r),"handlePersistorState",function(){var a=r.props.persistor,u=a.getState(),l=u.bootstrapped;l&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return wb(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);Lc(U3,"defaultProps",{children:null,loading:null});function Kn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Qi(t){return!!t&&!!t[Ke]}function Gr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===bb}(t)||Array.isArray(t)||!!t[O_]||!!(!((e=t.constructor)===null||e===void 0)&&e[O_])||av(t)||uv(t))}function Ls(t,e,n){n===void 0&&(n=!1),ma(t)===0?(n?Object.keys:jo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function ma(t){var e=t[Ke];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:av(t)?2:uv(t)?3:0}function No(t,e){return ma(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Sb(t,e){return ma(t)===2?t.get(e):t[e]}function F3(t,e,n){var r=ma(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $3(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function av(t){return Ab&&t instanceof Map}function uv(t){return kb&&t instanceof Set}function ms(t){return t.o||t.t}function lv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=z3(t);delete e[Ke];for(var n=jo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function cv(t,e){return e===void 0&&(e=!1),hv(t)||Qi(t)||!Gr(t)||(ma(t)>1&&(t.set=t.add=t.clear=t.delete=Ib),Object.freeze(t),e&&Ls(t,function(n,r){return cv(r,!0)},!0)),t}function Ib(){Kn(2)}function hv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function mr(t){var e=dg[t];return e||Kn(18,t),e}function xb(t,e){dg[t]||(dg[t]=e)}function lg(){return Vu}function Ap(t,e){e&&(mr("Patches"),t.u=[],t.s=[],t.v=e)}function Th(t){cg(t),t.p.forEach(Cb),t.p=null}function cg(t){t===Vu&&(Vu=t.l)}function P_(t){return Vu={p:[],l:Vu,h:t,m:!0,_:0}}function Cb(t){var e=t[Ke];e.i===0||e.i===1?e.j():e.g=!0}function kp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||mr("ES5").S(e,t,r),r?(n[Ke].P&&(Th(e),Kn(4)),Gr(t)&&(t=Sh(e,t),e.l||Ih(e,t)),e.u&&mr("Patches").M(n[Ke].t,t,e.u,e.s)):t=Sh(e,n,[]),Th(e),e.u&&e.v(e.u,e.s),t!==B3?t:void 0}function Sh(t,e,n){if(hv(e))return e;var r=e[Ke];if(!r)return Ls(e,function(a,u){return R_(t,r,e,a,u,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ih(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=lv(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ls(s,function(a,u){return R_(t,r,i,a,u,n,o)}),Ih(t,i,!1),n&&t.u&&mr("Patches").N(r,n,t.u,t.s)}return r.o}function R_(t,e,n,r,i,s,o){if(Qi(i)){var a=Sh(t,i,s&&e&&e.i!==3&&!No(e.R,r)?s.concat(r):void 0);if(F3(n,r,a),!Qi(a))return;t.m=!1}else o&&n.add(i);if(Gr(i)&&!hv(i)){if(!t.h.D&&t._<1)return;Sh(t,i),e&&e.A.l||Ih(t,i)}}function Ih(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&cv(e,n)}function bp(t,e){var n=t[Ke];return(n?ms(n):t)[e]}function A_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ei(t){t.P||(t.P=!0,t.l&&Ei(t.l))}function Dp(t){t.o||(t.o=lv(t.t))}function hg(t,e,n){var r=av(e)?mr("MapSet").F(e,n):uv(e)?mr("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:lg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Uu;o&&(u=[a],l=Ya);var h=Proxy.revocable(u,l),d=h.revoke,f=h.proxy;return a.k=f,a.j=d,f}(e,n):mr("ES5").J(e,n);return(n?n.A:lg()).p.push(r),r}function Pb(t){return Qi(t)||Kn(22,t),function e(n){if(!Gr(n))return n;var r,i=n[Ke],s=ma(n);if(i){if(!i.P&&(i.i<4||!mr("ES5").K(i)))return i.t;i.I=!0,r=k_(n,s),i.I=!1}else r=k_(n,s);return Ls(r,function(o,a){i&&Sb(i.t,o)===a||F3(r,o,e(a))}),s===3?new Set(r):r}(t)}function k_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return lv(t)}function Rb(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[Ke];return Uu.get(u,s)},set:function(u){var l=this[Ke];Uu.set(l,s,u)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Ke];if(!a.P)switch(a.i){case 5:r(a)&&Ei(a);break;case 4:n(a)&&Ei(a)}}}function n(s){for(var o=s.t,a=s.k,u=jo(a),l=u.length-1;l>=0;l--){var h=u[l];if(h!==Ke){var d=o[h];if(d===void 0&&!No(o,h))return!0;var f=a[h],p=f&&f[Ke];if(p?p.t!==d:!$3(f,d))return!0}}var m=!!o[Ke];return u.length!==jo(o).length+(m?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};xb("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(h,d){if(h){for(var f=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var m=z3(d);delete m[Ke];for(var y=jo(m),E=0;E<y.length;E++){var _=y[E];m[_]=t(_,h||!!m[_].enumerable)}return Object.create(Object.getPrototypeOf(d),m)}(a,s),l={i:a?5:4,A:o?o.A:lg(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,Ke,{value:l,writable:!0}),u},S:function(s,o,a){a?Qi(o)&&o[Ke].A===s&&e(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var h=l[Ke];if(h){var d=h.t,f=h.k,p=h.R,m=h.i;if(m===4)Ls(f,function(w){w!==Ke&&(d[w]!==void 0||No(d,w)?p[w]||u(f[w]):(p[w]=!0,Ei(h)))}),Ls(d,function(w){f[w]!==void 0||No(f,w)||(p[w]=!1,Ei(h))});else if(m===5){if(r(h)&&(Ei(h),p.length=!0),f.length<d.length)for(var y=f.length;y<d.length;y++)p[y]=!1;else for(var E=d.length;E<f.length;E++)p[E]=!0;for(var _=Math.min(f.length,d.length),g=0;g<_;g++)f.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&u(f[g])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var b_,Vu,dv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ab=typeof Map<"u",kb=typeof Set<"u",D_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",B3=dv?Symbol.for("immer-nothing"):((b_={})["immer-nothing"]=!0,b_),O_=dv?Symbol.for("immer-draftable"):"__$immer_draftable",Ke=dv?Symbol.for("immer-state"):"__$immer_state",bb=""+Object.prototype.constructor,jo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,z3=Object.getOwnPropertyDescriptors||function(t){var e={};return jo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},dg={},Uu={get:function(t,e){if(e===Ke)return t;var n=ms(t);if(!No(n,e))return function(i,s,o){var a,u=A_(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Gr(r)?r:r===bp(t.t,e)?(Dp(t),t.o[e]=hg(t.A.h,r,t)):r},has:function(t,e){return e in ms(t)},ownKeys:function(t){return Reflect.ownKeys(ms(t))},set:function(t,e,n){var r=A_(ms(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=bp(ms(t),e),s=i==null?void 0:i[Ke];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if($3(n,i)&&(n!==void 0||No(t.t,e)))return!0;Dp(t),Ei(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return bp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Dp(t),Ei(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ms(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Kn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Kn(12)}},Ya={};Ls(Uu,function(t,e){Ya[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ya.deleteProperty=function(t,e){return Ya.set.call(this,t,e,void 0)},Ya.set=function(t,e,n){return Uu.set.call(this,t[0],e,n,t[0])};var Db=function(){function t(n){var r=this;this.O=D_,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(y){var E=this;y===void 0&&(y=a);for(var _=arguments.length,g=Array(_>1?_-1:0),w=1;w<_;w++)g[w-1]=arguments[w];return u.produce(y,function(v){var I;return(I=s).call.apply(I,[E,v].concat(g))})}}var l;if(typeof s!="function"&&Kn(6),o!==void 0&&typeof o!="function"&&Kn(7),Gr(i)){var h=P_(r),d=hg(r,i,void 0),f=!0;try{l=s(d),f=!1}finally{f?Th(h):cg(h)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(y){return Ap(h,o),kp(y,h)},function(y){throw Th(h),y}):(Ap(h,o),kp(l,h))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===B3&&(l=void 0),r.D&&cv(l,!0),o){var p=[],m=[];mr("Patches").M(i,l,p,m),o(p,m)}return l}Kn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var h=arguments.length,d=Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];return r.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(d))})};var o,a,u=r.produce(i,s,function(l,h){o=l,a=h});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Gr(n)||Kn(8),Qi(n)&&(n=Pb(n));var r=P_(this),i=hg(this,n,void 0);return i[Ke].C=!0,cg(r),i},e.finishDraft=function(n,r){var i=n&&n[Ke],s=i.A;return Ap(s,r),kp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!D_&&Kn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=mr("Patches").$;return Qi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),xn=new Db,q3=xn.produce;xn.produceWithPatches.bind(xn);xn.setAutoFreeze.bind(xn);xn.setUseProxies.bind(xn);xn.applyPatches.bind(xn);xn.createDraft.bind(xn);xn.finishDraft.bind(xn);function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function Ob(t,e){if(Fu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nb(t){var e=Ob(t,"string");return Fu(e)==="symbol"?e:String(e)}function jb(t,e,n){return e=Nb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(n),!0).forEach(function(r){jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var L_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Op=function(){return Math.random().toString(36).substring(7).split("").join(".")},xh={INIT:"@@redux/INIT"+Op(),REPLACE:"@@redux/REPLACE"+Op(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Op()}};function Lb(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function fv(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zt(1));return n(fv)(t,e)}if(typeof t!="function")throw new Error(zt(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function h(){if(u)throw new Error(zt(3));return s}function d(y){if(typeof y!="function")throw new Error(zt(4));if(u)throw new Error(zt(5));var E=!0;return l(),a.push(y),function(){if(E){if(u)throw new Error(zt(6));E=!1,l();var g=a.indexOf(y);a.splice(g,1),o=null}}}function f(y){if(!Lb(y))throw new Error(zt(7));if(typeof y.type>"u")throw new Error(zt(8));if(u)throw new Error(zt(9));try{u=!0,s=i(s,y)}finally{u=!1}for(var E=o=a,_=0;_<E.length;_++){var g=E[_];g()}return y}function p(y){if(typeof y!="function")throw new Error(zt(10));i=y,f({type:xh.REPLACE})}function m(){var y,E=d;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(zt(11));function w(){g.next&&g.next(h())}w();var v=E(w);return{unsubscribe:v}}},y[L_]=function(){return this},y}return f({type:xh.INIT}),r={dispatch:f,subscribe:d,getState:h,replaceReducer:p},r[L_]=m,r}function Mb(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:xh.INIT});if(typeof r>"u")throw new Error(zt(12));if(typeof n(void 0,{type:xh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function H3(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{Mb(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var h=!1,d={},f=0;f<s.length;f++){var p=s[f],m=n[p],y=u[p],E=m(y,l);if(typeof E>"u")throw l&&l.type,new Error(zt(14));d[p]=E,h=h||E!==y}return h=h||s.length!==Object.keys(u).length,h?d:u}}function Ch(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Vb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(zt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(u){return u(o)});return s=Ch.apply(void 0,a)(i.dispatch),j_(j_({},i),{},{dispatch:s})}}}function W3(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var Q3=W3();Q3.withExtraArgument=W3;const fg=Q3;var K3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ub=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return u([l,h])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(h){l=[6,h],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Zo=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Fb=Object.defineProperty,$b=Object.defineProperties,Bb=Object.getOwnPropertyDescriptors,M_=Object.getOwnPropertySymbols,zb=Object.prototype.hasOwnProperty,qb=Object.prototype.propertyIsEnumerable,V_=function(t,e,n){return e in t?Fb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ui=function(t,e){for(var n in e||(e={}))zb.call(e,n)&&V_(t,n,e[n]);if(M_)for(var r=0,i=M_(e);r<i.length;r++){var n=i[r];qb.call(e,n)&&V_(t,n,e[n])}return t},Np=function(t,e){return $b(t,Bb(e))},Hb=function(t,e,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(t,e)).next())})},Wb=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ch:Ch.apply(null,arguments)};function Qb(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function Fi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ui(Ui({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var Kb=function(t){K3(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Zo([void 0],n[0].concat(this)))):new(e.bind.apply(e,Zo([void 0],n.concat(this))))},e}(Array),Gb=function(t){K3(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Zo([void 0],n[0].concat(this)))):new(e.bind.apply(e,Zo([void 0],n.concat(this))))},e}(Array);function pg(t){return Gr(t)?q3(t,function(){}):t}function Yb(t){return typeof t=="boolean"}function Xb(){return function(e){return Jb(e)}}function Jb(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new Kb;return n&&(Yb(n)?r.push(fg):r.push(fg.withExtraArgument(n.extraArgument))),r}var Zb=!0;function e2(t){var e=Xb(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,h=l===void 0?void 0:l,d=n.enhancers,f=d===void 0?void 0:d,p;if(typeof i=="function")p=i;else if(Qb(i))p=H3(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=o;typeof m=="function"&&(m=m(e));var y=Vb.apply(void 0,m),E=Ch;u&&(E=Wb(Ui({trace:!Zb},typeof u=="object"&&u)));var _=new Gb(y),g=_;Array.isArray(f)?g=Zo([y],f):typeof f=="function"&&(g=f(_));var w=E.apply(void 0,g);return fv(p,h,w)}function G3(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function t2(t){return typeof t=="function"}function n2(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?G3(e):[e,n,r],s=i[0],o=i[1],a=i[2],u;if(t2(t))u=function(){return pg(t())};else{var l=pg(t);u=function(){return l}}function h(d,f){d===void 0&&(d=u());var p=Zo([s[f.type]],o.filter(function(m){var y=m.matcher;return y(f)}).map(function(m){var y=m.reducer;return y}));return p.filter(function(m){return!!m}).length===0&&(p=[a]),p.reduce(function(m,y){if(y)if(Qi(m)){var E=m,_=y(E,f);return _===void 0?m:_}else{if(Gr(m))return q3(m,function(g){return y(g,f)});var _=y(m,f);if(_===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}return m},d)}return h.getInitialState=u,h}function r2(t,e){return t+"/"+e}function pv(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:pg(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(h){var d=r[h],f=r2(e,h),p,m;"reducer"in d?(p=d.reducer,m=d.prepare):p=d,s[h]=p,o[f]=p,a[h]=m?Fi(f,m):Fi(f)});function u(){var h=typeof t.extraReducers=="function"?G3(t.extraReducers):[t.extraReducers],d=h[0],f=d===void 0?{}:d,p=h[1],m=p===void 0?[]:p,y=h[2],E=y===void 0?void 0:y,_=Ui(Ui({},f),o);return n2(n,function(g){for(var w in _)g.addCase(w,_[w]);for(var v=0,I=m;v<I.length;v++){var C=I[v];g.addMatcher(C.matcher,C.reducer)}E&&g.addDefaultCase(E)})}var l;return{name:e,reducer:function(h,d){return l||(l=u()),l(h,d)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var i2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",s2=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=i2[Math.random()*64|0];return e},o2=["name","message","stack","code"],jp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),U_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),a2=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=o2;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Fi(e+"/fulfilled",function(l,h,d,f){return{payload:l,meta:Np(Ui({},f||{}),{arg:d,requestId:h,requestStatus:"fulfilled"})}}),s=Fi(e+"/pending",function(l,h,d){return{payload:void 0,meta:Np(Ui({},d||{}),{arg:h,requestId:l,requestStatus:"pending"})}}),o=Fi(e+"/rejected",function(l,h,d,f,p){return{payload:f,error:(r&&r.serializeError||a2)(l||"Rejected"),meta:Np(Ui({},p||{}),{arg:d,requestId:h,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(h,d,f){var p=r!=null&&r.idGenerator?r.idGenerator(l):s2(),m=new a,y;function E(g){y=g,m.abort()}var _=function(){return Hb(this,null,function(){var g,w,v,I,C,R,O;return Ub(this,function(U){switch(U.label){case 0:return U.trys.push([0,4,,5]),I=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,l,{getState:d,extra:f}),l2(I)?[4,I]:[3,2];case 1:I=U.sent(),U.label=2;case 2:if(I===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return C=new Promise(function(L,oe){return m.signal.addEventListener("abort",function(){return oe({name:"AbortError",message:y||"Aborted"})})}),h(s(p,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:p,arg:l},{getState:d,extra:f}))),[4,Promise.race([C,Promise.resolve(n(l,{dispatch:h,getState:d,extra:f,requestId:p,signal:m.signal,abort:E,rejectWithValue:function(L,oe){return new jp(L,oe)},fulfillWithValue:function(L,oe){return new U_(L,oe)}})).then(function(L){if(L instanceof jp)throw L;return L instanceof U_?i(L.payload,p,l,L.meta):i(L,p,l)})])];case 3:return v=U.sent(),[3,5];case 4:return R=U.sent(),v=R instanceof jp?o(null,p,l,R.payload,R.meta):o(R,p,l),[3,5];case 5:return O=r&&!r.dispatchConditionRejection&&o.match(v)&&v.meta.condition,O||h(v),[2,v]}})})}();return Object.assign(_,{abort:E,requestId:p,arg:l,unwrap:function(){return _.then(u2)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function u2(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function l2(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var mv="listenerMiddleware";Fi(mv+"/add");Fi(mv+"/removeAll");Fi(mv+"/remove");var F_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Rb();var gv="persist:",Y3="persist/FLUSH",yv="persist/REHYDRATE",X3="persist/PAUSE",J3="persist/PERSIST",Z3="persist/PURGE",eI="persist/REGISTER",c2=-1;function Mc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mc=function(n){return typeof n}:Mc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mc(t)}function $_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(n,!0).forEach(function(r){d2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2(t,e,n,r){r.debug;var i=h2({},n);return t&&Mc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function p2(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:gv).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(I){return I}:typeof t.serialize=="function"?a=t.serialize:a=m2;var u=t.writeFailHandler||null,l={},h={},d=[],f=null,p=null,m=function(I){Object.keys(I).forEach(function(C){_(C)&&l[C]!==I[C]&&d.indexOf(C)===-1&&d.push(C)}),Object.keys(l).forEach(function(C){I[C]===void 0&&_(C)&&d.indexOf(C)===-1&&l[C]!==void 0&&d.push(C)}),f===null&&(f=setInterval(y,i)),l=I};function y(){if(d.length===0){f&&clearInterval(f),f=null;return}var v=d.shift(),I=r.reduce(function(C,R){return R.in(C,v,l)},l[v]);if(I!==void 0)try{h[v]=a(I)}catch(C){console.error("redux-persist/createPersistoid: error serializing state",C)}else delete h[v];d.length===0&&E()}function E(){Object.keys(h).forEach(function(v){l[v]===void 0&&delete h[v]}),p=o.setItem(s,a(h)).catch(g)}function _(v){return!(n&&n.indexOf(v)===-1&&v!=="_persist"||e&&e.indexOf(v)!==-1)}function g(v){u&&u(v)}var w=function(){for(;d.length!==0;)y();return p||Promise.resolve()};return{update:m,flush:w}}function m2(t){return JSON.stringify(t)}function g2(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:gv).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=y2,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(u){o[u]=e.reduceRight(function(l,h){return h.out(l,u,a)},i(a[u]))}),o}catch(u){throw u}else return})}function y2(t){return JSON.parse(t)}function v2(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:gv).concat(t.key);return e.removeItem(n,_2)}function _2(t){}function B_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(n,!0).forEach(function(r){w2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2(t,e){if(t==null)return{};var n=T2(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var S2=5e3;function I2(t,e){var n=t.version!==void 0?t.version:c2;t.debug;var r=t.stateReconciler===void 0?f2:t.stateReconciler,i=t.getStoredState||g2,s=t.timeout!==void 0?t.timeout:S2,o=null,a=!1,u=!0,l=function(d){return d._persist.rehydrated&&o&&!u&&o.update(d),d};return function(h,d){var f=h||{},p=f._persist,m=E2(f,["_persist"]),y=m;if(d.type===J3){var E=!1,_=function(O,U){E||(d.rehydrate(t.key,O,U),E=!0)};if(s&&setTimeout(function(){!E&&_(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),u=!1,o||(o=p2(t)),p)return kr({},e(y,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(R){var O=t.migrate||function(U,L){return Promise.resolve(U)};O(R,n).then(function(U){_(U)},function(U){_(void 0,U)})},function(R){_(void 0,R)}),kr({},e(y,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===Z3)return a=!0,d.result(v2(t)),kr({},e(y,d),{_persist:p});if(d.type===Y3)return d.result(o&&o.flush()),kr({},e(y,d),{_persist:p});if(d.type===X3)u=!0;else if(d.type===yv){if(a)return kr({},y,{_persist:kr({},p,{rehydrated:!0})});if(d.key===t.key){var g=e(y,d),w=d.payload,v=r!==!1&&w!==void 0?r(w,h,g,t):g,I=kr({},v,{_persist:kr({},p,{rehydrated:!0})});return l(I)}}}if(!p)return e(h,d);var C=e(y,d);return C===y?h:l(kr({},C,{_persist:p}))}}function z_(t){return P2(t)||C2(t)||x2()}function x2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function C2(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function P2(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(n,!0).forEach(function(r){R2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tI={registry:[],bootstrapped:!1},A2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tI,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case eI:return mg({},e,{registry:[].concat(z_(e.registry),[n.key])});case yv:var r=e.registry.indexOf(n.key),i=z_(e.registry);return i.splice(r,1),mg({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function k2(t,e,n){var r=n||!1,i=fv(A2,tI,e&&e.enhancer?e.enhancer:void 0),s=function(l){i.dispatch({type:eI,key:l})},o=function(l,h,d){var f={type:yv,payload:h,err:d,key:l};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=mg({},i,{purge:function(){var l=[];return t.dispatch({type:Z3,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:Y3,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){t.dispatch({type:X3})},persist:function(){t.dispatch({type:J3,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var vv={},_v={};_v.__esModule=!0;_v.default=O2;function Vc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vc=function(n){return typeof n}:Vc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vc(t)}function Lp(){}var b2={getItem:Lp,setItem:Lp,removeItem:Lp};function D2(t){if((typeof self>"u"?"undefined":Vc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function O2(t){var e="".concat(t,"Storage");return D2(e)?self[e]:b2}vv.__esModule=!0;vv.default=L2;var N2=j2(_v);function j2(t){return t&&t.__esModule?t:{default:t}}function L2(t){var e=(0,N2.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var nI=void 0,M2=V2(vv);function V2(t){return t&&t.__esModule?t:{default:t}}var U2=(0,M2.default)("local");nI=U2;const F2=()=>({value:!1}),$2=F2(),rI=pv({name:"theme",initialState:$2,reducers:{setTheme:t=>(t.value=!t.value,t)}}),{setTheme:B2}=rI.actions,z2=()=>({userId:"",username:"",biography:"",profilePictureURL:"",followers:[],following:[],posts:[],savedPosts:[],sharedPosts:[],blockedUsers:[],notifications:[],viewedNotifications:!1,accountCreated:""}),q2=z2(),iI=pv({name:"userPersonalData",initialState:q2,reducers:{setUserId:(t,e)=>(t.userId=e.payload,t),setUsername:(t,e)=>(t.username=e.payload,t),setBiography:(t,e)=>(t.biography=e.payload,t),setProfilePictureURL:(t,e)=>(t.profilePictureURL=e.payload,t),setFollowers:(t,e)=>(t.followers=e.payload,t),setFollowing:(t,e)=>(t.following=e.payload,t),setPosts:(t,e)=>(t.posts=e.payload,t),setSavedPosts:(t,e)=>(t.savedPosts=e.payload,t),setSharedPosts:(t,e)=>(t.sharedPosts=e.payload,t),setBlockedUsers:(t,e)=>(t.blockedUsers=e.payload,t),setNotifications:(t,e)=>(t.notifications=e.payload,t),setViewedNotifications:(t,e)=>(t.viewedNotifications=e.payload,t),setAccountCreated:(t,e)=>(t.accountCreated=e.payload,t)}}),{setUserId:H_,setUsername:W_,setBiography:Q_,setProfilePictureURL:K_,setFollowers:G_,setFollowing:Y_,setPosts:H2,setSavedPosts:X_,setSharedPosts:J_,setBlockedUsers:Z_,setNotifications:ew,setViewedNotifications:tw,setAccountCreated:nw}=iI.actions,W2=()=>({mobileHomeNavbarVisibility:!1}),Q2=W2(),sI=pv({name:"userInterface",initialState:Q2,reducers:{setMobileHomeNavbarVisibility:t=>(t.mobileHomeNavbarVisibility=!t.mobileHomeNavbarVisibility,t)}}),{setMobileHomeNavbarVisibility:K2}=sI.actions,G2=H3({theme:rI.reducer,userInterface:sI.reducer,userPersonalData:iI.reducer}),Y2={key:"root",storage:nI,whitelist:["theme"]},X2=I2(Y2,G2),oI=e2({reducer:X2,middleware:[fg]}),J2=k2(oI);function gg(t,e){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gg(t,e)}function ga(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gg(t,e)}var ya=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),Ph=typeof window>"u";function qt(){}function Z2(t,e){return typeof t=="function"?t(e):t}function yg(t){return typeof t=="number"&&t>=0&&t!==1/0}function Rh(t){return Array.isArray(t)?t:[t]}function rw(t,e){return t.filter(function(n){return e.indexOf(n)===-1})}function eD(t,e,n){var r=t.slice(0);return r[e]=n,r}function aI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Uc(t,e,n){return Wd(t)?typeof e=="function"?Re({},n,{queryKey:t,queryFn:e}):Re({},e,{queryKey:t}):t}function vi(t,e,n){return Wd(t)?[Re({},e,{queryKey:t}),n]:[t||{},e]}function tD(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function iw(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,u=t.stale;if(Wd(a)){if(r){if(e.queryHash!==wv(a,e.options))return!1}else if(!Ah(e.queryKey,a))return!1}var l=tD(n,s);if(l==="none")return!1;if(l!=="all"){var h=e.isActive();if(l==="active"&&!h||l==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function sw(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(Wd(s)){if(!e.options.mutationKey)return!1;if(n){if(ws(e.options.mutationKey)!==ws(s))return!1}else if(!Ah(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function wv(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||ws;return n(t)}function ws(t){var e=Rh(t);return nD(e)}function nD(t){return JSON.stringify(t,function(e,n){return vg(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Ah(t,e){return uI(Rh(t),Rh(e))}function uI(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!uI(t[n],e[n])}):!1}function kh(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||vg(t)&&vg(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,u=0;u<s;u++){var l=n?u:i[u];o[l]=kh(t[l],e[l]),o[l]===t[l]&&a++}return r===s&&a===r?t:o}return e}function rD(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function vg(t){if(!ow(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!ow(n)||!n.hasOwnProperty("isPrototypeOf"))}function ow(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wd(t){return typeof t=="string"||Array.isArray(t)}function iD(t){return new Promise(function(e){setTimeout(e,t)})}function aw(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function lI(){if(typeof AbortController=="function")return new AbortController}var sD=function(t){ga(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Ph&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(ya),hu=new sD,oD=function(t){ga(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Ph&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(ya),Fc=new oD;function aD(t){return Math.min(1e3*Math.pow(2,t),3e4)}function bh(t){return typeof(t==null?void 0:t.cancel)=="function"}var cI=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function $c(t){return t instanceof cI}var hI=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(f){return i==null?void 0:i(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,p){o=f,a=p});var u=function(p){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(p),s==null||s(),o(p))},l=function(p){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(p),s==null||s(),a(p))},h=function(){return new Promise(function(p){s=p,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},d=function f(){if(!n.isResolved){var p;try{p=e.fn()}catch(m){p=Promise.reject(m)}i=function(y){if(!n.isResolved&&(l(new cI(y)),n.abort==null||n.abort(),bh(p)))try{p.cancel()}catch{}},n.isTransportCancelable=bh(p),Promise.resolve(p).then(u).catch(function(m){var y,E;if(!n.isResolved){var _=(y=e.retry)!=null?y:3,g=(E=e.retryDelay)!=null?E:aD,w=typeof g=="function"?g(n.failureCount,m):g,v=_===!0||typeof _=="number"&&n.failureCount<_||typeof _=="function"&&_(n.failureCount,m);if(r||!v){l(m);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,m),iD(w).then(function(){if(!hu.isFocused()||!Fc.isOnline())return h()}).then(function(){r?l(m):f()})}})}};d()},uD=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):aw(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&aw(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),$e=new uD,dI=console;function Dh(){return dI}function lD(t){dI=t}var cD=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=Re({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),yg(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,u=Z2(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,u)?u=a:this.options.structuralSharing!==!1&&(u=kh(a,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),u},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(qt).catch(qt):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!aI(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var h=this.observers.find(function(g){return g.options.queryFn});h&&this.setOptions(h.options)}var d=Rh(this.queryKey),f=lI(),p={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(f)return s.abortSignalConsumed=!0,f.signal}});var m=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(p)):Promise.reject("Missing queryFn")},y={fetchOptions:i,options:this.options,queryKey:d,state:this.state,fetchFn:m,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var E;(E=this.options.behavior)==null||E.onFetch(y)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=y.fetchOptions)==null?void 0:a.meta)){var _;this.dispatch({type:"fetch",meta:(_=y.fetchOptions)==null?void 0:_.meta})}return this.retryer=new hI({fn:y.fetchFn,abort:f==null||(u=f.abort)==null?void 0:u.bind(f),onSuccess:function(w){s.setData(w),s.cache.config.onSuccess==null||s.cache.config.onSuccess(w,s),s.cacheTime===0&&s.optionalRemove()},onError:function(w){$c(w)&&w.silent||s.dispatch({type:"error",error:w}),$c(w)||(s.cache.config.onError==null||s.cache.config.onError(w,s),Dh().error(w)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),$e.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return Re({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Re({},r,{isPaused:!0});case"continue":return Re({},r,{isPaused:!1});case"fetch":return Re({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Re({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return $c(a)&&a.revert&&this.revertState?Re({},this.revertState):Re({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Re({},r,{isInvalidated:!0});case"setState":return Re({},r,i.state);default:return r}},t}(),hD=function(t){ga(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,u=s.queryKey,l=(a=s.queryHash)!=null?a:wv(u,s),h=this.get(l);return h||(h=new cD({cache:this,queryKey:u,queryHash:l,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(u),meta:s.meta}),this.add(h)),h},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;$e.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=vi(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(u){return iw(a,u)})},n.findAll=function(i,s){var o=vi(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(u){return iw(a,u)}):this.queries},n.notify=function(i){var s=this;$e.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;$e.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;$e.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(ya),dD=function(){function t(n){this.options=Re({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||fD(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(qt).catch(qt)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Dh().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new hI({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=pD(this.state,r),$e.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function fD(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function pD(t,e){switch(e.type){case"failed":return Re({},t,{failureCount:t.failureCount+1});case"pause":return Re({},t,{isPaused:!0});case"continue":return Re({},t,{isPaused:!1});case"loading":return Re({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Re({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Re({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Re({},t,e.state);default:return t}}var mD=function(t){ga(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new dD({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;$e.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return sw(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return sw(i,s)})},n.notify=function(i){var s=this;$e.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return $e.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(qt)})},Promise.resolve())})},e}(ya);function gD(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,u=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,l=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,h=l==null?void 0:l.pageParam,d=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",p=((o=e.state.data)==null?void 0:o.pages)||[],m=((a=e.state.data)==null?void 0:a.pageParams)||[],y=lI(),E=y==null?void 0:y.signal,_=m,g=!1,w=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},v=function(me,ae,Se,Ne){return _=Ne?[ae].concat(_):[].concat(_,[ae]),Ne?[Se].concat(me):[].concat(me,[Se])},I=function(me,ae,Se,Ne){if(g)return Promise.reject("Cancelled");if(typeof Se>"u"&&!ae&&me.length)return Promise.resolve(me);var M={queryKey:e.queryKey,signal:E,pageParam:Se,meta:e.meta},q=w(M),Y=Promise.resolve(q).then(function(Ce){return v(me,Se,Ce,Ne)});if(bh(q)){var ye=Y;ye.cancel=q.cancel}return Y},C;if(!p.length)C=I([]);else if(d){var R=typeof h<"u",O=R?h:uw(e.options,p);C=I(p,R,O)}else if(f){var U=typeof h<"u",L=U?h:yD(e.options,p);C=I(p,U,L,!0)}else(function(){_=[];var J=typeof e.options.getNextPageParam>"u",me=u&&p[0]?u(p[0],0,p):!0;C=me?I([],J,m[0]):Promise.resolve(v([],m[0],p[0]));for(var ae=function(M){C=C.then(function(q){var Y=u&&p[M]?u(p[M],M,p):!0;if(Y){var ye=J?m[M]:uw(e.options,q);return I(q,J,ye)}return Promise.resolve(v(q,m[M],p[M]))})},Se=1;Se<p.length;Se++)ae(Se)})();var oe=C.then(function(J){return{pages:J,pageParams:_}}),X=oe;return X.cancel=function(){g=!0,y==null||y.abort(),bh(C)&&C.cancel()},oe}}}}function uw(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function yD(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var vD=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new hD,this.mutationCache=n.mutationCache||new mD,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=hu.subscribe(function(){hu.isFocused()&&Fc.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Fc.subscribe(function(){hu.isFocused()&&Fc.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=vi(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(Re({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=Uc(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return $e.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var u=a.queryKey;return[u,o.setQueryData(u,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=vi(r,i),o=s[0],a=this.queryCache;$e.batch(function(){a.findAll(o).forEach(function(u){a.remove(u)})})},e.resetQueries=function(r,i,s){var o=this,a=vi(r,i,s),u=a[0],l=a[1],h=this.queryCache,d=Re({},u,{active:!0});return $e.batch(function(){return h.findAll(u).forEach(function(f){f.reset()}),o.refetchQueries(d,l)})},e.cancelQueries=function(r,i,s){var o=this,a=vi(r,i,s),u=a[0],l=a[1],h=l===void 0?{}:l;typeof h.revert>"u"&&(h.revert=!0);var d=$e.batch(function(){return o.queryCache.findAll(u).map(function(f){return f.cancel(h)})});return Promise.all(d).then(qt).catch(qt)},e.invalidateQueries=function(r,i,s){var o,a,u,l=this,h=vi(r,i,s),d=h[0],f=h[1],p=Re({},d,{active:(o=(a=d.refetchActive)!=null?a:d.active)!=null?o:!0,inactive:(u=d.refetchInactive)!=null?u:!1});return $e.batch(function(){return l.queryCache.findAll(d).forEach(function(m){m.invalidate()}),l.refetchQueries(p,f)})},e.refetchQueries=function(r,i,s){var o=this,a=vi(r,i,s),u=a[0],l=a[1],h=$e.batch(function(){return o.queryCache.findAll(u).map(function(f){return f.fetch(void 0,Re({},l,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),d=Promise.all(h).then(qt);return l!=null&&l.throwOnError||(d=d.catch(qt)),d},e.fetchQuery=function(r,i,s){var o=Uc(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var u=this.queryCache.build(this,a);return u.isStaleByTime(a.staleTime)?u.fetch(a):Promise.resolve(u.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(qt).catch(qt)},e.fetchInfiniteQuery=function(r,i,s){var o=Uc(r,i,s);return o.behavior=gD(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(qt).catch(qt)},e.cancelMutations=function(){var r=this,i=$e.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(qt).catch(qt)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return ws(r)===ws(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return Ah(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return ws(r)===ws(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return Ah(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Re({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=wv(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Re({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),fI=function(t){ga(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),lw(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return _g(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return _g(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var u=this.hasListeners();u&&cw(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),u&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();u&&(this.currentQuery!==a||this.options.enabled!==o.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},u=function(h){o.trackedProps.includes(h)||o.trackedProps.push(h)};return Object.keys(i).forEach(function(l){Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:function(){return u(l),i[l]}})}),(s.useErrorBoundary||s.suspense)&&u("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var u=s.subscribe(function(l){l.isFetching||(u(),l.isError&&(i!=null&&i.throwOnError)?a(l.error):o(l))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(Re({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(qt)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Ph||this.currentResult.isStale||!yg(this.options.staleTime))){var s=aI(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Ph||this.options.enabled===!1||!yg(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||hu.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,u=this.currentResult,l=this.currentResultState,h=this.currentResultOptions,d=i!==o,f=d?i.state:this.currentQueryInitialState,p=d?this.currentResult:this.previousQueryResult,m=i.state,y=m.dataUpdatedAt,E=m.error,_=m.errorUpdatedAt,g=m.isFetching,w=m.status,v=!1,I=!1,C;if(s.optimisticResults){var R=this.hasListeners(),O=!R&&lw(i,s),U=R&&cw(i,o,s,a);(O||U)&&(g=!0,y||(w="loading"))}if(s.keepPreviousData&&!m.dataUpdateCount&&(p!=null&&p.isSuccess)&&w!=="error")C=p.data,y=p.dataUpdatedAt,w=p.status,v=!0;else if(s.select&&typeof m.data<"u")if(u&&m.data===(l==null?void 0:l.data)&&s.select===this.selectFn)C=this.selectResult;else try{this.selectFn=s.select,C=s.select(m.data),s.structuralSharing!==!1&&(C=kh(u==null?void 0:u.data,C)),this.selectResult=C,this.selectError=null}catch(X){Dh().error(X),this.selectError=X}else C=m.data;if(typeof s.placeholderData<"u"&&typeof C>"u"&&(w==="loading"||w==="idle")){var L;if(u!=null&&u.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))L=u.data;else if(L=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof L<"u")try{L=s.select(L),s.structuralSharing!==!1&&(L=kh(u==null?void 0:u.data,L)),this.selectError=null}catch(X){Dh().error(X),this.selectError=X}typeof L<"u"&&(w="success",C=L,I=!0)}this.selectError&&(E=this.selectError,C=this.selectResult,_=Date.now(),w="error");var oe={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:C,dataUpdatedAt:y,error:E,errorUpdatedAt:_,failureCount:m.fetchFailureCount,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:g,isRefetching:g&&w!=="loading",isLoadingError:w==="error"&&m.dataUpdatedAt===0,isPlaceholderData:I,isPreviousData:v,isRefetchError:w==="error"&&m.dataUpdatedAt!==0,isStale:Ev(i,s),refetch:this.refetch,remove:this.remove};return oe},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,u=o.notifyOnChangePropsExclusions;if(!a&&!u||a==="tracked"&&!this.trackedProps.length)return!0;var l=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(h){var d=h,f=i[d]!==s[d],p=l==null?void 0:l.some(function(y){return y===h}),m=u==null?void 0:u.some(function(y){return y===h});return f&&!m&&(!l||p)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!rD(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(Re({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!$c(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;$e.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(ya);function _D(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function lw(t,e){return _D(t,e)||t.state.dataUpdatedAt>0&&_g(t,e,e.refetchOnMount)}function _g(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ev(t,e)}return!1}function cw(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Ev(t,n)}function Ev(t,e){return t.isStaleByTime(e.staleTime)}var wD=function(t){ga(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.queries=[],s.result=[],s.observers=[],s.observersMap={},i&&s.setQueries(i),s}var n=e.prototype;return n.onSubscribe=function(){var i=this;this.listeners.length===1&&this.observers.forEach(function(s){s.subscribe(function(o){i.onUpdate(s,o)})})},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.destroy=function(){this.listeners=[],this.observers.forEach(function(i){i.destroy()})},n.setQueries=function(i,s){this.queries=i,this.updateObservers(s)},n.getCurrentResult=function(){return this.result},n.getOptimisticResult=function(i){return this.findMatchingObservers(i).map(function(s){return s.observer.getOptimisticResult(s.defaultedQueryOptions)})},n.findMatchingObservers=function(i){var s=this,o=this.observers,a=i.map(function(m){return s.client.defaultQueryObserverOptions(m)}),u=a.flatMap(function(m){var y=o.find(function(E){return E.options.queryHash===m.queryHash});return y!=null?[{defaultedQueryOptions:m,observer:y}]:[]}),l=u.map(function(m){return m.defaultedQueryOptions.queryHash}),h=a.filter(function(m){return!l.includes(m.queryHash)}),d=o.filter(function(m){return!u.some(function(y){return y.observer===m})}),f=h.map(function(m,y){if(m.keepPreviousData){var E=d[y];if(E!==void 0)return{defaultedQueryOptions:m,observer:E}}return{defaultedQueryOptions:m,observer:s.getObserver(m)}}),p=function(y,E){return a.indexOf(y.defaultedQueryOptions)-a.indexOf(E.defaultedQueryOptions)};return u.concat(f).sort(p)},n.getObserver=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.observersMap[s.queryHash];return o??new fI(this.client,s)},n.updateObservers=function(i){var s=this;$e.batch(function(){var o=s.observers,a=s.findMatchingObservers(s.queries);a.forEach(function(f){return f.observer.setOptions(f.defaultedQueryOptions,i)});var u=a.map(function(f){return f.observer}),l=Object.fromEntries(u.map(function(f){return[f.options.queryHash,f]})),h=u.map(function(f){return f.getCurrentResult()}),d=u.some(function(f,p){return f!==o[p]});o.length===u.length&&!d||(s.observers=u,s.observersMap=l,s.result=h,s.hasListeners()&&(rw(o,u).forEach(function(f){f.destroy()}),rw(u,o).forEach(function(f){f.subscribe(function(p){s.onUpdate(f,p)})}),s.notify()))})},n.onUpdate=function(i,s){var o=this.observers.indexOf(i);o!==-1&&(this.result=eD(this.result,o,s),this.notify())},n.notify=function(){var i=this;$e.batch(function(){i.listeners.forEach(function(s){s(i.result)})})},e}(ya),ED=Ck.unstable_batchedUpdates;$e.setBatchNotifyFunction(ED);var TD=console;lD(TD);var hw=ke.createContext(void 0),pI=ke.createContext(!1);function mI(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=hw),window.ReactQueryClientContext):hw}var gI=function(){var e=ke.useContext(mI(ke.useContext(pI)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SD=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;ke.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=mI(i);return ke.createElement(pI.Provider,{value:i},ke.createElement(o.Provider,{value:n},s))};function ID(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var xD=ke.createContext(ID()),CD=function(){return ke.useContext(xD)};function PD(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function RD(t,e){var n=ke.useRef(!1),r=ke.useState(0),i=r[1],s=gI(),o=CD(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=$e.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=$e.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=$e.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var u=ke.useState(function(){return new e(s,a)}),l=u[0],h=l.getOptimisticResult(a);if(ke.useEffect(function(){n.current=!0,o.clearReset();var d=l.subscribe($e.batchCalls(function(){n.current&&i(function(f){return f+1})}));return l.updateResult(),function(){n.current=!1,d()}},[o,l]),ke.useEffect(function(){l.setOptions(a,{listeners:!1})},[a,l]),a.suspense&&h.isLoading)throw l.fetchOptimistic(a).then(function(d){var f=d.data;a.onSuccess==null||a.onSuccess(f),a.onSettled==null||a.onSettled(f,null)}).catch(function(d){o.clearReset(),a.onError==null||a.onError(d),a.onSettled==null||a.onSettled(void 0,d)});if(h.isError&&!o.isReset()&&!h.isFetching&&PD(a.suspense,a.useErrorBoundary,[h.error,l.getCurrentQuery()]))throw h.error;return a.notifyOnChangeProps==="tracked"&&(h=l.trackResult(h,a)),h}function cl(t,e,n){var r=Uc(t,e,n);return RD(r,fI)}function AD(t){var e=ke.useRef(!1),n=ke.useState(0),r=n[1],i=gI(),s=T.useMemo(function(){return t.map(function(l){var h=i.defaultQueryObserverOptions(l);return h.optimisticResults=!0,h})},[t,i]),o=ke.useState(function(){return new wD(i,s)}),a=o[0],u=a.getOptimisticResult(s);return ke.useEffect(function(){e.current=!0;var l=a.subscribe($e.batchCalls(function(){e.current&&r(function(h){return h+1})}));return function(){e.current=!1,l()}},[a]),ke.useEffect(function(){a.setQueries(s,{listeners:!1})},[s,a]),u}/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},it.apply(this,arguments)}var ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ct||(ct={}));const dw="popstate";function kD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $u("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vs(i)}return DD(e,n,null,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ms(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bD(){return Math.random().toString(36).substr(2,8)}function fw(t,e){return{usr:t.state,key:t.key,idx:e}}function $u(t,e,n,r){return n===void 0&&(n=null),it({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ni(e):e,{state:n,key:e&&e.key||r||bD()})}function Vs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ni(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ct.Pop,u=null,l=h();l==null&&(l=0,o.replaceState(it({},o.state,{idx:l}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=ct.Pop;let E=h(),_=E==null?null:E-l;l=E,u&&u({action:a,location:y.location,delta:_})}function f(E,_){a=ct.Push;let g=$u(y.location,E,_);n&&n(g,E),l=h()+1;let w=fw(g,l),v=y.createHref(g);try{o.pushState(w,"",v)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(v)}s&&u&&u({action:a,location:y.location,delta:1})}function p(E,_){a=ct.Replace;let g=$u(y.location,E,_);n&&n(g,E),l=h();let w=fw(g,l),v=y.createHref(g);o.replaceState(w,"",v),s&&u&&u({action:a,location:y.location,delta:0})}function m(E){let _=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof E=="string"?E:Vs(E);return ge(_,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,_)}let y={get action(){return a},get location(){return t(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(dw,d),u=E,()=>{i.removeEventListener(dw,d),u=null}},createHref(E){return e(i,E)},createURL:m,encodeLocation(E){let _=m(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(E){return o.go(E)}};return y}var ht;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ht||(ht={}));const OD=new Set(["lazy","caseSensitive","path","id","index","children"]);function ND(t){return t.index===!0}function wg(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),ge(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),ND(i)){let u=it({},i,e(i),{id:a});return r[a]=u,u}else{let u=it({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=wg(i.children,e,o,r)),u}})}function Io(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ni(e):e,i=Ki(r.pathname||"/",n);if(i==null)return null;let s=yI(t);LD(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=HD(s[a],QD(i));return o}function jD(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function yI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ge(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Br([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),yI(s.children,e,h,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:zD(l,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of vI(s.path))i(s,o,u)}),e}function vI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vI(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function LD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MD=/^:\w+$/,VD=3,UD=2,FD=1,$D=10,BD=-2,pw=t=>t==="*";function zD(t,e){let n=t.split("/"),r=n.length;return n.some(pw)&&(r+=BD),e&&(r+=UD),n.filter(i=>!pw(i)).reduce((i,s)=>i+(MD.test(s)?VD:s===""?FD:$D),r)}function qD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function HD(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",h=Eg({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!h)return null;Object.assign(r,h.params);let d=a.route;s.push({params:r,pathname:Br([i,h.pathname]),pathnameBase:XD(Br([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=Br([i,h.pathnameBase]))}return s}function Eg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?l[f]=void 0:l[f]=KD(m||"",f),l},{}),pathname:s,pathnameBase:o,pattern:t}}function WD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ms(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QD(t){try{return decodeURI(t)}catch(e){return Ms(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function KD(t,e){try{return decodeURIComponent(t)}catch(n){return Ms(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ni(t):t;return{pathname:n?n.startsWith("/")?n:YD(n,e):e,search:JD(r),hash:ZD(i)}}function YD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qd(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ni(t):(i=it({},t),ge(!i.pathname||!i.pathname.includes("?"),Mp("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),Mp("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),Mp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let u=GD(i,a),l=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||h)&&(u.pathname+="/"),u}const Br=t=>t.join("/").replace(/\/\/+/g,"/"),XD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Sv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function _I(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wI=["post","put","patch","delete"],eO=new Set(wI),tO=["get",...wI],nO=new Set(tO),rO=new Set([301,302,303,307,308]),iO=new Set([307,308]),Vp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ma={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},EI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),TI="remix-router-transitions";function aO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let x=t.detectErrorBoundary;i=A=>({hasErrorBoundary:x(A)})}else i=oO;let s={},o=wg(t.routes,i,void 0,s),a,u=t.basename||"/",l=it({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),h=null,d=new Set,f=null,p=null,m=null,y=t.hydrationData!=null,E=Io(o,t.history.location,u),_=null;if(E==null){let x=kn(404,{pathname:t.history.location.pathname}),{matches:A,route:D}=Tw(o);E=A,_={[D.id]:x}}let g=!E.some(x=>x.route.lazy)&&(!E.some(x=>x.route.loader)||t.hydrationData!=null),w,v={historyAction:t.history.action,location:t.history.location,matches:E,initialized:g,navigation:Vp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},I=ct.Pop,C=!1,R,O=!1,U=new Map,L=null,oe=!1,X=!1,J=[],me=[],ae=new Map,Se=0,Ne=-1,M=new Map,q=new Set,Y=new Map,ye=new Map,Ce=new Set,kt=new Map,vt=new Map,rr=!1;function $n(){if(h=t.history.listen(x=>{let{action:A,location:D,delta:z}=x;if(rr){rr=!1;return}Ms(vt.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Wl({currentLocation:v.location,nextLocation:D,historyAction:A});if(ne&&z!=null){rr=!0,t.history.go(z*-1),ci(ne,{state:"blocked",location:D,proceed(){ci(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),t.history.go(z)},reset(){let ie=new Map(v.blockers);ie.set(ne,Ma),We({blockers:ie})}});return}return Pr(A,D)}),n){vO(e,U);let x=()=>_O(e,U);e.addEventListener("pagehide",x),L=()=>e.removeEventListener("pagehide",x)}return v.initialized||Pr(ct.Pop,v.location),w}function ir(){h&&h(),L&&L(),d.clear(),R&&R.abort(),v.fetchers.forEach((x,A)=>V(A)),v.blockers.forEach((x,A)=>ro(A))}function $l(x){return d.add(x),()=>d.delete(x)}function We(x,A){v=it({},v,x);let D=[],z=[];l.v7_fetcherPersist&&v.fetchers.forEach((ne,ie)=>{ne.state==="idle"&&(Ce.has(ie)?z.push(ie):D.push(ie))}),d.forEach(ne=>ne(v,{deletedFetchers:z,unstable_viewTransitionOpts:A})),l.v7_fetcherPersist&&(D.forEach(ne=>v.fetchers.delete(ne)),z.forEach(ne=>V(ne)))}function li(x,A){var D,z;let ne=v.actionData!=null&&v.navigation.formMethod!=null&&Wn(v.navigation.formMethod)&&v.navigation.state==="loading"&&((D=x.state)==null?void 0:D._isRedirect)!==!0,ie;A.actionData?Object.keys(A.actionData).length>0?ie=A.actionData:ie=null:ne?ie=v.actionData:ie=null;let fe=A.loaderData?Ew(v.loaderData,A.loaderData,A.matches||[],A.errors):v.loaderData,se=v.blockers;se.size>0&&(se=new Map(se),se.forEach((Je,Ie)=>se.set(Ie,Ma)));let ee=C===!0||v.navigation.formMethod!=null&&Wn(v.navigation.formMethod)&&((z=x.state)==null?void 0:z._isRedirect)!==!0;a&&(o=a,a=void 0),oe||I===ct.Pop||(I===ct.Push?t.history.push(x,x.state):I===ct.Replace&&t.history.replace(x,x.state));let Me;if(I===ct.Pop){let Je=U.get(v.location.pathname);Je&&Je.has(x.pathname)?Me={currentLocation:v.location,nextLocation:x}:U.has(x.pathname)&&(Me={currentLocation:x,nextLocation:v.location})}else if(O){let Je=U.get(v.location.pathname);Je?Je.add(x.pathname):(Je=new Set([x.pathname]),U.set(v.location.pathname,Je)),Me={currentLocation:v.location,nextLocation:x}}We(it({},A,{actionData:ie,loaderData:fe,historyAction:I,location:x,initialized:!0,navigation:Vp,revalidation:"idle",restoreScrollPosition:d0(x,A.matches||v.matches),preventScrollReset:ee,blockers:se}),Me),I=ct.Pop,C=!1,O=!1,oe=!1,X=!1,J=[],me=[]}async function Bl(x,A){if(typeof x=="number"){t.history.go(x);return}let D=Tg(v.location,v.matches,u,l.v7_prependBasename,x,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:z,submission:ne,error:ie}=mw(l.v7_normalizeFormMethod,!1,D,A),fe=v.location,se=$u(v.location,z,A&&A.state);se=it({},se,t.history.encodeLocation(se));let ee=A&&A.replace!=null?A.replace:void 0,Me=ct.Push;ee===!0?Me=ct.Replace:ee===!1||ne!=null&&Wn(ne.formMethod)&&ne.formAction===v.location.pathname+v.location.search&&(Me=ct.Replace);let Je=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Ie=Wl({currentLocation:fe,nextLocation:se,historyAction:Me});if(Ie){ci(Ie,{state:"blocked",location:se,proceed(){ci(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Bl(x,A)},reset(){let Ve=new Map(v.blockers);Ve.set(Ie,Ma),We({blockers:Ve})}});return}return await Pr(Me,se,{submission:ne,pendingError:ie,preventScrollReset:Je,replace:A&&A.replace,enableViewTransition:A&&A.unstable_viewTransition})}function zl(){if(Q(),We({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){Pr(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}Pr(I||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function Pr(x,A,D){R&&R.abort(),R=null,I=x,oe=(D&&D.startUninterruptedRevalidation)===!0,X6(v.location,v.matches),C=(D&&D.preventScrollReset)===!0,O=(D&&D.enableViewTransition)===!0;let z=a||o,ne=D&&D.overrideNavigation,ie=Io(z,A,u);if(!ie){let Ve=kn(404,{pathname:A.pathname}),{matches:_t,route:hs}=Tw(z);io(),li(A,{matches:_t,loaderData:{},errors:{[hs.id]:Ve}});return}if(v.initialized&&!X&&dO(v.location,A)&&!(D&&D.submission&&Wn(D.submission.formMethod))){li(A,{matches:ie});return}R=new AbortController;let fe=Ua(t.history,A,R.signal,D&&D.submission),se,ee;if(D&&D.pendingError)ee={[du(ie).route.id]:D.pendingError};else if(D&&D.submission&&Wn(D.submission.formMethod)){let Ve=await ql(fe,A,D.submission,ie,{replace:D.replace});if(Ve.shortCircuited)return;se=Ve.pendingActionData,ee=Ve.pendingActionError,ne=Up(A,D.submission),fe=new Request(fe.url,{signal:fe.signal})}let{shortCircuited:Me,loaderData:Je,errors:Ie}=await Hl(fe,A,ie,ne,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,se,ee);Me||(R=null,li(A,it({matches:ie},se?{actionData:se}:{},{loaderData:Je,errors:Ie})))}async function ql(x,A,D,z,ne){ne===void 0&&(ne={}),Q();let ie=gO(A,D);We({navigation:ie});let fe,se=Ig(z,A);if(!se.route.action&&!se.route.lazy)fe={type:ht.error,error:kn(405,{method:x.method,pathname:A.pathname,routeId:se.route.id})};else if(fe=await Va("action",x,se,z,s,i,u),x.signal.aborted)return{shortCircuited:!0};if(Lo(fe)){let ee;return ne&&ne.replace!=null?ee=ne.replace:ee=fe.location===v.location.pathname+v.location.search,await P(v,fe,{submission:D,replace:ee}),{shortCircuited:!0}}if(fu(fe)){let ee=du(z,se.route.id);return(ne&&ne.replace)!==!0&&(I=ct.Push),{pendingActionData:{},pendingActionError:{[ee.route.id]:fe.error}}}if(Es(fe))throw kn(400,{type:"defer-action"});return{pendingActionData:{[se.route.id]:fe.data}}}async function Hl(x,A,D,z,ne,ie,fe,se,ee){let Me=z||Up(A,ne),Je=ne||ie||xw(Me),Ie=a||o,[Ve,_t]=gw(t.history,v,D,Je,A,X,J,me,Y,q,Ie,u,se,ee);if(io(je=>!(D&&D.some(Bn=>Bn.route.id===je))||Ve&&Ve.some(Bn=>Bn.route.id===je)),Ne=++Se,Ve.length===0&&_t.length===0){let je=cs();return li(A,it({matches:D,loaderData:{},errors:ee||null},se?{actionData:se}:{},je?{fetchers:new Map(v.fetchers)}:{})),{shortCircuited:!0}}if(!oe){_t.forEach(Bn=>{let di=v.fetchers.get(Bn.key),lt=Fa(void 0,di?di.data:void 0);v.fetchers.set(Bn.key,lt)});let je=se||v.actionData;We(it({navigation:Me},je?Object.keys(je).length===0?{actionData:null}:{actionData:je}:{},_t.length>0?{fetchers:new Map(v.fetchers)}:{}))}_t.forEach(je=>{ae.has(je.key)&&Ee(je.key),je.controller&&ae.set(je.key,je.controller)});let hs=()=>_t.forEach(je=>Ee(je.key));R&&R.signal.addEventListener("abort",hs);let{results:ds,loaderResults:Pa,fetcherResults:Jf}=await k(v.matches,D,Ve,_t,x);if(x.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",hs),_t.forEach(je=>ae.delete(je.key));let Ar=Sw(ds);if(Ar){if(Ar.idx>=Ve.length){let je=_t[Ar.idx-Ve.length].key;q.add(je)}return await P(v,Ar.result,{replace:fe}),{shortCircuited:!0}}let{loaderData:hi,errors:Ql}=ww(v,D,Ve,Pa,ee,_t,Jf,kt);kt.forEach((je,Bn)=>{je.subscribe(di=>{(di||je.done)&&kt.delete(Bn)})});let Zf=cs(),ep=Rr(Ne),tp=Zf||ep||_t.length>0;return it({loaderData:hi,errors:Ql},tp?{fetchers:new Map(v.fetchers)}:{})}function Gf(x){return l.v7_fetcherPersist&&(ye.set(x,(ye.get(x)||0)+1),Ce.has(x)&&Ce.delete(x)),v.fetchers.get(x)||sO}function c0(x,A,D,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ae.has(x)&&Ee(x);let ne=a||o,ie=Tg(v.location,v.matches,u,l.v7_prependBasename,D,A,z==null?void 0:z.relative),fe=Io(ne,ie,u);if(!fe){F(x,A,kn(404,{pathname:ie}));return}let{path:se,submission:ee,error:Me}=mw(l.v7_normalizeFormMethod,!0,ie,z);if(Me){F(x,A,Me);return}let Je=Ig(fe,se);if(C=(z&&z.preventScrollReset)===!0,ee&&Wn(ee.formMethod)){h0(x,A,se,Je,fe,ee);return}Y.set(x,{routeId:A,path:se}),S(x,A,se,Je,fe,ee)}async function h0(x,A,D,z,ne,ie){if(Q(),Y.delete(x),!z.route.action&&!z.route.lazy){let lt=kn(405,{method:ie.formMethod,pathname:D,routeId:A});F(x,A,lt);return}let fe=v.fetchers.get(x),se=yO(ie,fe);v.fetchers.set(x,se),We({fetchers:new Map(v.fetchers)});let ee=new AbortController,Me=Ua(t.history,D,ee.signal,ie);ae.set(x,ee);let Je=Se,Ie=await Va("action",Me,z,ne,s,i,u);if(Me.signal.aborted){ae.get(x)===ee&&ae.delete(x);return}if(Ce.has(x)){v.fetchers.set(x,mi(void 0)),We({fetchers:new Map(v.fetchers)});return}if(Lo(Ie))if(ae.delete(x),Ne>Je){let lt=mi(void 0);v.fetchers.set(x,lt),We({fetchers:new Map(v.fetchers)});return}else{q.add(x);let lt=Fa(ie);return v.fetchers.set(x,lt),We({fetchers:new Map(v.fetchers)}),P(v,Ie,{fetcherSubmission:ie})}if(fu(Ie)){F(x,A,Ie.error);return}if(Es(Ie))throw kn(400,{type:"defer-action"});let Ve=v.navigation.location||v.location,_t=Ua(t.history,Ve,ee.signal),hs=a||o,ds=v.navigation.state!=="idle"?Io(hs,v.navigation.location,u):v.matches;ge(ds,"Didn't find any matches after fetcher action");let Pa=++Se;M.set(x,Pa);let Jf=Fa(ie,Ie.data);v.fetchers.set(x,Jf);let[Ar,hi]=gw(t.history,v,ds,ie,Ve,X,J,me,Y,q,hs,u,{[z.route.id]:Ie.data},void 0);hi.filter(lt=>lt.key!==x).forEach(lt=>{let Ra=lt.key,f0=v.fetchers.get(Ra),Z6=Fa(void 0,f0?f0.data:void 0);v.fetchers.set(Ra,Z6),ae.has(Ra)&&Ee(Ra),lt.controller&&ae.set(Ra,lt.controller)}),We({fetchers:new Map(v.fetchers)});let Ql=()=>hi.forEach(lt=>Ee(lt.key));ee.signal.addEventListener("abort",Ql);let{results:Zf,loaderResults:ep,fetcherResults:tp}=await k(v.matches,ds,Ar,hi,_t);if(ee.signal.aborted)return;ee.signal.removeEventListener("abort",Ql),M.delete(x),ae.delete(x),hi.forEach(lt=>ae.delete(lt.key));let je=Sw(Zf);if(je){if(je.idx>=Ar.length){let lt=hi[je.idx-Ar.length].key;q.add(lt)}return P(v,je.result)}let{loaderData:Bn,errors:di}=ww(v,v.matches,Ar,ep,void 0,hi,tp,kt);if(v.fetchers.has(x)){let lt=mi(Ie.data);v.fetchers.set(x,lt)}Rr(Pa),v.navigation.state==="loading"&&Pa>Ne?(ge(I,"Expected pending action"),R&&R.abort(),li(v.navigation.location,{matches:ds,loaderData:Bn,errors:di,fetchers:new Map(v.fetchers)})):(We({errors:di,loaderData:Ew(v.loaderData,Bn,ds,di),fetchers:new Map(v.fetchers)}),X=!1)}async function S(x,A,D,z,ne,ie){let fe=v.fetchers.get(x),se=Fa(ie,fe?fe.data:void 0);v.fetchers.set(x,se),We({fetchers:new Map(v.fetchers)});let ee=new AbortController,Me=Ua(t.history,D,ee.signal);ae.set(x,ee);let Je=Se,Ie=await Va("loader",Me,z,ne,s,i,u);if(Es(Ie)&&(Ie=await xI(Ie,Me.signal,!0)||Ie),ae.get(x)===ee&&ae.delete(x),Me.signal.aborted)return;if(Ce.has(x)){v.fetchers.set(x,mi(void 0)),We({fetchers:new Map(v.fetchers)});return}if(Lo(Ie))if(Ne>Je){let _t=mi(void 0);v.fetchers.set(x,_t),We({fetchers:new Map(v.fetchers)});return}else{q.add(x),await P(v,Ie);return}if(fu(Ie)){F(x,A,Ie.error);return}ge(!Es(Ie),"Unhandled fetcher deferred data");let Ve=mi(Ie.data);v.fetchers.set(x,Ve),We({fetchers:new Map(v.fetchers)})}async function P(x,A,D){let{submission:z,fetcherSubmission:ne,replace:ie}=D===void 0?{}:D;A.revalidate&&(X=!0);let fe=$u(x.location,A.location,{_isRedirect:!0});if(ge(fe,"Expected a location on the redirect navigation"),n){let Ve=!1;if(A.reloadDocument)Ve=!0;else if(EI.test(A.location)){const _t=t.history.createURL(A.location);Ve=_t.origin!==e.location.origin||Ki(_t.pathname,u)==null}if(Ve){ie?e.location.replace(A.location):e.location.assign(A.location);return}}R=null;let se=ie===!0?ct.Replace:ct.Push,{formMethod:ee,formAction:Me,formEncType:Je}=x.navigation;!z&&!ne&&ee&&Me&&Je&&(z=xw(x.navigation));let Ie=z||ne;if(iO.has(A.status)&&Ie&&Wn(Ie.formMethod))await Pr(se,fe,{submission:it({},Ie,{formAction:A.location}),preventScrollReset:C});else{let Ve=Up(fe,z);await Pr(se,fe,{overrideNavigation:Ve,fetcherSubmission:ne,preventScrollReset:C})}}async function k(x,A,D,z,ne){let ie=await Promise.all([...D.map(ee=>Va("loader",ne,ee,A,s,i,u)),...z.map(ee=>ee.matches&&ee.match&&ee.controller?Va("loader",Ua(t.history,ee.path,ee.controller.signal),ee.match,ee.matches,s,i,u):{type:ht.error,error:kn(404,{pathname:ee.path})})]),fe=ie.slice(0,D.length),se=ie.slice(D.length);return await Promise.all([Iw(x,D,fe,fe.map(()=>ne.signal),!1,v.loaderData),Iw(x,z.map(ee=>ee.match),se,z.map(ee=>ee.controller?ee.controller.signal:null),!0)]),{results:ie,loaderResults:fe,fetcherResults:se}}function Q(){X=!0,J.push(...io()),Y.forEach((x,A)=>{ae.has(A)&&(me.push(A),Ee(A))})}function F(x,A,D){let z=du(v.matches,A);V(x),We({errors:{[z.route.id]:D},fetchers:new Map(v.fetchers)})}function V(x){let A=v.fetchers.get(x);ae.has(x)&&!(A&&A.state==="loading"&&M.has(x))&&Ee(x),Y.delete(x),M.delete(x),q.delete(x),Ce.delete(x),v.fetchers.delete(x)}function te(x){if(l.v7_fetcherPersist){let A=(ye.get(x)||0)-1;A<=0?(ye.delete(x),Ce.add(x)):ye.set(x,A)}else V(x);We({fetchers:new Map(v.fetchers)})}function Ee(x){let A=ae.get(x);ge(A,"Expected fetch controller: "+x),A.abort(),ae.delete(x)}function Xe(x){for(let A of x){let D=Gf(A),z=mi(D.data);v.fetchers.set(A,z)}}function cs(){let x=[],A=!1;for(let D of q){let z=v.fetchers.get(D);ge(z,"Expected fetcher: "+D),z.state==="loading"&&(q.delete(D),x.push(D),A=!0)}return Xe(x),A}function Rr(x){let A=[];for(let[D,z]of M)if(z<x){let ne=v.fetchers.get(D);ge(ne,"Expected fetcher: "+D),ne.state==="loading"&&(Ee(D),M.delete(D),A.push(D))}return Xe(A),A.length>0}function Yf(x,A){let D=v.blockers.get(x)||Ma;return vt.get(x)!==A&&vt.set(x,A),D}function ro(x){v.blockers.delete(x),vt.delete(x)}function ci(x,A){let D=v.blockers.get(x)||Ma;ge(D.state==="unblocked"&&A.state==="blocked"||D.state==="blocked"&&A.state==="blocked"||D.state==="blocked"&&A.state==="proceeding"||D.state==="blocked"&&A.state==="unblocked"||D.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+A.state);let z=new Map(v.blockers);z.set(x,A),We({blockers:z})}function Wl(x){let{currentLocation:A,nextLocation:D,historyAction:z}=x;if(vt.size===0)return;vt.size>1&&Ms(!1,"A router only supports one blocker at a time");let ne=Array.from(vt.entries()),[ie,fe]=ne[ne.length-1],se=v.blockers.get(ie);if(!(se&&se.state==="proceeding")&&fe({currentLocation:A,nextLocation:D,historyAction:z}))return ie}function io(x){let A=[];return kt.forEach((D,z)=>{(!x||x(z))&&(D.cancel(),A.push(z),kt.delete(z))}),A}function Xf(x,A,D){if(f=x,m=A,p=D||null,!y&&v.navigation===Vp){y=!0;let z=d0(v.location,v.matches);z!=null&&We({restoreScrollPosition:z})}return()=>{f=null,m=null,p=null}}function Ca(x,A){return p&&p(x,A.map(z=>jD(z,v.loaderData)))||x.key}function X6(x,A){if(f&&m){let D=Ca(x,A);f[D]=m()}}function d0(x,A){if(f){let D=Ca(x,A),z=f[D];if(typeof z=="number")return z}return null}function J6(x){s={},a=wg(x,i,void 0,s)}return w={get basename(){return u},get state(){return v},get routes(){return o},get window(){return e},initialize:$n,subscribe:$l,enableScrollRestoration:Xf,navigate:Bl,fetch:c0,revalidate:zl,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:Gf,deleteFetcher:te,dispose:ir,getBlocker:Yf,deleteBlocker:ro,_internalFetchControllers:ae,_internalActiveDeferreds:kt,_internalSetRoutes:J6},w}function uO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Tg(t,e,n,r,i,s,o){let a,u;if(s!=null&&o!=="path"){a=[];for(let h of e)if(a.push(h),h.route.id===s){u=h;break}}else a=e,u=e[e.length-1];let l=Tv(i||".",Qd(a).map(h=>h.pathnameBase),Ki(t.pathname,n)||t.pathname,o==="path");return i==null&&(l.search=t.search,l.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Iv(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(l.pathname=l.pathname==="/"?n:Br([n,l.pathname])),Vs(l)}function mw(t,e,n,r){if(!r||!uO(r))return{path:n};if(r.formMethod&&!mO(r.formMethod))return{path:n,error:kn(405,{method:r.formMethod})};let i=()=>({path:n,error:kn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=II(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Wn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[y,E]=m;return""+p+y+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Wn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ge(typeof FormData=="function","FormData is not available in this environment");let u,l;if(r.formData)u=Sg(r.formData),l=r.formData;else if(r.body instanceof FormData)u=Sg(r.body),l=r.body;else if(r.body instanceof URLSearchParams)u=r.body,l=_w(u);else if(r.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(r.body),l=_w(u)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Wn(h.formMethod))return{path:n,submission:h};let d=ni(n);return e&&d.search&&Iv(d.search)&&u.append("index",""),d.search="?"+u,{path:Vs(d),submission:h}}function lO(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function gw(t,e,n,r,i,s,o,a,u,l,h,d,f,p){let m=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,y=t.createURL(e.location),E=t.createURL(i),_=p?Object.keys(p)[0]:void 0,w=lO(n,_).filter((I,C)=>{if(I.route.lazy)return!0;if(I.route.loader==null)return!1;if(cO(e.loaderData,e.matches[C],I)||o.some(U=>U===I.route.id))return!0;let R=e.matches[C],O=I;return yw(I,it({currentUrl:y,currentParams:R.params,nextUrl:E,nextParams:O.params},r,{actionResult:m,defaultShouldRevalidate:s||y.pathname+y.search===E.pathname+E.search||y.search!==E.search||SI(R,O)}))}),v=[];return u.forEach((I,C)=>{if(!n.some(oe=>oe.route.id===I.routeId))return;let R=Io(h,I.path,d);if(!R){v.push({key:C,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(C),U=Ig(R,I.path),L=!1;l.has(C)?L=!1:a.includes(C)?L=!0:O&&O.state!=="idle"&&O.data===void 0?L=s:L=yw(U,it({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:s})),L&&v.push({key:C,routeId:I.routeId,path:I.path,matches:R,match:U,controller:new AbortController})}),[w,v]}function cO(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function SI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function yw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function vw(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ge(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Ms(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!OD.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,it({},e(i),{lazy:void 0}))}async function Va(t,e,n,r,i,s,o,a){a===void 0&&(a={});let u,l,h,d=m=>{let y,E=new Promise((_,g)=>y=g);return h=()=>y(),e.signal.addEventListener("abort",h),Promise.race([m({request:e,params:n.params,context:a.requestContext}),E])};try{let m=n.route[t];if(n.route.lazy)if(m){let y,E=await Promise.all([d(m).catch(_=>{y=_}),vw(n.route,s,i)]);if(y)throw y;l=E[0]}else if(await vw(n.route,s,i),m=n.route[t],m)l=await d(m);else if(t==="action"){let y=new URL(e.url),E=y.pathname+y.search;throw kn(405,{method:e.method,pathname:E,routeId:n.route.id})}else return{type:ht.data,data:void 0};else if(m)l=await d(m);else{let y=new URL(e.url),E=y.pathname+y.search;throw kn(404,{pathname:E})}ge(l!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){u=ht.error,l=m}finally{h&&e.signal.removeEventListener("abort",h)}if(pO(l)){let m=l.status;if(rO.has(m)){let _=l.headers.get("Location");if(ge(_,"Redirects returned/thrown from loaders/actions must have a Location header"),!EI.test(_))_=Tg(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,_);else if(!a.isStaticRequest){let g=new URL(e.url),w=_.startsWith("//")?new URL(g.protocol+_):new URL(_),v=Ki(w.pathname,o)!=null;w.origin===g.origin&&v&&(_=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw l.headers.set("Location",_),l;return{type:ht.redirect,status:m,location:_,revalidate:l.headers.get("X-Remix-Revalidate")!==null,reloadDocument:l.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:u===ht.error?ht.error:ht.data,response:l};let y,E=l.headers.get("Content-Type");return E&&/\bapplication\/json\b/.test(E)?y=await l.json():y=await l.text(),u===ht.error?{type:u,error:new Sv(m,l.statusText,y),headers:l.headers}:{type:ht.data,data:y,statusCode:l.status,headers:l.headers}}if(u===ht.error)return{type:u,error:l};if(fO(l)){var f,p;return{type:ht.deferred,deferredData:l,statusCode:(f=l.init)==null?void 0:f.status,headers:((p=l.init)==null?void 0:p.headers)&&new Headers(l.init.headers)}}return{type:ht.data,data:l}}function Ua(t,e,n,r){let i=t.createURL(II(e)).toString(),s={signal:n};if(r&&Wn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Sg(r.formData):s.body=r.formData}return new Request(i,s)}function Sg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function _w(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function hO(t,e,n,r,i){let s={},o=null,a,u=!1,l={};return n.forEach((h,d)=>{let f=e[d].route.id;if(ge(!Lo(h),"Cannot handle redirect results in processLoaderData"),fu(h)){let p=du(t,f),m=h.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=m),s[f]=void 0,u||(u=!0,a=_I(h.error)?h.error.status:500),h.headers&&(l[f]=h.headers)}else Es(h)?(i.set(f,h.deferredData),s[f]=h.deferredData.data):s[f]=h.data,h.statusCode!=null&&h.statusCode!==200&&!u&&(a=h.statusCode),h.headers&&(l[f]=h.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:l}}function ww(t,e,n,r,i,s,o,a){let{loaderData:u,errors:l}=hO(e,n,r,i,a);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:p}=s[h];ge(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let m=o[h];if(!(p&&p.signal.aborted))if(fu(m)){let y=du(t.matches,f==null?void 0:f.route.id);l&&l[y.route.id]||(l=it({},l,{[y.route.id]:m.error})),t.fetchers.delete(d)}else if(Lo(m))ge(!1,"Unhandled fetcher revalidation redirect");else if(Es(m))ge(!1,"Unhandled fetcher deferred data");else{let y=mi(m.data);t.fetchers.set(d,y)}}return{loaderData:u,errors:l}}function Ew(t,e,n,r){let i=it({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function du(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Tw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Sv(t||500,o,new Error(a),!0)}function Sw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Lo(n))return{result:n,idx:e}}}function II(t){let e=typeof t=="string"?ni(t):t;return Vs(it({},e,{hash:""}))}function dO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Es(t){return t.type===ht.deferred}function fu(t){return t.type===ht.error}function Lo(t){return(t&&t.type)===ht.redirect}function fO(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function pO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function mO(t){return nO.has(t.toLowerCase())}function Wn(t){return eO.has(t.toLowerCase())}async function Iw(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],u=e[o];if(!u)continue;let l=t.find(d=>d.route.id===u.route.id),h=l!=null&&!SI(l,u)&&(s&&s[u.route.id])!==void 0;if(Es(a)&&(i||h)){let d=r[o];ge(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await xI(a,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function xI(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ht.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ht.error,error:i}}return{type:ht.data,data:t.deferredData.data}}}function Iv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ig(t,e){let n=typeof e=="string"?ni(e).search:e.search;if(t[t.length-1].route.index&&Iv(n||""))return t[t.length-1];let r=Qd(t);return r[r.length-1]}function xw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Up(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yO(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function mi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function vO(t,e){try{let n=t.sessionStorage.getItem(TI);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function _O(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(TI,JSON.stringify(n))}catch(r){Ms(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(this,arguments)}const hl=T.createContext(null),xv=T.createContext(null),Gs=T.createContext(null),Kd=T.createContext(null),ri=T.createContext({outlet:null,matches:[],isDataRoute:!1}),CI=T.createContext(null);function wO(t,e){let{relative:n}=e===void 0?{}:e;dl()||ge(!1);let{basename:r,navigator:i}=T.useContext(Gs),{hash:s,pathname:o,search:a}=Yd(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Br([r,o])),i.createHref({pathname:u,search:a,hash:s})}function dl(){return T.useContext(Kd)!=null}function va(){return dl()||ge(!1),T.useContext(Kd).location}function PI(t){T.useContext(Gs).static||T.useLayoutEffect(t)}function Gd(){let{isDataRoute:t}=T.useContext(ri);return t?NO():EO()}function EO(){dl()||ge(!1);let t=T.useContext(hl),{basename:e,navigator:n}=T.useContext(Gs),{matches:r}=T.useContext(ri),{pathname:i}=va(),s=JSON.stringify(Qd(r).map(u=>u.pathnameBase)),o=T.useRef(!1);return PI(()=>{o.current=!0}),T.useCallback(function(u,l){if(l===void 0&&(l={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=Tv(u,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Br([e,h.pathname])),(l.replace?n.replace:n.push)(h,l.state,l)},[e,n,s,i,t])}const TO=T.createContext(null);function SO(t){let e=T.useContext(ri).outlet;return e&&T.createElement(TO.Provider,{value:t},e)}function RI(){let{matches:t}=T.useContext(ri),e=t[t.length-1];return e?e.params:{}}function Yd(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(ri),{pathname:i}=va(),s=JSON.stringify(Qd(r).map(o=>o.pathnameBase));return T.useMemo(()=>Tv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function IO(t,e,n){dl()||ge(!1);let{navigator:r}=T.useContext(Gs),{matches:i}=T.useContext(ri),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=va(),l;if(e){var h;let y=typeof e=="string"?ni(e):e;a==="/"||(h=y.pathname)!=null&&h.startsWith(a)||ge(!1),l=y}else l=u;let d=l.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=Io(t,{pathname:f}),m=AO(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Br([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Br([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&m?T.createElement(Kd.Provider,{value:{location:Oh({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:ct.Pop}},m):m}function xO(){let t=OO(),e=_I(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}const CO=T.createElement(xO,null);class PO extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(ri.Provider,{value:this.props.routeContext},T.createElement(CI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RO(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(hl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(ri.Provider,{value:e},r)}function AO(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));a>=0||ge(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,u,l)=>{let h=u.route.id?o==null?void 0:o[u.route.id]:null,d=null;n&&(d=u.route.errorElement||CO);let f=e.concat(s.slice(0,l+1)),p=()=>{let m;return h?m=d:u.route.Component?m=T.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=a,T.createElement(RO,{match:u,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?T.createElement(PO,{location:n.location,revalidation:n.revalidation,component:d,error:h,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var AI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AI||{}),Nh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nh||{});function kO(t){let e=T.useContext(hl);return e||ge(!1),e}function bO(t){let e=T.useContext(xv);return e||ge(!1),e}function DO(t){let e=T.useContext(ri);return e||ge(!1),e}function kI(t){let e=DO(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function OO(){var t;let e=T.useContext(CI),n=bO(Nh.UseRouteError),r=kI(Nh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function NO(){let{router:t}=kO(AI.UseNavigateStable),e=kI(Nh.UseNavigateStable),n=T.useRef(!1);return PI(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Oh({fromRouteId:e},s)))},[t,e])}function jO(t){return SO(t.context)}function LO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ct.Pop,navigator:s,static:o=!1}=t;dl()&&ge(!1);let a=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ni(r));let{pathname:l="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=T.useMemo(()=>{let y=Ki(l,a);return y==null?null:{location:{pathname:y,search:h,hash:d,state:f,key:p},navigationType:i}},[a,l,h,d,f,p,i]);return m==null?null:T.createElement(Gs.Provider,{value:u},T.createElement(Kd.Provider,{children:n,value:m}))}new Promise(()=>{});function MO(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}function bI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UO(t,e){return t.button===0&&(!e||e==="_self")&&!VO(t)}const FO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$O=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function BO(t,e){return aO({basename:e==null?void 0:e.basename,future:ea({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:kD({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||zO(),routes:t,mapRouteProperties:MO,window:e==null?void 0:e.window}).initialize()}function zO(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ea({},e,{errors:qO(e.errors)})),e}function qO(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Sv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const DI=T.createContext({isTransitioning:!1}),HO=T.createContext(new Map),WO="startTransition",Cw=gR[WO];function QO(t){Cw?Cw(t):t()}let KO=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function GO(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=T.useState(n.state),[o,a]=T.useState(),[u,l]=T.useState({isTransitioning:!1}),[h,d]=T.useState(),[f,p]=T.useState(),[m,y]=T.useState(),E=T.useRef(new Map),{v7_startTransition:_}=r||{},g=T.useCallback(R=>{_?QO(R):R()},[_]),w=T.useCallback((R,O)=>{let{deletedFetchers:U,unstable_viewTransitionOpts:L}=O;U.forEach(oe=>E.current.delete(oe)),R.fetchers.forEach((oe,X)=>{oe.data!==void 0&&E.current.set(X,oe.data)}),!L||n.window==null||typeof n.window.document.startViewTransition!="function"?g(()=>s(R)):f&&h?(h.resolve(),f.skipTransition(),y({state:R,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(R),l({isTransitioning:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,f,h,E,g]);T.useLayoutEffect(()=>n.subscribe(w),[n,w]),T.useEffect(()=>{u.isTransitioning&&d(new KO)},[u.isTransitioning]),T.useEffect(()=>{if(h&&o&&n.window){let R=o,O=h.promise,U=n.window.document.startViewTransition(async()=>{g(()=>s(R)),await O});U.finished.finally(()=>{d(void 0),p(void 0),a(void 0),l({isTransitioning:!1})}),p(U)}},[g,o,h,n.window]),T.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),T.useEffect(()=>{!u.isTransitioning&&m&&(a(m.state),l({isTransitioning:!0,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[u.isTransitioning,m]);let v=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,O,U)=>n.navigate(R,{state:O,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(R,O,U)=>n.navigate(R,{replace:!0,state:O,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),I=n.basename||"/",C=T.useMemo(()=>({router:n,navigator:v,static:!1,basename:I}),[n,v,I]);return T.createElement(T.Fragment,null,T.createElement(hl.Provider,{value:C},T.createElement(xv.Provider,{value:i},T.createElement(HO.Provider,{value:E.current},T.createElement(DI.Provider,{value:u},T.createElement(LO,{basename:I,location:i.location,navigationType:i.historyAction,navigator:v},i.initialized?T.createElement(YO,{routes:n.routes,state:i}):e))))),null)}function YO(t){let{routes:e,state:n}=t;return IO(e,void 0,n)}const XO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OI=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:h,unstable_viewTransition:d}=e,f=bI(e,FO),{basename:p}=T.useContext(Gs),m,y=!1;if(typeof l=="string"&&JO.test(l)&&(m=l,XO))try{let w=new URL(window.location.href),v=l.startsWith("//")?new URL(w.protocol+l):new URL(l),I=Ki(v.pathname,p);v.origin===w.origin&&I!=null?l=I+v.search+v.hash:y=!0}catch{}let E=wO(l,{relative:i}),_=e4(l,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:d});function g(w){r&&r(w),w.defaultPrevented||_(w)}return T.createElement("a",ea({},f,{href:m||E,onClick:y||s?r:g,ref:n,target:u}))}),NI=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:l,children:h}=e,d=bI(e,$O),f=Yd(u,{relative:d.relative}),p=va(),m=T.useContext(xv),{navigator:y}=T.useContext(Gs),E=m!=null&&t4(f)&&l===!0,_=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,g=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(g=g.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase());let v=g===_||!o&&g.startsWith(_)&&g.charAt(_.length)==="/",I=w!=null&&(w===_||!o&&w.startsWith(_)&&w.charAt(_.length)==="/"),C={isActive:v,isPending:I,isTransitioning:E},R=v?r:void 0,O;typeof s=="function"?O=s(C):O=[s,v?"active":null,I?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(C):a;return T.createElement(OI,ea({},d,{"aria-current":R,className:O,ref:n,style:U,to:u,unstable_viewTransition:l}),typeof h=="function"?h(C):h)});var xg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xg||(xg={}));var Pw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pw||(Pw={}));function ZO(t){let e=T.useContext(hl);return e||ge(!1),e}function e4(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Gd(),l=va(),h=Yd(t,{relative:o});return T.useCallback(d=>{if(UO(d,n)){d.preventDefault();let f=r!==void 0?r:Vs(l)===Vs(h);u(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,h,r,i,n,t,s,o,a])}function t4(t,e){e===void 0&&(e={});let n=T.useContext(DI);n==null&&ge(!1);let{basename:r}=ZO(xg.useViewTransitionState),i=Yd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Eg(i.pathname,o)!=null||Eg(i.pathname,s)!=null}const ve=T.createContext({theme:!1,mobileHomeNavbarVisibility:!1,changeTheme:()=>{},toggleMobileHomeNavbarVisibility:()=>{},signInWithGoogle:()=>{},signOutUser:()=>{},handlerUserAuth:()=>{},userId:"",username:"",biography:"",profilePictureURL:"",followers:[],following:[],posts:[],savedPosts:[],sharedPosts:[],blockedUsers:[],notifications:[],viewedNotifications:!1,accountCreated:"",changeUserId:()=>{},changeUsername:()=>{},changeBiography:()=>{},changeProfilePictureURL:()=>{},changeFollowers:()=>{},changeFollowing:()=>{},changePosts:()=>{},changeSavedPosts:()=>{},changeSharedPosts:()=>{},changeBlockedUsers:()=>{},changeNotifications:()=>{},changeViewedNotifications:()=>{},changeAccountCreated:()=>{},updateUserPersonalData:()=>{},createPost:()=>{},getPersonalData:()=>{},watchBlockedUsers:()=>{},watchPostLikes:()=>{},watchPostReports:()=>{},watchPostShares:()=>{},watchSavedPosts:()=>{}});const Fn=({children:t,id:e})=>{const n=["container"];return c.jsx("div",{className:n.join(" "),id:e,children:t})};const Fp=({children:t,minWidth:e,maxWidth:n})=>{const r=["breakpoint"];return e&&r.push(`min-width ${e}`),n&&r.push(`max-width ${n}`),c.jsx("div",{className:r.join(" "),children:t})};const Ys=({children:t,id:e})=>{const n=["navbar"];return n.push(e),c.jsx("nav",{className:n.join(" "),id:e,children:c.jsx("div",{children:t})})},n4="/assets/logo-5f79b3aa.svg";const Cv=({showText:t=!0,textColor:e})=>{const n=["logo"];return e&&n.push(`text-color-${e}`),c.jsxs("div",{className:n.join(" "),children:[c.jsx("img",{src:n4,alt:"logo"}),t&&c.jsx("span",{children:"Essencia"})]})};const ta=({children:t,stack:e})=>{const n=["button-group"];return e&&n.push(`stack-${e}`),c.jsx("div",{className:n.join(" "),children:t})};const Xd=({icon:t,navigateTo:e,bg:n,bgOpacity:r,tooltipMessage:i})=>{const s=["nav-round-button"];return n&&s.push(`bg-${n}`),r&&s.push(`opacity-${r}`),c.jsxs(NI,{className:s.join(" "),to:e,children:[t,i&&c.jsx("span",{className:"tooltip-message",children:i})]})},fl=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M7.66668 14C11.1645 14 14 11.1645 14 7.66667C14 4.16887 11.1645 1.33334 7.66668 1.33334C4.16887 1.33334 1.33334 4.16887 1.33334 7.66667C1.33334 11.1645 4.16887 14 7.66668 14Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M14.6667 14.6667L13.3333 13.3333",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),r4=()=>c.jsx(Xd,{icon:c.jsx(fl,{}),navigateTo:"/explore",bg:"white"}),Pv=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.01373 1.94011C5.80706 1.94011 4.01373 3.73344 4.01373 5.94011V7.86678C4.01373 8.27344 3.84039 8.89344 3.63373 9.24011L2.86706 10.5134C2.39373 11.3001 2.72039 12.1734 3.58706 12.4668C6.46039 13.4268 9.56039 13.4268 12.4337 12.4668C13.2404 12.2001 13.5937 11.2468 13.1537 10.5134L12.3871 9.24011C12.1871 8.89344 12.0137 8.27344 12.0137 7.86678V5.94011C12.0137 3.74011 10.2137 1.94011 8.01373 1.94011Z",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round"}),c.jsx("path",{d:"M9.24667 2.13333C9.04 2.07333 8.82667 2.02667 8.60667 2C7.96667 1.92 7.35333 1.96667 6.78 2.13333C6.97333 1.64 7.45333 1.29333 8.01333 1.29333C8.57333 1.29333 9.05333 1.64 9.24667 2.13333Z",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M10.013 12.7067C10.013 13.8067 9.11303 14.7067 8.01303 14.7067C7.46636 14.7067 6.9597 14.48 6.5997 14.12C6.2397 13.76 6.01303 13.2534 6.01303 12.7067",stroke:"#181818",strokeMiterlimit:10})]}),i4=()=>c.jsx(Xd,{icon:c.jsx(Pv,{}),navigateTo:"/notifications",bg:"white"});const Rv=({icon:t,onClick:e,tooltipMessage:n,bg:r,bgOpacity:i})=>{const s=["round-button"];return r&&s.push(`bg-${r}`),i&&s.push(`opacity-${i}`),c.jsxs("button",{className:s.join(" "),onClick:e,children:[t,n&&c.jsx("span",{className:"tooltip-message",children:n})]})},s4=()=>c.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2 4H14M2 8H14M2 12H14",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})}),Av=()=>c.jsx("svg",{width:10,height:10,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0.897908 16L0 15.1021L7.10209 8L0 0.897908L0.897908 0L8 7.10209L15.1021 0L16 0.897908L8.89791 8L16 15.1021L15.1021 16L8 8.89791L0.897908 16Z",fill:"#181818"})}),o4=()=>{const{mobileHomeNavbarVisibility:t,toggleMobileHomeNavbarVisibility:e}=T.useContext(ve),n=t?c.jsx(Av,{}):c.jsx(s4,{});return c.jsx(Rv,{icon:n,onClick:e,bg:"white"})};const a4=t=>{const[e,n]=T.useState(t),[r,i]=T.useState(0),[s,o]=T.useState(!1);return T.useEffect(()=>{if(t!=="")if(r<3&&!s){const a=new Image;a.src=t,a.onload=()=>{n(t)},a.onerror=()=>{i(u=>u+1)}}else o(!0)},[t,r,s]),{imageSrc:e,hasError:s}},jI=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8 6V9.33333",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M7.99964 14.2735H3.95964C1.64631 14.2735 0.67964 12.6202 1.79964 10.6002L3.87964 6.85352L5.83964 3.33352C7.02631 1.19352 8.97297 1.19352 10.1596 3.33352L12.1196 6.86018L14.1996 10.6068C15.3196 12.6268 14.3463 14.2802 12.0396 14.2802H7.99964V14.2735Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M7.99609 11.3333H8.00208",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]});const LI=({src:t,alt:e,id:n})=>{const r=["custom-image"],{imageSrc:i,hasError:s}=a4(t);return t===""&&r.push("skeleton"),s&&r.push("error"),c.jsx("div",{className:r.join(" "),id:n,children:t!==""&&s?c.jsx(jI,{}):c.jsx("img",{src:i,alt:e})})};const ii=({src:t,alt:e,navigateTo:n,onlineStatus:r})=>{const i=["status"];return r?i.push("online"):i.push("offline"),c.jsxs(OI,{to:`/profile/${n}`,children:[c.jsx(LI,{src:t,alt:e,id:"profile-picture"}),r!==void 0&&c.jsx("div",{className:i.join(" ")})]})},u4=()=>{const{userId:t,profilePictureURL:e,username:n}=T.useContext(ve);return c.jsxs(Ys,{id:"home",children:[c.jsx(Cv,{showText:!1}),c.jsxs(ta,{stack:"horizontal",children:[c.jsx(r4,{}),c.jsx(i4,{}),c.jsx(o4,{}),c.jsx(ii,{src:e,alt:n,navigateTo:t})]})]})};const si=({children:t,id:e})=>{const n=["main"];return c.jsx("main",{className:n.join(" "),id:e,children:c.jsx("div",{children:t})})};const l4=({children:t})=>c.jsx(si,{id:"home",children:t});const rs=({children:t,icon:e,navigateTo:n,unstyled:r,bg:i,bgOpacity:s,tooltipMessage:o,showNotificationDot:a})=>{const u=["nav-rectangle-button"];return e&&u.push("enabled-icon"),i&&u.push(`bg-${i}`),s&&u.push(`opacity-${s}`),r&&u.push("unstyled"),c.jsxs(NI,{className:u.join(" "),to:n,children:[!r&&e&&c.jsxs("div",{className:"icon-wrapper",children:[e," ",a&&c.jsx("div",{className:"dot"})]}),t,o&&c.jsx("span",{className:"tooltip-message",children:o})]})},c4=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M6.01334 1.89328L2.42001 4.69328C1.82001 5.15995 1.33334 6.15328 1.33334 6.90661V11.8466C1.33334 13.3933 2.59334 14.6599 4.14001 14.6599H11.86C13.4067 14.6599 14.6667 13.3933 14.6667 11.8533V6.99995C14.6667 6.19328 14.1267 5.15995 13.4667 4.69995L9.34668 1.81328C8.41334 1.15995 6.91334 1.19328 6.01334 1.89328Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M8 11.9933V9.99333",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),MI=()=>c.jsx(rs,{icon:c.jsx(c4,{}),navigateTo:"/",bg:"gray",bgOpacity:"40",children:"Inicio"}),VI=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M7.99999 8C9.84094 8 11.3333 6.50761 11.3333 4.66667C11.3333 2.82572 9.84094 1.33333 7.99999 1.33333C6.15904 1.33333 4.66666 2.82572 4.66666 4.66667C4.66666 6.50761 6.15904 8 7.99999 8Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M13.7267 14.6667C13.7267 12.0867 11.16 10 8.00001 10C4.84001 10 2.27335 12.0867 2.27335 14.6667",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),UI=({navigateTo:t})=>c.jsx(rs,{icon:c.jsx(VI,{}),navigateTo:`/profile/${t}`,bg:"gray",bgOpacity:"40",children:"Perfil"}),FI=()=>c.jsx(rs,{icon:c.jsx(fl,{}),navigateTo:"/search",bg:"gray",bgOpacity:"40",children:"Buscar"});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},BI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;u||(p=64,o||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($I(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new d4;const f=s<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),d!==64){const m=l<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f4=function(t){const e=$I(t);return BI.encodeByteArray(e,!0)},jh=function(t){return f4(t).replace(/\./g,"")},zI=function(t){try{return BI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=()=>p4().__FIREBASE_DEFAULTS__,g4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zI(t[1]);return e&&JSON.parse(e)},Jd=()=>{try{return m4()||g4()||y4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qI=t=>{var e,n;return(n=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HI=t=>{const e=qI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WI=()=>{var t;return(t=Jd())===null||t===void 0?void 0:t.config},QI=t=>{var e;return(e=Jd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jh(JSON.stringify(n)),jh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function w4(){var t;const e=(t=Jd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S4(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I4(){try{return typeof indexedDB=="object"}catch{return!1}}function x4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C4,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?P4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ir(i,a,r)}}function P4(t,e){return t.replace(R4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const R4=/\{\$([^}]+)}/g;function A4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Rw(s)&&Rw(o)){if(!Lh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function k4(t,e){const n=new b4(t,e);return n.subscribe.bind(n)}class b4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$p),i.error===void 0&&(i.error=$p),i.complete===void 0&&(i.complete=$p);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class Gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j4(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N4(t){return t===gs?void 0:t}function j4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const M4={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},V4=Te.INFO,U4={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},F4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=U4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=V4,this._logHandler=F4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const $4=(t,e)=>e.some(n=>t instanceof n);let Aw,kw;function B4(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z4(){return kw||(kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GI=new WeakMap,Cg=new WeakMap,YI=new WeakMap,Bp=new WeakMap,bv=new WeakMap;function q4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GI.set(n,t)}).catch(()=>{}),bv.set(e,t),e}function H4(t){if(Cg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cg.set(t,e)}let Pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W4(t){Pg=t(Pg)}function Q4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zp(this),e,...n);return YI.set(r,e.sort?e.sort():[e]),$i(r)}:z4().includes(t)?function(...e){return t.apply(zp(this),e),$i(GI.get(this))}:function(...e){return $i(t.apply(zp(this),e))}}function K4(t){return typeof t=="function"?Q4(t):(t instanceof IDBTransaction&&H4(t),$4(t,B4())?new Proxy(t,Pg):t)}function $i(t){if(t instanceof IDBRequest)return q4(t);if(Bp.has(t))return Bp.get(t);const e=K4(t);return e!==t&&(Bp.set(t,e),bv.set(e,t)),e}const zp=t=>bv.get(t);function G4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",u=>{r($i(o.result),u.oldVersion,u.newVersion,$i(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Y4=["get","getKey","getAll","getAllKeys","count"],X4=["put","add","delete","clear"],qp=new Map;function bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=X4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y4.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return qp.set(e,s),s}W4(t=>({...t,get:(e,n,r)=>bw(e,n)||t.get(e,n,r),has:(e,n)=>!!bw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rg="@firebase/app",Dw="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new kv("@firebase/app"),eN="@firebase/app-compat",tN="@firebase/analytics-compat",nN="@firebase/analytics",rN="@firebase/app-check-compat",iN="@firebase/app-check",sN="@firebase/auth",oN="@firebase/auth-compat",aN="@firebase/database",uN="@firebase/database-compat",lN="@firebase/functions",cN="@firebase/functions-compat",hN="@firebase/installations",dN="@firebase/installations-compat",fN="@firebase/messaging",pN="@firebase/messaging-compat",mN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",vN="@firebase/remote-config-compat",_N="@firebase/storage",wN="@firebase/storage-compat",EN="@firebase/firestore",TN="@firebase/firestore-compat",SN="firebase",IN="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",xN={[Rg]:"fire-core",[eN]:"fire-core-compat",[nN]:"fire-analytics",[tN]:"fire-analytics-compat",[iN]:"fire-app-check",[rN]:"fire-app-check-compat",[sN]:"fire-auth",[oN]:"fire-auth-compat",[aN]:"fire-rtdb",[uN]:"fire-rtdb-compat",[lN]:"fire-fn",[cN]:"fire-fn-compat",[hN]:"fire-iid",[dN]:"fire-iid-compat",[fN]:"fire-fcm",[pN]:"fire-fcm-compat",[mN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[vN]:"fire-rc-compat",[_N]:"fire-gcs",[wN]:"fire-gcs-compat",[EN]:"fire-fst",[TN]:"fire-fst-compat","fire-js":"fire-js",[SN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,kg=new Map;function CN(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(kg.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,t);for(const n of Mh.values())CN(n,t);return!0}function Zd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bi=new pl("app","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=IN;function XI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ag,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=WI()),!n)throw Bi.create("no-options");const s=Mh.get(i);if(s){if(Lh(n,s.options)&&Lh(r,s.config))return s;throw Bi.create("duplicate-app",{appName:i})}const o=new L4(i);for(const u of kg.values())o.addComponent(u);const a=new RN(n,r,o);return Mh.set(i,a),a}function Dv(t=Ag){const e=Mh.get(t);if(!e&&t===Ag&&WI())return XI();if(!e)throw Bi.create("no-app",{appName:t});return e}function gr(t,e,n){var r;let i=(r=xN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(a.join(" "));return}Fs(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="firebase-heartbeat-database",kN=1,Bu="firebase-heartbeat-store";let Hp=null;function JI(){return Hp||(Hp=G4(AN,kN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bu)}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),Hp}async function bN(t){try{return await(await JI()).transaction(Bu).objectStore(Bu).get(ZI(t))}catch(e){if(e instanceof Ir)Us.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function Ow(t,e){try{const r=(await JI()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(e,ZI(t)),await r.done}catch(n){if(n instanceof Ir)Us.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function ZI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1024,ON=30*24*60*60*1e3;class NN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Nw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=ON}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nw(),{heartbeatsToSend:r,unsentEntries:i}=jN(this._heartbeatsCache.heartbeats),s=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Nw(){return new Date().toISOString().substring(0,10)}function jN(t,e=DN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I4()?x4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await bN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jw(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){Fs(new Gi("platform-logger",e=>new J4(e),"PRIVATE")),Fs(new Gi("heartbeat",e=>new NN(e),"PRIVATE")),gr(Rg,Dw,t),gr(Rg,Dw,"esm2017"),gr("fire-js","")}MN("");var VN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,Ov=Ov||{},le=VN||self;function ef(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function UN(t){return Object.prototype.hasOwnProperty.call(t,Wp)&&t[Wp]||(t[Wp]=++FN)}var Wp="closure_uid_"+(1e9*Math.random()>>>0),FN=0;function $N(t,e,n){return t.call.apply(t.bind,arguments)}function BN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Kt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kt=$N:Kt=BN,Kt.apply(null,arguments)}function hc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function is(){this.s=this.s,this.o=this.o}var zN=0;is.prototype.s=!1;is.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),zN!=0)&&UN(this)};is.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ex=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Nv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Lw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ef(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var qN=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{le.addEventListener("test",()=>{},e),le.removeEventListener("test",()=>{},e)}catch{}return t}();function zu(t){return/^[\s\xa0]*$/.test(t)}function tf(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function ur(t){return tf().indexOf(t)!=-1}function jv(t){return jv[" "](t),t}jv[" "]=function(){};function HN(t,e){var n=Mj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var WN=ur("Opera"),na=ur("Trident")||ur("MSIE"),tx=ur("Edge"),bg=tx||na,nx=ur("Gecko")&&!(tf().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge"))&&!(ur("Trident")||ur("MSIE"))&&!ur("Edge"),QN=tf().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge");function rx(){var t=le.document;return t?t.documentMode:void 0}var Dg;e:{var Qp="",Kp=function(){var t=tf();if(nx)return/rv:([^\);]+)(\)|;)/.exec(t);if(tx)return/Edge\/([\d\.]+)/.exec(t);if(na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(QN)return/WebKit\/(\S+)/.exec(t);if(WN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Kp&&(Qp=Kp?Kp[1]:""),na){var Gp=rx();if(Gp!=null&&Gp>parseFloat(Qp)){Dg=String(Gp);break e}}Dg=Qp}var Og;if(le.document&&na){var Mw=rx();Og=Mw||parseInt(Dg,10)||void 0}else Og=void 0;var KN=Og;function qu(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nx){e:{try{jv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qu.$.h.call(this)}}At(qu,Gt);var GN={2:"touch",3:"pen",4:"mouse"};qu.prototype.h=function(){qu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yl="closure_listenable_"+(1e6*Math.random()|0),YN=0;function XN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++YN,this.fa=this.ia=!1}function nf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Lv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function JN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ix(t){const e={};for(const n in t)e[n]=t[n];return e}const Vw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Vw.length;s++)n=Vw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rf(t){this.src=t,this.g={},this.h=0}rf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=jg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new XN(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ng(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ex(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(nf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Mv="closure_lm_"+(1e6*Math.random()|0),Yp={};function ox(t,e,n,r,i){if(r&&r.once)return ux(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ox(t,e[s],n,r,i);return null}return n=Fv(n),t&&t[yl]?t.O(e,n,gl(r)?!!r.capture:!!r,i):ax(t,e,n,!1,r,i)}function ax(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gl(i)?!!i.capture:!!i,a=Uv(t);if(a||(t[Mv]=a=new rf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=ZN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qN||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZN(){function t(n){return e.call(t.src,t.listener,n)}const e=ej;return t}function ux(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ux(t,e[s],n,r,i);return null}return n=Fv(n),t&&t[yl]?t.P(e,n,gl(r)?!!r.capture:!!r,i):ax(t,e,n,!0,r,i)}function lx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lx(t,e[s],n,r,i);else r=gl(r)?!!r.capture:!!r,n=Fv(n),t&&t[yl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=jg(s,n,r,i),-1<n&&(nf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jg(e,n,r,i)),(n=-1<t?e[t]:null)&&Vv(n))}function Vv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yl])Ng(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uv(e))?(Ng(n,t),n.h==0&&(n.src=null,e[Mv]=null)):nf(t)}}}function cx(t){return t in Yp?Yp[t]:Yp[t]="on"+t}function ej(t,e){if(t.fa)t=!0;else{e=new qu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vv(t),t=n.call(r,e)}return t}function Uv(t){return t=t[Mv],t instanceof rf?t:null}var Xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fv(t){return typeof t=="function"?t:(t[Xp]||(t[Xp]=function(e){return t.handleEvent(e)}),t[Xp])}function Pt(){is.call(this),this.i=new rf(this),this.S=this,this.J=null}At(Pt,is);Pt.prototype[yl]=!0;Pt.prototype.removeEventListener=function(t,e,n,r){lx(this,t,e,n,r)};function Mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;e=new Gt(r,t),sx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=dc(o,r,!0,e)&&i}if(o=e.g=t,i=dc(o,r,!0,e)&&i,i=dc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=dc(o,r,!1,e)&&i}Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nf(n[r]);delete t.g[e],t.h--}}this.J=null};Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function dc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Ng(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var $v=le.JSON.stringify;class tj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function nj(){var t=Bv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class rj{constructor(){this.h=this.g=null}add(e,n){const r=hx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var hx=new tj(()=>new ij,t=>t.reset());class ij{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oj(t){le.setTimeout(()=>{throw t},0)}let Hu,Wu=!1,Bv=new rj,dx=()=>{const t=le.Promise.resolve(void 0);Hu=()=>{t.then(aj)}};var aj=()=>{for(var t;t=nj();){try{t.h.call(t.g)}catch(n){oj(n)}var e=hx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wu=!1};function sf(t,e){Pt.call(this),this.h=t||1,this.g=e||le,this.j=Kt(this.qb,this),this.l=Date.now()}At(sf,Pt);$=sf.prototype;$.ga=!1;$.T=null;$.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mt(this,"tick"),this.ga&&(zv(this),this.start()))}};$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}$.N=function(){sf.$.N.call(this),zv(this),delete this.g};function qv(t,e,n){if(typeof t=="function")n&&(t=Kt(t,n));else if(t&&typeof t.handleEvent=="function")t=Kt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function fx(t){t.g=qv(()=>{t.g=null,t.i&&(t.i=!1,fx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class uj extends is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fx(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qu(t){is.call(this),this.h=t,this.g={}}At(Qu,is);var Uw=[];function px(t,e,n,r){Array.isArray(n)||(n&&(Uw[0]=n.toString()),n=Uw);for(var i=0;i<n.length;i++){var s=ox(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function mx(t){Lv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vv(e)},t),t.g={}}Qu.prototype.N=function(){Qu.$.N.call(this),mx(this)};Qu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function of(){this.g=!0}of.prototype.Ea=function(){this.g=!1};function lj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var h=l[0];l=l[1];var d=h.split("_");o=2<=d.length&&d[1]=="type"?o+(h+"="+l+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function cj(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function xo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dj(t,n)+(r?" "+r:"")})}function hj(t,e){t.info(function(){return"TIMEOUT: "+e})}of.prototype.info=function(){};function dj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return $v(n)}catch{return e}}var Js={},Fw=null;function af(){return Fw=Fw||new Pt}Js.Ta="serverreachability";function gx(t){Gt.call(this,Js.Ta,t)}At(gx,Gt);function Ku(t){const e=af();Mt(e,new gx(e))}Js.STAT_EVENT="statevent";function yx(t,e){Gt.call(this,Js.STAT_EVENT,t),this.stat=e}At(yx,Gt);function on(t){const e=af();Mt(e,new yx(e,t))}Js.Ua="timingevent";function vx(t,e){Gt.call(this,Js.Ua,t),this.size=e}At(vx,Gt);function vl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var uf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_x={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hv(){}Hv.prototype.h=null;function $w(t){return t.h||(t.h=t.i())}function wx(){}var _l={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wv(){Gt.call(this,"d")}At(Wv,Gt);function Qv(){Gt.call(this,"c")}At(Qv,Gt);var Lg;function lf(){}At(lf,Hv);lf.prototype.g=function(){return new XMLHttpRequest};lf.prototype.i=function(){return{}};Lg=new lf;function wl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qu(this),this.P=fj,t=bg?125:void 0,this.V=new sf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ex}function Ex(){this.i=null,this.g="",this.h=!1}var fj=45e3,Mg={},Vh={};$=wl.prototype;$.setTimeout=function(t){this.P=t};function Vg(t,e,n){t.L=1,t.v=hf(Yr(e)),t.s=n,t.S=!0,Tx(t,null)}function Tx(t,e){t.G=Date.now(),El(t),t.A=Yr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),kx(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Ex,t.g=Xx(t.l,n?e:null,!t.s),0<t.O&&(t.M=new uj(Kt(t.Pa,t,t.g),t.O)),px(t.U,t.g,"readystatechange",t.nb),e=t.I?ix(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ku(),lj(t.j,t.u,t.A,t.m,t.W,t.s)}$.nb=function(t){t=t.target;const e=this.M;e&&lr(t)==3?e.l():this.Pa(t)};$.Pa=function(t){try{if(t==this.g)e:{const h=lr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>h)&&(h!=3||bg||this.g&&(this.h.h||this.g.ja()||Hw(this.g)))){this.J||h!=4||e==7||(e==8||0>=d?Ku(3):Ku(2)),cf(this);var n=this.g.da();this.ca=n;t:if(Sx(this)){var r=Hw(this.g);t="";var i=r.length,s=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ts(this),pu(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cj(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zu(a)){var l=a;break t}}l=null}if(n=l)xo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ug(this,n);else{this.i=!1,this.o=3,on(12),Ts(this),pu(this);break e}}this.S?(Ix(this,h,o),bg&&this.i&&h==3&&(px(this.U,this.V,"tick",this.mb),this.V.start())):(xo(this.j,this.m,o,null),Ug(this,o)),h==4&&Ts(this),this.i&&!this.J&&(h==4?Qx(this.l,this):(this.i=!1,El(this)))}else Nj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),Ts(this),pu(this)}}}catch{}finally{}};function Sx(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Ix(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=pj(t,n),i==Vh){e==4&&(t.o=4,on(14),r=!1),xo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Mg){t.o=4,on(15),xo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xo(t.j,t.m,i,null),Ug(t,i);Sx(t)&&i!=Vh&&i!=Mg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zv(e),e.M=!0,on(11))):(xo(t.j,t.m,n,"[Invalid Chunked Response]"),Ts(t),pu(t))}$.mb=function(){if(this.g){var t=lr(this.g),e=this.g.ja();this.C<e.length&&(cf(this),Ix(this,t,e),this.i&&t!=4&&El(this))}};function pj(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Vh:(n=Number(e.substring(n,r)),isNaN(n)?Mg:(r+=1,r+n>e.length?Vh:(e=e.slice(r,r+n),t.C=r+n,e)))}$.cancel=function(){this.J=!0,Ts(this)};function El(t){t.Y=Date.now()+t.P,xx(t,t.P)}function xx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=vl(Kt(t.lb,t),e)}function cf(t){t.B&&(le.clearTimeout(t.B),t.B=null)}$.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(hj(this.j,this.A),this.L!=2&&(Ku(),on(17)),Ts(this),this.o=2,pu(this)):xx(this,this.Y-t)};function pu(t){t.l.H==0||t.J||Qx(t.l,t)}function Ts(t){cf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,zv(t.V),mx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ug(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Fg(n.i,t))){if(!t.K&&Fg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)$h(n),pf(n);else break e;Jv(n),on(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=vl(Kt(n.ib,n),6e3));if(1>=Ox(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ss(n,11)}else if((t.K||n.g==t)&&$h(n),!zu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const h=l[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Kv(s,s.h),s.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Be(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Yx(r,r.J?r.pa:null,r.Y),o.K){Nx(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(cf(a),El(a)),r.g=o}else Hx(r);0<n.j.length&&mf(n)}else l[0]!="stop"&&l[0]!="close"||Ss(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Ss(n,7):Xv(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ku(4)}catch{}}function mj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ef(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function gj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ef(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Cx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ef(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gj(t),r=mj(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Px=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Rs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Rs){this.h=t.h,Uh(this,t.j),this.s=t.s,this.g=t.g,Fh(this,t.m),this.l=t.l;var e=t.i,n=new Gu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bw(this,n),this.o=t.o}else t&&(e=String(t).match(Px))?(this.h=!1,Uh(this,e[1]||"",!0),this.s=Xa(e[2]||""),this.g=Xa(e[3]||"",!0),Fh(this,e[4]),this.l=Xa(e[5]||"",!0),Bw(this,e[6]||"",!0),this.o=Xa(e[7]||"")):(this.h=!1,this.i=new Gu(null,this.h))}Rs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ja(e,zw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ja(e,zw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ja(n,n.charAt(0)=="/"?wj:_j,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ja(n,Tj)),t.join("")};function Yr(t){return new Rs(t)}function Uh(t,e,n){t.j=n?Xa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bw(t,e,n){e instanceof Gu?(t.i=e,Sj(t.i,t.h)):(n||(e=Ja(e,Ej)),t.i=new Gu(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function hf(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ja(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,vj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zw=/[#\/\?@]/g,_j=/[#\?:]/g,wj=/[#\?]/g,Ej=/[#\?@]/g,Tj=/#/g;function Gu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ss(t){t.g||(t.g=new Map,t.h=0,t.i&&yj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=Gu.prototype;$.add=function(t,e){ss(this),this.i=null,t=_a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Rx(t,e){ss(t),e=_a(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ax(t,e){return ss(t),e=_a(t,e),t.g.has(e)}$.forEach=function(t,e){ss(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};$.ta=function(){ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};$.Z=function(t){ss(this);let e=[];if(typeof t=="string")Ax(this,t)&&(e=e.concat(this.g.get(_a(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};$.set=function(t,e){return ss(this),this.i=null,t=_a(this,t),Ax(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kx(t,e,n){Rx(t,e),0<n.length&&(t.i=null,t.g.set(_a(t,e),Nv(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function _a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Sj(t,e){e&&!t.j&&(ss(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Rx(this,r),kx(this,i,n))},t)),t.j=e}var Ij=class{constructor(t,e){this.g=t,this.map=e}};function bx(t){this.l=t||xj,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xj=10;function Dx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ox(t){return t.h?1:t.g?t.g.size:0}function Fg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Kv(t,e){t.g?t.g.add(e):t.h=e}function Nx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bx.prototype.cancel=function(){if(this.i=jx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function jx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Nv(t.i)}var Cj=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function Pj(){this.g=new Cj}function Rj(t,e,n){const r=n||"";try{Cx(t,function(i,s){let o=i;gl(i)&&(o=$v(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Aj(t,e){const n=new of;if(le.Image){const r=new Image;r.onload=hc(fc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hc(fc,n,r,"TestLoadImage: error",!1,e),r.onabort=hc(fc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hc(fc,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Tl(t){this.l=t.ec||null,this.j=t.ob||!1}At(Tl,Hv);Tl.prototype.g=function(){return new df(this.l,this.j)};Tl.prototype.i=function(t){return function(){return t}}({});function df(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(df,Pt);var Gv=0;$=df.prototype;$.open=function(t,e){if(this.readyState!=Gv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yu(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=Gv};$.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yu(this)),this.g&&(this.readyState=3,Yu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Lx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}$.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sl(this):Yu(this),this.readyState==3&&Lx(this)}};$.Za=function(t){this.g&&(this.response=this.responseText=t,Sl(this))};$.Ya=function(t){this.g&&(this.response=t,Sl(this))};$.ka=function(){this.g&&Sl(this)};function Sl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yu(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var kj=le.JSON.parse;function ot(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mx,this.L=this.M=!1}At(ot,Pt);var Mx="",bj=/^https?$/i,Dj=["POST","PUT"];$=ot.prototype;$.Oa=function(t){this.M=t};$.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lg.g(),this.C=this.u?$w(this.u):$w(Lg),this.g.onreadystatechange=Kt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){qw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=ex(Dj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fx(this),0<this.B&&((this.L=Oj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.ua,this)):this.A=qv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qw(this,s)}};function Oj(t){return na&&typeof t.timeout=="number"&&t.ontimeout!==void 0}$.ua=function(){typeof Ov<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))};function qw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Vx(t),ff(t)}function Vx(t){t.F||(t.F=!0,Mt(t,"complete"),Mt(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),ff(this))};$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ff(this,!0)),ot.$.N.call(this)};$.La=function(){this.s||(this.G||this.v||this.l?Ux(this):this.kb())};$.kb=function(){Ux(this)};function Ux(t){if(t.h&&typeof Ov<"u"&&(!t.C[1]||lr(t)!=4||t.da()!=2)){if(t.v&&lr(t)==4)qv(t.La,0,t);else if(Mt(t,"readystatechange"),lr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Px)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!bj.test(i?i.toLowerCase():"")}n=r}if(n)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var s=2<lr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Vx(t)}}finally{ff(t)}}}}function ff(t,e){if(t.g){Fx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Fx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}$.isActive=function(){return!!this.g};function lr(t){return t.g?t.g.readyState:0}$.da=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}};$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),kj(e)}};function Hw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Mx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Nj(t){const e={};t=(t.g&&2<=lr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(zu(t[r]))continue;var n=sj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}JN(e,function(r){return r.join(", ")})}$.Ia=function(){return this.m};$.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function $x(t){let e="";return Lv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$x(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Be(t,e,n))}function $a(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bx(t){this.Ga=0,this.j=[],this.l=new of,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$a("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$a("baseRetryDelayMs",5e3,t),this.hb=$a("retryDelaySeedMs",1e4,t),this.eb=$a("forwardChannelMaxRetries",2,t),this.xa=$a("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new bx(t&&t.concurrentRequestLimit),this.Ja=new Pj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}$=Bx.prototype;$.ra=8;$.H=1;function Xv(t){if(zx(t),t.H==3){var e=t.W++,n=Yr(t.I);if(Be(n,"SID",t.K),Be(n,"RID",e),Be(n,"TYPE","terminate"),Il(t,n),e=new wl(t,t.l,e),e.L=2,e.v=hf(Yr(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.v,n=!0),n||(e.g=Xx(e.l,null),e.g.ha(e.v)),e.G=Date.now(),El(e)}Gx(t)}function pf(t){t.g&&(Zv(t),t.g.cancel(),t.g=null)}function zx(t){pf(t),t.u&&(le.clearTimeout(t.u),t.u=null),$h(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function mf(t){if(!Dx(t.i)&&!t.m){t.m=!0;var e=t.Na;Hu||dx(),Wu||(Hu(),Wu=!0),Bv.add(e,t),t.C=0}}function jj(t,e){return Ox(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vl(Kt(t.Na,t,e),Kx(t,t.C)),t.C++,!0)}$.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new wl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ix(s),sx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qx(this,i,e),n=Yr(this.I),Be(n,"RID",t),Be(n,"CVER",22),this.F&&Be(n,"X-HTTP-Session-Id",this.F),Il(this,n),s&&(this.O?e="headers="+encodeURIComponent(String($x(s)))+"&"+e:this.o&&Yv(n,this.o,s)),Kv(this.i,i),this.bb&&Be(n,"TYPE","init"),this.P?(Be(n,"$req",e),Be(n,"SID","null"),i.aa=!0,Vg(i,n,null)):Vg(i,n,e),this.H=2}}else this.H==3&&(t?Ww(this,t):this.j.length==0||Dx(this.i)||Ww(this))};function Ww(t,e){var n;e?n=e.m:n=t.W++;const r=Yr(t.I);Be(r,"SID",t.K),Be(r,"RID",n),Be(r,"AID",t.V),Il(t,r),t.o&&t.s&&Yv(r,t.o,t.s),n=new wl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=qx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Kv(t.i,n),Vg(n,r,e)}function Il(t,e){t.na&&Lv(t.na,function(n,r){Be(e,r,n)}),t.h&&Cx({},function(n,r){Be(e,r,n)})}function qx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Kt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const h=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Rj(h,o,"req"+l+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Hx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hu||dx(),Wu||(Hu(),Wu=!0),Bv.add(e,t),t.A=0}}function Jv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vl(Kt(t.Ma,t),Kx(t,t.A)),t.A++,!0)}$.Ma=function(){if(this.u=null,Wx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vl(Kt(this.jb,this),t)}};$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),pf(this),Wx(this))};function Zv(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function Wx(t){t.g=new wl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Yr(t.wa);Be(e,"RID","rpc"),Be(e,"SID",t.K),Be(e,"AID",t.V),Be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Be(e,"TO",t.qa),Be(e,"TYPE","xmlhttp"),Il(t,e),t.o&&t.s&&Yv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=hf(Yr(e)),n.s=null,n.S=!0,Tx(n,t)}$.ib=function(){this.v!=null&&(this.v=null,pf(this),Jv(this),on(19))};function $h(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function Qx(t,e){var n=null;if(t.g==e){$h(t),Zv(t),t.g=null;var r=2}else if(Fg(t.i,e))n=e.F,Nx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=af(),Mt(r,new vx(r,n)),mf(t)}else Hx(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&jj(t,e)||r==2&&Jv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ss(t,5);break;case 4:Ss(t,10);break;case 3:Ss(t,6);break;default:Ss(t,2)}}}function Kx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ss(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Kt(t.pb,t);n||(n=new Rs("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Uh(n,"https"),hf(n)),Aj(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),Gx(t),zx(t)}$.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function Gx(t){if(t.H=0,t.ma=[],t.h){const e=jx(t.i);(e.length!=0||t.j.length!=0)&&(Lw(t.ma,e),Lw(t.ma,t.j),t.i.i.length=0,Nv(t.j),t.j.length=0),t.h.ya()}}function Yx(t,e,n){var r=n instanceof Rs?Yr(n):new Rs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Fh(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Rs(null);r&&Uh(s,r),e&&(s.g=e),i&&Fh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Be(r,n,e),Be(r,"VER",t.ra),Il(t,r),r}function Xx(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ot(new Tl({ob:!0})):new ot(t.va),e.Oa(t.J),e}$.isActive=function(){return!!this.h&&this.h.isActive(this)};function Jx(){}$=Jx.prototype;$.Ba=function(){};$.Aa=function(){};$.za=function(){};$.ya=function(){};$.isActive=function(){return!0};$.Va=function(){};function Bh(){if(na&&!(10<=Number(KN)))throw Error("Environmental error: no available transport.")}Bh.prototype.g=function(t,e){return new Cn(t,e)};function Cn(t,e){Pt.call(this),this.g=new Bx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wa(this)}At(Cn,Pt);Cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Yx(t,null,t.Y),mf(t)};Cn.prototype.close=function(){Xv(this.g)};Cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$v(t),t=n);e.j.push(new Ij(e.fb++,t)),e.H==3&&mf(e)};Cn.prototype.N=function(){this.g.h=null,delete this.j,Xv(this.g),delete this.g,Cn.$.N.call(this)};function Zx(t){Wv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(Zx,Wv);function eC(){Qv.call(this),this.status=1}At(eC,Qv);function wa(t){this.g=t}At(wa,Jx);wa.prototype.Ba=function(){Mt(this.g,"a")};wa.prototype.Aa=function(t){Mt(this.g,new Zx(t))};wa.prototype.za=function(t){Mt(this.g,new eC)};wa.prototype.ya=function(){Mt(this.g,"b")};function Lj(){this.blockSize=-1}function er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}At(er,Lj);er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}er.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Jp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Jp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Jp(this,r),i=0;break}}this.h=i,this.i+=e};er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function De(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Mj={};function e1(t){return-128<=t&&128>t?HN(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function cr(t){if(isNaN(t)||!isFinite(t))return Mo;if(0>t)return Nt(cr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$g;return new De(e,0)}function tC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Nt(tC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=cr(Math.pow(e,8)),r=Mo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=cr(Math.pow(e,s)),r=r.R(s).add(cr(o))):(r=r.R(n),r=r.add(cr(o)))}return r}var $g=4294967296,Mo=e1(0),Bg=e1(1),Qw=e1(16777216);$=De.prototype;$.ea=function(){if(Nn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$g+r)*e,e*=$g}return t};$.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Vr(this))return"0";if(Nn(this))return"-"+Nt(this).toString(t);for(var e=cr(Math.pow(t,6)),n=this,r="";;){var i=qh(n,e).g;n=zh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Vr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};$.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Vr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Nn(t){return t.h==-1}$.X=function(t){return t=zh(this,t),Nn(t)?-1:Vr(t)?0:1};function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new De(n,~t.h).add(Bg)}$.abs=function(){return Nn(this)?Nt(this):this};$.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new De(n,n[n.length-1]&-2147483648?-1:0)};function zh(t,e){return t.add(Nt(e))}$.R=function(t){if(Vr(this)||Vr(t))return Mo;if(Nn(this))return Nn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(Nn(t))return Nt(this.R(Nt(t)));if(0>this.X(Qw)&&0>t.X(Qw))return cr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,pc(n,2*r+2*i),n[2*r+2*i+1]+=s*u,pc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new De(n,0)};function pc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ba(t,e){this.g=t,this.h=e}function qh(t,e){if(Vr(e))throw Error("division by zero");if(Vr(t))return new Ba(Mo,Mo);if(Nn(t))return e=qh(Nt(t),e),new Ba(Nt(e.g),Nt(e.h));if(Nn(e))return e=qh(t,Nt(e)),new Ba(Nt(e.g),e.h);if(30<t.g.length){if(Nn(t)||Nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Bg,r=e;0>=r.X(t);)n=Kw(n),r=Kw(r);var i=oo(n,1),s=oo(r,1);for(r=oo(r,2),n=oo(n,2);!Vr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=oo(r,1),n=oo(n,1)}return e=zh(t,i.R(e)),new Ba(i,e)}for(i=Mo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=cr(n),o=s.R(e);Nn(o)||0<o.X(t);)n-=r,s=cr(n),o=s.R(e);Vr(s)&&(s=Bg),i=i.add(s),t=zh(t,o)}return new Ba(i,t)}$.gb=function(t){return qh(this,t).h};$.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new De(n,this.h&t.h)};$.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new De(n,this.h|t.h)};$.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new De(n,this.h^t.h)};function Kw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new De(n,t.h)}function oo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new De(i,t.h)}Bh.prototype.createWebChannel=Bh.prototype.g;Cn.prototype.send=Cn.prototype.u;Cn.prototype.open=Cn.prototype.m;Cn.prototype.close=Cn.prototype.close;uf.NO_ERROR=0;uf.TIMEOUT=8;uf.HTTP_ERROR=6;_x.COMPLETE="complete";wx.EventType=_l;_l.OPEN="a";_l.CLOSE="b";_l.ERROR="c";_l.MESSAGE="d";Pt.prototype.listen=Pt.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;er.prototype.digest=er.prototype.l;er.prototype.reset=er.prototype.reset;er.prototype.update=er.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=cr;De.fromString=tC;var Vj=function(){return new Bh},Uj=function(){return af()},Zp=uf,Fj=_x,$j=Js,Gw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bj=Tl,mc=wx,zj=ot,qj=er,Vo=De;const Yw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new kv("@firebase/firestore");function za(){return $s.logLevel}function K(t,...e){if($s.logLevel<=Te.DEBUG){const n=e.map(t1);$s.debug(`Firestore (${Ea}): ${t}`,...n)}}function Xr(t,...e){if($s.logLevel<=Te.ERROR){const n=e.map(t1);$s.error(`Firestore (${Ea}): ${t}`,...n)}}function ra(t,...e){if($s.logLevel<=Te.WARN){const n=e.map(t1);$s.warn(`Firestore (${Ea}): ${t}`,...n)}}function t1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function He(t,e){t||ue()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class Wj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qj{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new nC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ht(e)}}class Kj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Kj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new Yj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Jj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new Tt(0,0))}static max(){return new he(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends Xu{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const Zj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Xu{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return Zj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(ze.fromString(e))}static fromName(e){return new Z(ze.fromString(e).popFirst(5))}static empty(){return new Z(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new ze(e.slice()))}}function eL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new Yi(i,Z.empty(),e)}function tL(t){return new Yi(t.readTime,t.key,-1)}class Yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yi(he.min(),Z.empty(),-1)}static max(){return new Yi(he.max(),Z.empty(),-1)}}function nL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==rL)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new N((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}n1._e=-1;function gf(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function sL(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gc(this.root,e,this.comparator,!0)}}class gc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jw(this.data.getIterator())}getIteratorFrom(e){return new Jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Vt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sC("Invalid base64 string: "+s):s}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const oL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(t){if(He(!!t),typeof t=="string"){let e=0;const n=oL.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i1(t){const e=t.mapValue.fields.__previous_value__;return r1(e)?i1(e):e}function Ju(t){const e=Xi(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r1(t)?4:uL(t)?9007199254740991:10:ue()}function Er(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xi(i.timestampValue),a=Xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bs(i.bytesValue).isEqual(Bs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=mt(i.doubleValue),a=mt(s.doubleValue);return o===a?Hh(o)===Hh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xw(o)!==Xw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Er(o[u],a[u])))return!1;return!0}(t,e);default:return ue()}}function el(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=mt(s.integerValue||s.doubleValue),u=mt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Zw(t.timestampValue,e.timestampValue);case 4:return Zw(Ju(t),Ju(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Bs(s),u=Bs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const h=Ae(a[l],u[l]);if(h!==0)return h}return Ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ae(mt(s.latitude),mt(o.latitude));return a!==0?a:Ae(mt(s.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const h=sa(a[l],u[l]);if(h)return h}return Ae(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===yc.mapValue&&o===yc.mapValue)return 0;if(s===yc.mapValue)return 1;if(o===yc.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let d=0;d<u.length&&d<h.length;++d){const f=Ae(u[d],h[d]);if(f!==0)return f;const p=sa(a[u[d]],l[h[d]]);if(p!==0)return p}return Ae(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ue()}}function Zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Xi(t),r=Xi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function oa(t){return zg(t)}function zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${zg(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function eE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function s1(t){return!!t&&"arrayValue"in t}function tE(t){return!!t&&"nullValue"in t}function nE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bc(t){return!!t&&"mapValue"in t}function mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(mu(this.value))}}function oC(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new jt([n]);if(Bc(r)){const s=oC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,he.min(),he.min(),he.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,he.min(),he.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,he.min(),he.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.position=e,this.inclusive=n}}function rE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{}class yt extends aC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hL(e,n,r):n==="array-contains"?new pL(e,r):n==="in"?new mL(e,r):n==="not-in"?new gL(e,r):n==="array-contains-any"?new yL(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dL(e,r):new fL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends aC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new tr(e,n)}matches(e){return uC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function uC(t){return t.op==="and"}function lC(t){return cL(t)&&uC(t)}function cL(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Hg(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(lC(t))return t.filters.map(e=>Hg(e)).join(",");{const e=t.filters.map(n=>Hg(n)).join(",");return`${t.op}(${e})`}}function cC(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(t,e):t instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cC(o,i.filters[a]),!0):!1}(t,e):void ue()}function hC(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(hC).join(" ,")+"}"}(t):"Filter"}class hL extends yt{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class dL extends yt{constructor(e,n){super(e,"in",n),this.keys=dC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fL extends yt{constructor(e,n){super(e,"not-in",n),this.keys=dC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class pL extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s1(n)&&el(n.arrayValue,this.value)}}class mL extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&el(this.value.arrayValue,n)}}class gL extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!el(this.value.arrayValue,n)}}class yL extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>el(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function sE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vL(t,e,n,r,i,s,o)}function o1(t){const e=pe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.ce=n}return e.ce}function a1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function Wg(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function _L(t,e,n,r,i,s,o,a){return new Pl(t,e,n,r,i,s,o,a)}function yf(t){return new Pl(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fC(t){return t.collectionGroup!==null}function gu(t){const e=pe(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Vt(jt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Qh(s,r))}),n.has(jt.keyField().canonicalString())||e.le.push(new Qh(jt.keyField(),r))}return e.le}function yr(t){const e=pe(t);return e.he||(e.he=wL(e,gu(t))),e.he}function wL(t,e){if(t.limitType==="F")return sE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Qh(i.field,s)});const n=t.endAt?new Wh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wh(t.startAt.position,t.startAt.inclusive):null;return sE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qg(t,e){const n=t.filters.concat([e]);return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kg(t,e,n){return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vf(t,e){return a1(yr(t),yr(e))&&t.limitType===e.limitType}function pC(t){return`${o1(yr(t))}|lt:${t.limitType}`}function uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hC(i)).join(", ")}]`),gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oa(i)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function _f(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=rE(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,gu(r),i)||r.endAt&&!function(o,a,u){const l=rE(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,gu(r),i))}(t,e)}function EL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mC(t){return(e,n)=>{let r=!1;for(const i of gu(t)){const s=TL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TL(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?sa(u,l):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new nt(Z.comparator);function Jr(){return SL}const gC=new nt(Z.comparator);function Za(...t){let e=gC;for(const n of t)e=e.insert(n.key,n);return e}function yC(t){let e=gC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return yu()}function vC(){return yu()}function yu(){return new Ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const IL=new nt(Z.comparator),xL=new Vt(Z.comparator);function _e(...t){let e=xL;for(const n of t)e=e.add(n);return e}const CL=new Vt(Ae);function PL(){return CL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function wC(t){return{integerValue:""+t}}function RL(t,e){return sL(e)?wC(e):_C(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function AL(t,e,n){return t instanceof Kh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&r1(s)&&(s=i1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof tl?TC(t,e):t instanceof nl?SC(t,e):function(i,s){const o=EC(i,s),a=aE(o)+aE(i.Ie);return qg(o)&&qg(i.Ie)?wC(a):_C(i.serializer,a)}(t,e)}function kL(t,e,n){return t instanceof tl?TC(t,e):t instanceof nl?SC(t,e):n}function EC(t,e){return t instanceof Gh?function(r){return qg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kh extends wf{}class tl extends wf{constructor(e){super(),this.elements=e}}function TC(t,e){const n=IC(e);for(const r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends wf{constructor(e){super(),this.elements=e}}function SC(t,e){let n=IC(e);for(const r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}class Gh extends wf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function aE(t){return mt(t.integerValue||t.doubleValue)}function IC(t){return s1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tl&&i instanceof tl||r instanceof nl&&i instanceof nl?ia(r.elements,i.elements,Er):r instanceof Gh&&i instanceof Gh?Er(r.Ie,i.Ie):r instanceof Kh&&i instanceof Kh}(t.transform,e.transform)}class DL{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ef{}function xC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u1(t.key,Jn.none()):new Rl(t.key,t.data,Jn.none());{const n=t.data,r=dn.empty();let i=new Vt(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new os(t.key,r,new wn(i.toArray()),Jn.none())}}function OL(t,e,n){t instanceof Rl?function(i,s,o){const a=i.value.clone(),u=lE(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof os?function(i,s,o){if(!zc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=lE(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(CC(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vu(t,e,n,r){return t instanceof Rl?function(s,o,a,u){if(!zc(s.precondition,o))return a;const l=s.value.clone(),h=cE(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(s,o,a,u){if(!zc(s.precondition,o))return a;const l=cE(s.fieldTransforms,u,o),h=o.data;return h.setAll(CC(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return zc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function NL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EC(r.transform,i||null);s!=null&&(n===null&&(n=dn.empty()),n.set(r.field,s))}return n||null}function uE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ia(r,i,(s,o)=>bL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rl extends Ef{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends Ef{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lE(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kL(o,a,n[i]))}return r}function cE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,AL(s,o,e))}return r}class u1 extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jL extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=xC(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>uE(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>uE(n,r))}}class l1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return IL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new l1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,xe;function UL(t){switch(t){default:return ue();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function PC(t){if(t===void 0)return Xr("GRPC error has no .code"),b.UNKNOWN;switch(t){case pt.OK:return b.OK;case pt.CANCELLED:return b.CANCELLED;case pt.UNKNOWN:return b.UNKNOWN;case pt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case pt.INTERNAL:return b.INTERNAL;case pt.UNAVAILABLE:return b.UNAVAILABLE;case pt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case pt.NOT_FOUND:return b.NOT_FOUND;case pt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case pt.ABORTED:return b.ABORTED;case pt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case pt.DATA_LOSS:return b.DATA_LOSS;default:return ue()}}(xe=pt||(pt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Vo([4294967295,4294967295],0);function hE(t){const e=FL().encode(t),n=new qj;return n.update(e),new Uint8Array(n.digest())}function dE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vo([n,r],0),new Vo([i,s],0)]}class c1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Vo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Vo.fromNumber(r)));return i.compare($L)===1&&(i=new Vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=hE(e),[r,i]=dE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new c1(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=hE(e),[r,i]=dE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tf(he.min(),i,new nt(Ae),Jr(),_e())}}class Al{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Al(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class RC{constructor(e,n){this.targetId=e,this.fe=n}}class AC{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fE{constructor(){this.ge=0,this.pe=mE(),this.ye=Zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_e(),n=_e(),r=_e();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Al(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=mE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class BL{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jr(),this.Qe=pE(),this.Ke=new nt(Ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Wg(s))if(r===0){const o=new Z(s.path);this.We(n,o,Qt.newNoDocument(o,he.min()))}else He(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Bs(r).toUint8Array()}catch(u){if(u instanceof sC)return ra("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new c1(o,i,s)}catch(u){return ra(u instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Wg(a.target)){const u=new Z(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,Qt.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=_e();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Tf(e,n,this.Ke,this.qe,r);return this.qe=Jr(),this.Qe=pE(),this.Ke=new nt(Ae),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new fE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Vt(Ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new fE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function pE(){return new nt(Z.comparator)}function mE(){return new nt(Z.comparator)}const zL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),HL=(()=>({and:"AND",or:"OR"}))();class WL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gg(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function Yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QL(t,e){return Yh(t,e.toTimestamp())}function vr(t){return He(!!t),he.fromTimestamp(function(n){const r=Xi(n);return new Tt(r.seconds,r.nanos)}(t))}function h1(t,e){return function(r){return new ze(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function bC(t){const e=ze.fromString(t);return He(jC(e)),e}function Yg(t,e){return h1(t.databaseId,e.path)}function em(t,e){const n=bC(e);if(n.get(1)!==t.databaseId.projectId)throw new W(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(DC(n))}function Xg(t,e){return h1(t.databaseId,e)}function KL(t){const e=bC(t);return e.length===4?ze.emptyPath():DC(e)}function Jg(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DC(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gE(t,e,n){return{name:Yg(t,e),fields:n.value.mapValue.fields}}function GL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(He(h===void 0||typeof h=="string"),Zt.fromBase64String(h||"")):(He(h===void 0||h instanceof Uint8Array),Zt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=l.code===void 0?b.UNKNOWN:PC(l.code);return new W(h,l.message||"")}(o);n=new AC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=em(t,r.document.name),s=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):he.min(),a=new dn({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new qc(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=em(t,r.document),s=r.readTime?vr(r.readTime):he.min(),o=Qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=em(t,r.document),s=r.removedTargetIds||[];n=new qc([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new VL(i,s),a=r.targetId;n=new RC(a,o)}}return n}function YL(t,e){let n;if(e instanceof Rl)n={update:gE(t,e.key,e.value)};else if(e instanceof u1)n={delete:Yg(t,e.key)};else if(e instanceof os)n={update:gE(t,e.key,e.data),updateMask:sM(e.fieldMask)};else{if(!(e instanceof jL))return ue();n={verify:Yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function XL(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vr(i.updateTime):vr(s);return o.isEqual(he.min())&&(o=vr(s)),new DL(o,i.transformResults||[])}(n,e))):[]}function JL(t,e){return{documents:[Xg(t,e.path)]}}function ZL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Xg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return NC(tr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(d){return{field:lo(d.field),direction:nM(d.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Gg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function eM(t){let e=KL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=OC(d);return f instanceof tr&&lC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(m){return new Qh(co(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,gf(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(d){const f=!!d.before,p=d.values||[];return new Wh(p,f)}(n.startAt));let l=null;return n.endAt&&(l=function(d){const f=!d.before,p=d.values||[];return new Wh(p,f)}(n.endAt)),_L(e,i,o,s,a,"F",u,l)}function tM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=co(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=co(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=co(n.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=co(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(co(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>OC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function nM(t){return zL[t]}function rM(t){return qL[t]}function iM(t){return HL[t]}function lo(t){return{fieldPath:t.canonicalString()}}function co(t){return jt.fromServerFormat(t.fieldPath)}function NC(t){return t instanceof yt?function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:rM(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(i=>NC(i));return r.length===1?r[0]:{compositeFilter:{op:iM(n.op),filters:r}}}(t):ue()}function sM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r,i,s=he.min(),o=he.min(),a=Zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.ut=e}}function aM(t){const e=eM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.on=new lM}addToCollectionParentIndex(e,n){return this.on.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Yi.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class lM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new aa(0)}static Nn(){return new aa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.changes=new Ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vu(r.mutation,i,wn.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=Is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Za();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Jr();const o=yu(),a=function(){return yu()}();return n.forEach((u,l)=>{const h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof os)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),vu(h.mutation,l,h.mutation.getFieldMask(),Tt.now())):o.set(l.key,wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var d;return a.set(l,new hM(h,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yu();let i=new nt((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let h=r.get(u)||wn.empty();h=a.applyToLocalView(l,h),r.set(u,h);const d=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,h=u.value,d=vC();h.forEach(f=>{if(!s.has(f)){const p=xC(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(Is());let a=-1,u=s;return o.next(l=>N.forEach(l,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{u=u.insert(h,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:yC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Za();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,u=>{const l=function(d,f){return new Pl(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const h=l.getKey();o.get(h)===null&&(o=o.insert(h,Qt.newInvalidDocument(h)))});let a=Za();return o.forEach((u,l)=>{const h=s.get(u);h!==void 0&&vu(h.mutation,l,wn.empty(),Tt.now()),_f(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return N.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:aM(i.bundledQuery),readTime:vr(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.overlays=new nt(Z.comparator),this.lr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=Is(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Is(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=Is(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return N.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ML(n,r));let s=this.lr.get(n);s===void 0&&(s=_e(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.hr=new Vt(It.Pr),this.Ir=new Vt(It.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new It(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new It(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Z(new ze([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Z(new ze([])),r=new It(n,e),i=new It(n,e+1);let s=_e();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Z.comparator(e.key,n.key)||Ae(e.gr,n.gr)}static Tr(e,n){return Ae(e.gr,n.gr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Vt(It.Pr)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ae);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),N.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new It(new Z(s),0);let a=new Vt(Ae);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),N.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return N.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new It(n,0),i=this.yr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.Cr=e,this.docs=function(){return new nt(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Jr();const o=n.path,a=new Z(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||nL(tL(h),r)<=0||(i.has(h.key)||_f(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}vr(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yM(this)}getSize(e){return N.resolve(this.size)}}class yM extends cM{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.persistence=e,this.Fr=new Ta(n=>o1(n),a1),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Mr=0,this.Or=new d1,this.targetCount=0,this.Nr=aa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),N.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.kn(n),N.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.Br={},this.overlays={},this.Lr=new n1(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vM(this),this.indexManager=new uM,this.remoteDocumentCache=function(i){return new gM(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new oM(n),this.Kr=new fM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new mM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new wM(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class wM extends iL{constructor(e){super(),this.currentSequenceNumber=e}}class f1{constructor(e){this.persistence=e,this.Gr=new d1,this.zr=null}static jr(e){return new f1(e)}get Hr(){if(this.zr)return this.zr;throw ue()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Hr,r=>{const i=Z.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return N.or([()=>N.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new p1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new EM;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(za()<=Te.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),N.resolve()):(za()<=Te.DEBUG&&K("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(za()<=Te.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):N.resolve())}zi(e,n){if(oE(n))return N.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kg(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(e,Kg(n,null,"F")):this.Xi(e,l,n,u)}))})))}ji(e,n,r,i){return oE(n)||i.isEqual(he.min())?N.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?N.resolve(null):(za()<=Te.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uo(n)),this.Xi(e,o,n,eL(i,-1)).next(a=>a))})}Yi(e,n){let r=new Vt(mC(e));return n.forEach((i,s)=>{_f(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return za()<=Te.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",uo(n)),this.Gi.getDocumentsMatchingQuery(e,n,Yi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new nt(Ae),this.ns=new Ta(s=>o1(s),a1),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dM(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function IM(t,e,n,r){return new SM(t,e,n,r)}async function LC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=_e();for(const l of i){o.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}for(const l of s){a.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function xM(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){const d=l.batch,f=d.keys();let p=N.resolve();return f.forEach(m=>{p=p.next(()=>h.getEntry(u,m)).next(y=>{const E=l.docVersions.get(m);He(E!==null),y.version.compareTo(E)<0&&(d.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),h.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function CM(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,h.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Zt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(y,E,_){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,h)&&a.push(n.qr.updateTargetData(s,p))});let u=Jr(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(PM(s,o,e.documentUpdates).next(h=>{u=h.us,l=h.cs})),!r.isEqual(he.min())){const h=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}function PM(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Jr();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function RM(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AM(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Zg(t,e,n){const r=pe(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Cl(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function yE(t,e,n){const r=pe(t);let i=he.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){const d=pe(u),f=d.ns.get(h);return f!==void 0?N.resolve(d.ts.get(f)):d.qr.getTargetData(l,h)}(r,o,yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:_e())).next(a=>(kM(r,EL(e),a),{documents:a,ls:s})))}function kM(t,e,n){let r=t.rs.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class vE{constructor(){this.activeTargetIds=PL()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bM{constructor(){this.eo=new vE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new vE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function tm(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class jM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=tm(),u=this.So(n,r);K("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ra("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=OM[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=tm();return new Promise((o,a)=>{const u=new zj;u.setWithCredentials(!0),u.listenOnce(Fj.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zp.NO_ERROR:const h=u.getResponseJson();K(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Zp.TIMEOUT:K(Bt,`RPC '${e}' ${s} timed out`),a(new W(b.DEADLINE_EXCEEDED,"Request time out"));break;case Zp.HTTP_ERROR:const d=u.getStatus();if(K(Bt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(_)>=0?_:b.UNKNOWN}(p.status);a(new W(m,p.message))}else a(new W(b.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(b.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{K(Bt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);K(Bt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(e,n,r){const i=tm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vj(),a=Uj(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Bj({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");K(Bt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const d=o.createWebChannel(h,u);let f=!1,p=!1;const m=new NM({co:E=>{p?K(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(K(Bt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),K(Bt,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},lo:()=>d.close()}),y=(E,_,g)=>{E.listen(_,w=>{try{g(w)}catch(v){setTimeout(()=>{throw v},0)}})};return y(d,mc.EventType.OPEN,()=>{p||K(Bt,`RPC '${e}' stream ${i} transport opened.`)}),y(d,mc.EventType.CLOSE,()=>{p||(p=!0,K(Bt,`RPC '${e}' stream ${i} transport closed`),m.Ro())}),y(d,mc.EventType.ERROR,E=>{p||(p=!0,ra(Bt,`RPC '${e}' stream ${i} transport errored:`,E),m.Ro(new W(b.UNAVAILABLE,"The operation could not be completed")))}),y(d,mc.EventType.MESSAGE,E=>{var _;if(!p){const g=E.data[0];He(!!g);const w=g,v=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(v){K(Bt,`RPC '${e}' stream ${i} received error:`,v);const I=v.status;let C=function(U){const L=pt[U];if(L!==void 0)return PC(L)}(I),R=v.message;C===void 0&&(C=b.INTERNAL,R="Unknown error status: "+I+" with message "+v.message),p=!0,m.Ro(new W(C,R)),d.close()}else K(Bt,`RPC '${e}' stream ${i} received:`,g),m.Vo(g)}}),y(a,$j.STAT_EVENT,E=>{E.stat===Gw.PROXY?K(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Gw.NOPROXY&&K(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return new WL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new VC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new W(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LM extends UC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=GL(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?vr(o.readTime):he.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Jg(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Wg(u)?{documents:JL(s,u)}:{query:ZL(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kC(s,o.resumeToken);const l=Gg(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Yh(s,o.snapshotVersion.toTimestamp());const l=Gg(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=tM(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Jg(this.serializer),n.removeTarget=e,this.e_(n)}}class MM extends UC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=XL(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.I_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Jg(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YL(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new W(b.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(b.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(b.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class UM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xr(n),this.f_=!1):K("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{eo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=pe(u);l.C_.add(4),await kl(l),l.M_.set("Unknown"),l.C_.delete(4),await If(l)}(this))})}),this.M_=new UM(r,i)}}async function If(t){if(eo(t))for(const e of t.v_)await e(!0)}async function kl(t){for(const e of t.v_)await e(!1)}function FC(t,e){const n=pe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),y1(n)?g1(n):Sa(n).Ho()&&m1(n,e))}function $C(t,e){const n=pe(t),r=Sa(n);n.D_.delete(e),r.Ho()&&BC(n,e),n.D_.size===0&&(r.Ho()?r.Zo():eo(n)&&n.M_.set("Unknown"))}function m1(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sa(t).u_(e)}function BC(t,e){t.x_.Oe(e),Sa(t).c_(e)}function g1(t){t.x_=new BL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Sa(t).start(),t.M_.g_()}function y1(t){return eo(t)&&!Sa(t).jo()&&t.D_.size>0}function eo(t){return pe(t).C_.size===0}function zC(t){t.x_=void 0}async function $M(t){t.D_.forEach((e,n)=>{m1(t,e)})}async function BM(t,e){zC(t),y1(t)?(t.M_.w_(e),g1(t)):t.M_.set("Unknown")}async function zM(t,e,n){if(t.M_.set("Online"),e instanceof AC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(t,r)}else if(e instanceof qc?t.x_.$e(e):e instanceof RC?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(he.min()))try{const r=await MC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.D_.get(l);h&&s.D_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const h=s.D_.get(u);if(!h)return;s.D_.set(u,h.withResumeToken(Zt.EMPTY_BYTE_STRING,h.snapshotVersion)),BC(s,u);const d=new Ai(h.target,u,l,h.sequenceNumber);m1(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Xh(t,r)}}async function Xh(t,e,n){if(!Cl(e))throw e;t.C_.add(1),await kl(t),t.M_.set("Offline"),n||(n=()=>MC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await If(t)})}function qC(t,e){return e().catch(n=>Xh(t,n,e))}async function xf(t){const e=pe(t),n=Ji(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;qM(e);)try{const i=await RM(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,HM(e,i)}catch(i){await Xh(e,i)}HC(e)&&WC(e)}function qM(t){return eo(t)&&t.b_.length<10}function HM(t,e){t.b_.push(e);const n=Ji(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function HC(t){return eo(t)&&!Ji(t).jo()&&t.b_.length>0}function WC(t){Ji(t).start()}async function WM(t){Ji(t).E_()}async function QM(t){const e=Ji(t);for(const n of t.b_)e.P_(n.mutations)}async function KM(t,e,n){const r=t.b_.shift(),i=l1.from(r,e,n);await qC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xf(t)}async function GM(t,e){e&&Ji(t).h_&&await async function(r,i){if(function(o){return UL(o)&&o!==b.ABORTED}(i.code)){const s=r.b_.shift();Ji(r).Yo(),await qC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xf(r)}}(t,e),HC(t)&&WC(t)}async function wE(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=eo(n);n.C_.add(3),await kl(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await If(n)}async function YM(t,e){const n=pe(t);e?(n.C_.delete(2),await If(n)):e||(n.C_.add(2),await kl(n),n.M_.set("Unknown"))}function Sa(t){return t.O_||(t.O_=function(n,r,i){const s=pe(n);return s.A_(),new LM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:$M.bind(null,t),Io:BM.bind(null,t),a_:zM.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),y1(t)?g1(t):t.M_.set("Unknown")):(await t.O_.stop(),zC(t))})),t.O_}function Ji(t){return t.N_||(t.N_=function(n,r,i){const s=pe(n);return s.A_(),new MM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:WM.bind(null,t),Io:GM.bind(null,t),T_:QM.bind(null,t),I_:KM.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await xf(t)):(await t.N_.stop(),t.b_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new v1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _1(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Cl(t))return new W(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Za(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.B_=new nt(Z.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ue():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,Uo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.k_=void 0,this.listeners=[]}}class JM{constructor(){this.queries=new Ta(e=>pC(e),vf),this.onlineState="Unknown",this.q_=new Set}}async function w1(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new XM),i)try{s.k_=await n.onListen(r)}catch(o){const a=_1(o,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&T1(n)}async function E1(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ZM(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&T1(n)}function e9(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function T1(t){t.q_.forEach(e=>{e.next()})}class S1{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.key=e}}class KC{constructor(e){this.key=e}}class t9{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_e(),this.mutatedKeys=_e(),this._a=mC(e),this.aa=new Uo(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new EE,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=_f(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),E=!0):this.ha(f,p)||(r.track({type:2,doc:p}),E=!0,(u&&this._a(p,u)>0||l&&this._a(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(u||l)&&(a=!0)),E&&(p?(o=o.add(p),s=y?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,h)=>function(f,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return m(f)-m(p)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,u=a!==this.sa;return this.sa=a,s.length!==0||u?{snapshot:new ua(this.query,e.aa,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new EE,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_e(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new KC(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new QC(r))}),n}da(e){this.ia=e.ls,this.oa=_e();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ua.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class n9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class r9{constructor(e){this.key=e,this.Ra=!1}}class i9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ta(a=>pC(a),vf),this.fa=new Map,this.ga=new Set,this.pa=new nt(Z.comparator),this.ya=new Map,this.wa=new d1,this.Sa={},this.ba=new Map,this.Da=aa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function s9(t,e){const n=m9(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await AM(n.localStore,yr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await o9(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&FC(n.remoteStore,o)}return i}async function o9(t,e,n,r,i){t.va=(d,f,p)=>async function(y,E,_,g){let w=E.view.ca(_);w.Zi&&(w=await yE(y.localStore,E.query,!1).then(({documents:C})=>E.view.ca(C,w)));const v=g&&g.targetChanges.get(E.targetId),I=E.view.applyChanges(w,y.isPrimaryClient,v);return SE(y,E.targetId,I.Ta),I.snapshot}(t,d,f,p);const s=await yE(t.localStore,e,!0),o=new t9(e,s.ls),a=o.ca(s.documents),u=Al.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);SE(t,n,l.Ta);const h=new n9(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}async function a9(t,e){const n=pe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!vf(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$C(n.remoteStore,r.targetId),ey(n,r.targetId)}).catch(xl)):(ey(n,r.targetId),await Zg(n.localStore,r.targetId,!0))}async function u9(t,e,n){const r=g9(t);try{const i=await function(o,a){const u=pe(o),l=Tt.now(),h=a.reduce((p,m)=>p.add(m.key),_e());let d,f;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Jr(),y=_e();return u.ss.getEntries(p,h).next(E=>{m=E,m.forEach((_,g)=>{g.isValidDocument()||(y=y.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,m)).next(E=>{d=E;const _=[];for(const g of a){const w=NL(g,d.get(g.key).overlayedDocument);w!=null&&_.push(new os(g.key,w,oC(w.value.mapValue),Jn.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,_,a)}).next(E=>{f=E;const _=E.applyToLocalDocumentSet(d,y);return u.documentOverlayCache.saveOverlays(p,E.batchId,_)})}).then(()=>({batchId:f.batchId,changes:yC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new nt(Ae)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await bl(r,i.changes),await xf(r.remoteStore)}catch(i){const s=_1(i,"Failed to persist write");n.reject(s)}}async function GC(t,e){const n=pe(t);try{const r=await CM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?He(o.Ra):i.removedDocuments.size>0&&(He(o.Ra),o.Ra=!1))}),await bl(n,r,e)}catch(r){await xl(r)}}function TE(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=pe(o);u.onlineState=a;let l=!1;u.queries.forEach((h,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&T1(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l9(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new nt(Z.comparator);o=o.insert(s,Qt.newNoDocument(s,he.min()));const a=_e().add(s),u=new Tf(he.min(),new Map,new nt(Ae),o,a);await GC(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),I1(r)}else await Zg(r.localStore,e,!1).then(()=>ey(r,e,n)).catch(xl)}async function c9(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await xM(n.localStore,e);XC(n,r,null),YC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bl(n,i)}catch(i){await xl(i)}}async function h9(t,e,n){const r=pe(t);try{const i=await function(o,a){const u=pe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(He(d!==null),h=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);XC(r,e,n),YC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bl(r,i)}catch(i){await xl(i)}}function YC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function XC(t,e,n){const r=pe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||JC(t,r)})}function JC(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&($C(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),I1(t))}function SE(t,e,n){for(const r of n)r instanceof QC?(t.wa.addReference(r.key,e),d9(t,r)):r instanceof KC?(K("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||JC(t,r.key)):ue()}function d9(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ga.add(r),I1(t))}function I1(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Z(ze.fromString(e)),r=t.Da.next();t.ya.set(r,new r9(n)),t.pa=t.pa.insert(n,r),FC(t.remoteStore,new Ai(yr(yf(n.path)),r,"TargetPurposeLimboResolution",n1._e))}}async function bl(t,e,n){const r=pe(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const h=p1.Qi(u.targetId,l);s.push(h)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const h=pe(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(l,f=>N.forEach(f.ki,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>N.forEach(f.qi,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Cl(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const p=h.ts.get(f),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);h.ts=h.ts.insert(f,y)}}}(r.localStore,s))}async function f9(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await LC(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new W(b.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bl(n,r._s)}}function p9(t,e){const n=pe(t),r=n.ya.get(e);if(r&&r.Ra)return _e().add(r.key);{let i=_e();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function m9(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l9.bind(null,e),e.Va.a_=ZM.bind(null,e.eventManager),e.Va.Fa=e9.bind(null,e.eventManager),e}function g9(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h9.bind(null,e),e}class IE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return IM(this.persistence,new TM,e.initialUser,this.serializer)}createPersistence(e){return new _M(f1.jr,this.serializer)}createSharedClientState(e){return new bM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class y9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f9.bind(null,this.syncEngine),await YM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JM}()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),r=function(s){return new jM(s)}(e.databaseInfo);return function(s,o,a,u){return new VM(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new FM(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>TE(this.syncEngine,n,0),function(){return _E.D()?new _E:new DM}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){const d=new i9(i,s,o,a,u,l);return h&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=pe(n);K("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await kl(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=rC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new W(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rm(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w9(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>wE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>wE(e.remoteStore,s)),t._onlineComponents=e}function _9(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function w9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_9(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await rm(t,new IE)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await rm(t,new IE);return t._offlineComponents}async function ZC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await xE(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await xE(t,new y9))),t._onlineComponents}function E9(t){return ZC(t).then(e=>e.syncEngine)}async function Jh(t){const e=await ZC(t),n=e.eventManager;return n.onListen=s9.bind(null,e.syncEngine),n.onUnlisten=a9.bind(null,e.syncEngine),n}function T9(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const h=new x1({next:f=>{o.enqueueAndForget(()=>E1(s,d));const p=f.docs.has(a);!p&&f.fromCache?l.reject(new W(b.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&u&&u.source==="server"?l.reject(new W(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new S1(yf(a.path),h,{includeMetadataChanges:!0,J_:!0});return w1(s,d)}(await Jh(t),t.asyncQueue,e,n,r)),r.promise}function S9(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const h=new x1({next:f=>{o.enqueueAndForget(()=>E1(s,d)),f.fromCache&&u.source==="server"?l.reject(new W(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new S1(a,h,{includeMetadataChanges:!0,J_:!0});return w1(s,d)}(await Jh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e,n){if(!n)throw new W(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I9(t,e,n,r){if(e===!0&&r===!0)throw new W(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PE(t){if(!Z.isDocumentKey(t))throw new W(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RE(t){if(Z.isDocumentKey(t))throw new W(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new W(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new W(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hj;switch(r.type){case"firstParty":return new Gj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CE.get(n);r&&(K("ComponentProvider","Removing Datastore"),CE.delete(n),r.terminate())}(this),Promise.resolve()}}function x9(t,e,n,r={}){var i;const s=(t=Sn(t,Pf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ht.MOCK_USER;else{a=KI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ht(l)}t._authCredentials=new Wj(new nC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class zi extends to{constructor(e,n,r){super(e,n,yf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Z(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function re(t,e,...n){if(t=st(t),tP("collection","path",e),t instanceof Pf){const r=ze.fromString(e,...n);return RE(r),new zi(t,null,r)}{if(!(t instanceof Yt||t instanceof zi))throw new W(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return RE(r),new zi(t.firestore,null,r)}}function B(t,e,...n){if(t=st(t),arguments.length===1&&(e=rC.newId()),tP("doc","path",e),t instanceof Pf){const r=ze.fromString(e,...n);return PE(r),new Yt(t,null,new Z(r))}{if(!(t instanceof Yt||t instanceof zi))throw new W(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return PE(r),new Yt(t.firestore,t instanceof zi?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new VC(this,"async_queue_retry"),this.iu=()=>{const n=nm();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=nm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new zr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Cl(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=v1.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ue()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function kE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Zi extends Pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new C9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nP(this),this._firestoreClient.terminate()}}function P9(t,e){const n=typeof t=="object"?t:Dv(),r=typeof t=="string"?t:e||"(default)",i=Zd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=HI("firestore");s&&x9(i,...s)}return i}function Rf(t){return t._firestoreClient||nP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nP(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,h){return new aL(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eP(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new v9(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(Zt.fromBase64String(e))}catch(n){throw new W(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new la(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=/^__.*__$/;class A9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rl(e,this.data,n,this.fieldTransforms)}}class rP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class R1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new R1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Zh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(iP(this.Iu)&&R9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class k9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sf(e)}pu(e,n,r,i=!1){return new R1({Iu:e,methodName:n,gu:r,path:jt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A1(t){const e=t._freezeSettings(),n=Sf(t._databaseId);return new k9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b9(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);k1("Data must be an object, but it was:",o,r);const a=sP(r,o);let u,l;if(s.merge)u=new wn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=ty(e,d,n);if(!o.contains(f))throw new W(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);aP(h,f)||h.push(f)}u=new wn(h),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new A9(new dn(a),u,l)}class kf extends C1{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kf}}function D9(t,e,n,r){const i=t.pu(1,e,n);k1("Data must be an object, but it was:",i,r);const s=[],o=dn.empty();Zs(r,(u,l)=>{const h=b1(e,u,n);l=st(l);const d=i.Ru(h);if(l instanceof kf)s.push(h);else{const f=Dl(l,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new wn(s);return new rP(o,a,i.fieldTransforms)}function O9(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[ty(e,r,n)],u=[i];if(s.length%2!=0)throw new W(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ty(e,s[f])),u.push(s[f+1]);const l=[],h=dn.empty();for(let f=a.length-1;f>=0;--f)if(!aP(l,a[f])){const p=a[f];let m=u[f];m=st(m);const y=o.Ru(p);if(m instanceof kf)l.push(p);else{const E=Dl(m,y);E!=null&&(l.push(p),h.set(p,E))}}const d=new wn(l);return new rP(h,d,o.fieldTransforms)}function N9(t,e,n,r=!1){return Dl(n,t.pu(r?4:3,e))}function Dl(t,e){if(oP(t=st(t)))return k1("Unsupported field value:",e,t),sP(t,e);if(t instanceof C1)return function(r,i){if(!iP(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Dl(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Tt.fromDate(r);return{timestampValue:Yh(i.serializer,s)}}if(r instanceof Tt){const s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(i.serializer,s)}}if(r instanceof P1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof la)return{bytesValue:kC(i.serializer,r._byteString)};if(r instanceof Yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:h1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Cf(r)}`)}(t,e)}function sP(t,e){const n={};return iC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const s=Dl(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof P1||t instanceof la||t instanceof Yt||t instanceof C1)}function k1(t,e,n){if(!oP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cf(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function ty(t,e,n){if((e=st(e))instanceof Af)return e._internalPath;if(typeof e=="string")return b1(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const j9=new RegExp("[~\\*/\\[\\]]");function b1(t,e,n){if(e.search(j9)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Af(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new W(b.INVALID_ARGUMENT,a+t+u)}function aP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L9 extends uP{data(){return super.data()}}function D1(t,e){return typeof e=="string"?b1(t,e):e instanceof Af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O1{}class M9 extends O1{}function nr(t,e,...n){let r=[];e instanceof O1&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof N1).length,a=s.filter(u=>u instanceof bf).length;if(o>1||o>0&&a>0)throw new W(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class bf extends M9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bf(e,n,r)}_apply(e){const n=this._parse(e);return cP(e._query,n),new to(e.firestore,e.converter,Qg(e._query,n))}_parse(e){const n=A1(e.firestore);return function(s,o,a,u,l,h,d){let f;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){DE(d,h);const p=[];for(const m of d)p.push(bE(u,s,m));f={arrayValue:{values:p}}}else f=bE(u,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||DE(d,h),f=N9(a,o,d,h==="in"||h==="not-in");return yt.create(l,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zr(t,e,n){const r=e,i=D1("where",t);return bf._create(i,r,n)}class N1 extends O1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new N1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)cP(o,u),o=Qg(o,u)}(e._query,n),new to(e.firestore,e.converter,Qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bE(t,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new W(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fC(e)&&n.indexOf("/")!==-1)throw new W(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!Z.isDocumentKey(r))throw new W(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eE(t,new Z(r))}if(n instanceof Yt)return eE(t,n._key);throw new W(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function DE(t,e){if(!Array.isArray(t)||t.length===0)throw new W(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cP(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V9{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new P1(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=Xi(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);He(jC(r));const i=new Zu(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hP extends uP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hc extends hP{data(e={}){return super.data(e)}}class dP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hc(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:F9(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){t=Sn(t,Yt);const e=Sn(t.firestore,Zi);return T9(Rf(e),t._key).then(n=>fP(e,t,n))}class j1 extends V9{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function yn(t){t=Sn(t,to);const e=Sn(t.firestore,Zi),n=Rf(e),r=new j1(e);return lP(t._query),S9(n,t._query).then(i=>new dP(e,r,t,i))}function Ge(t,e,n){t=Sn(t,Yt);const r=Sn(t.firestore,Zi),i=U9(t.converter,e,n);return L1(r,[b9(A1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jn.none())])}function Fo(t,e,n,...r){t=Sn(t,Yt);const i=Sn(t.firestore,Zi),s=A1(i);let o;return o=typeof(e=st(e))=="string"||e instanceof Af?O9(s,"updateDoc",t._key,e,n,r):D9(s,"updateDoc",t._key,e),L1(i,[o.toMutation(t._key,Jn.exists(!0))])}function un(t){return L1(Sn(t.firestore,Zi),[new u1(t._key,Jn.none())])}function xr(t,...e){var n,r,i;t=st(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||kE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(kE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let u,l,h;if(t instanceof Yt)l=Sn(t.firestore,Zi),h=yf(t._key.path),u={next:d=>{e[o]&&e[o](fP(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Sn(t,to);l=Sn(d.firestore,Zi),h=d._query;const f=new j1(l);u={next:p=>{e[o]&&e[o](new dP(l,f,d,p))},error:e[o+1],complete:e[o+2]},lP(t._query)}return function(f,p,m,y){const E=new x1(y),_=new S1(p,E,m);return f.asyncQueue.enqueueAndForget(async()=>w1(await Jh(f),_)),()=>{E.Na(),f.asyncQueue.enqueueAndForget(async()=>E1(await Jh(f),_))}}(Rf(l),h,a,u)}function L1(t,e){return function(r,i){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>u9(await E9(r),i,s)),s.promise}(Rf(t),e)}function fP(t,e,n){const r=n.docs.get(e._key),i=new j1(t);return new hP(t,i,e._key,r,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ea=i})(Xs),Fs(new Gi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Zi(new Qj(r.getProvider("auth-internal")),new Xj(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),gr(Yw,"4.3.2",e),gr(Yw,"4.3.2","esm2017")})();var $9="firebase",B9="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr($9,B9,"app");function M1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z9=pP,mP=new pl("auth","Firebase",pP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new kv("@firebase/auth");function q9(t,...e){ed.logLevel<=Te.WARN&&ed.warn(`Auth (${Xs}): ${t}`,...e)}function Wc(t,...e){ed.logLevel<=Te.ERROR&&ed.error(`Auth (${Xs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,...e){throw V1(t,...e)}function _r(t,...e){return V1(t,...e)}function gP(t,e,n){const r=Object.assign(Object.assign({},z9()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function H9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sr(t,"argument-error"),gP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function V1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mP.create(t,...e)}function de(t,e,...n){if(!t)throw V1(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function ei(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W9(){return OE()==="http:"||OE()==="https:"}function OE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W9()||E4()||"connection"in navigator)?navigator.onLine:!0}function K9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=_4()||T4()}get(){return Q9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new Ol(3e4,6e4);function F1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ia(t,e,n,r,i={}){return vP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ml(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),yP.fetch()(_P(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function vP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},G9),e);try{const i=new J9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _c(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _c(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw _c(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gP(t,h,l);Sr(t,h)}}catch(i){if(i instanceof Ir)throw i;Sr(t,"network-request-failed",{message:String(i)})}}async function X9(t,e,n,r,i={}){const s=await Ia(t,e,n,r,i);return"mfaPendingCredential"in s&&Sr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _P(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?U1(t.config,i):`${t.config.apiScheme}://${i}`}class J9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),Y9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_r(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e){return Ia(t,"POST","/v1/accounts:delete",e)}async function eV(t,e){return Ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tV(t,e=!1){const n=st(t),r=await n.getIdToken(e),i=$1(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_u(im(i.auth_time)),issuedAtTime:_u(im(i.iat)),expirationTime:_u(im(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function im(t){return Number(t)*1e3}function $1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=zI(n);return i?JSON.parse(i):(Wc("Failed to decode base64 JWT payload"),null)}catch(i){return Wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nV(t){const e=$1(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&rV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t){var e;const n=t.auth,r=await t.getIdToken(),i=await rl(t,eV(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aV(s.providerUserInfo):[],a=oV(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wP(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function sV(t){const e=st(t);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aV(t){return t.map(e=>{var{providerId:n}=e,r=M1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){const n=await vP(t,{},async()=>{const r=ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_P(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lV(t,e){return Ia(t,"POST","/v2/accounts:revokeToken",F1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new il;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=M1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await rl(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tV(this,e)}reload(){return sV(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await rl(this,Z9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(l=n.createdAt)!==null&&l!==void 0?l:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:v,isAnonymous:I,providerData:C,stsTokenManager:R}=n;de(w&&R,e,"internal-error");const O=il.fromJSON(this.name,R);de(typeof w=="string",e,"internal-error"),pi(d,e.name),pi(f,e.name),de(typeof v=="boolean",e,"internal-error"),de(typeof I=="boolean",e,"internal-error"),pi(p,e.name),pi(m,e.name),pi(y,e.name),pi(E,e.name),pi(_,e.name),pi(g,e.name);const U=new As({uid:w,auth:e,email:f,emailVerified:v,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:O,createdAt:_,lastLoginAt:g});return C&&Array.isArray(C)&&(U.providerData=C.map(L=>Object.assign({},L))),E&&(U._redirectEventId=E),U}static async _fromIdTokenResponse(e,n,r=!1){const i=new il;i.updateFromServerResponse(n);const s=new As({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await td(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;function Fr(t){ei(t instanceof Function,"Expected a class definition");let e=NE.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EP.type="NONE";const jE=EP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?As._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $o(Fr(jE),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Fr(jE);const o=Qc(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=await l._get(o);if(h){const d=As._fromJSON(e,h);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new $o(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new $o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CP(e))return"Blackberry";if(PP(e))return"Webos";if(B1(e))return"Safari";if((e.includes("chrome/")||SP(e))&&!e.includes("edge/"))return"Chrome";if(xP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TP(t=Jt()){return/firefox\//i.test(t)}function B1(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SP(t=Jt()){return/crios\//i.test(t)}function IP(t=Jt()){return/iemobile/i.test(t)}function xP(t=Jt()){return/android/i.test(t)}function CP(t=Jt()){return/blackberry/i.test(t)}function PP(t=Jt()){return/webos/i.test(t)}function Df(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cV(t=Jt()){var e;return Df(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hV(){return S4()&&document.documentMode===10}function RP(t=Jt()){return Df(t)||xP(t)||PP(t)||CP(t)||/windows phone/i.test(t)||IP(t)}function dV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t,e=[]){let n;switch(t){case"Browser":n=LE(Jt());break;case"Worker":n=`${LE(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e={}){return Ia(t,"GET","/v2/passwordPolicy",F1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=6;class gV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new fV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?st(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pV(this),n=new gV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&q9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Of(t){return st(t)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=k4(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _V(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_r("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vV().appendChild(r)})}function wV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t,e){const n=Zd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lh(s,e??{}))return i;Sr(i,"already-initialized")}return n.initialize({options:e})}function TV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SV(t,e,n){const r=Of(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=kP(e),{host:o,port:a}=IV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xV()}function kP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IV(t){const e=kP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:VE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:VE(o)}}}function VE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return X9(t,"POST","/v1/accounts:signInWithIdp",F1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="http://localhost";class qs extends bP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=M1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:CV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends z1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Nl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Nl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Nl{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await As._fromIdTokenResponse(e,r,i),o=UE(r);return new ca({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=UE(r);return new ca({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function UE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Ir{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nd(e,n,r,i)}}function DP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(t,s,e,r):s})}async function PV(t,e,n=!1){const r=await rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await rl(t,DP(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=$1(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),ca._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t,e,n=!1){const r="signIn",i=await DP(t,r,e),s=await ca._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function kV(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function bV(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function OP(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}function DV(t){return st(t).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){const t=Jt();return B1(t)||Df(t)}const NV=1e3,jV=10;class jP extends NP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=OV()&&dV(),this.fallbackToPolling=RP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jP.type="LOCAL";const LV=jP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP extends NP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LP.type="SESSION";const MP=LP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await MV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=q1("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function UV(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function FV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $V(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BV(){return VP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="firebaseLocalStorageDb",zV=1,id="firebaseLocalStorage",FP="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([id],e?"readwrite":"readonly").objectStore(id)}function qV(){const t=indexedDB.deleteDatabase(UP);return new jl(t).toPromise()}function ry(){const t=indexedDB.open(UP,zV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(id,{keyPath:FP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(id)?e(r):(r.close(),await qV(),e(await ry()))})})}async function FE(t,e,n){const r=jf(t,!0).put({[FP]:e,value:n});return new jl(r).toPromise()}async function HV(t,e){const n=jf(t,!1).get(e),r=await new jl(n).toPromise();return r===void 0?null:r.value}function $E(t,e){const n=jf(t,!0).delete(e);return new jl(n).toPromise()}const WV=800,QV=3;class $P{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(BV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FV(),!this.activeServiceWorker)return;this.sender=new VV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$V()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await FE(e,rd,"1"),await $E(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jf(i,!1).getAll();return new jl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$P.type="LOCAL";const KV=$P;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t,e){return e?Fr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends bP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GV(t){return AV(t.auth,new H1(t),t.bypassAuthState)}function YV(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),RV(n,new H1(t),t.bypassAuthState)}async function XV(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),PV(n,new H1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GV;case"linkViaPopup":case"linkViaRedirect":return XV;case"reauthViaPopup":case"reauthViaRedirect":return YV;default:Sr(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new Ol(2e3,1e4);class Co extends zP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=q1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JV.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="pendingRedirect",Kc=new Map;class eU extends zP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await tU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tU(t,e){const n=HP(e),r=qP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function nU(t,e){return qP(t)._set(HP(e),"true")}function rU(t,e){Kc.set(t._key(),e)}function qP(t){return Fr(t._redirectPersistence)}function HP(t){return Qc(ZV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t,e,n){return sU(t,e,n)}async function sU(t,e,n){const r=Of(t);H9(t,e,z1),await r._initializationPromise;const i=BP(r,n);return await nU(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function oU(t,e,n=!1){const r=Of(t),i=BP(r,e),o=await new eU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=10*60*1e3;class uU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aU&&this.cachedEventUids.clear(),this.cachedEventUids.has(BE(e))}saveEventToCache(e){this.cachedEventUids.add(BE(e)),this.lastProcessedEventTime=Date.now()}}function BE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e={}){return Ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dU=/^https?/;async function fU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cU(t);for(const n of e)try{if(pU(n))return}catch{}Sr(t,"unauthorized-domain")}function pU(t){const e=ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dU.test(n))return!1;if(hU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new Ol(3e4,6e4);function zE(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gU(t){return new Promise((e,n)=>{var r,i,s;function o(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(_r(t,"network-request-failed"))},timeout:mU.get()})}if(!((i=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wr().gapi)===null||s===void 0)&&s.load)o();else{const a=wV("iframefcb");return wr()[a]=()=>{gapi.load?o():n(_r(t,"network-request-failed"))},_V(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function yU(t){return Gc=Gc||gU(t),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new Ol(5e3,15e3),_U="__/auth/iframe",wU="emulator/auth/iframe",EU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SU(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?U1(e,wU):`https://${t.config.authDomain}/${_U}`,r={apiKey:e.apiKey,appName:t.name,v:Xs},i=TU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ml(r).slice(1)}`}async function IU(t){const e=await yU(t),n=wr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:SU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=_r(t,"network-request-failed"),a=wr().setTimeout(()=>{s(o)},vU.get());function u(){wr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CU=500,PU=600,RU="_blank",AU="http://localhost";class qE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kU(t,e,n,r=CU,i=PU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xU),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Jt().toLowerCase();n&&(a=SP(l)?RU:n),TP(l)&&(e=e||AU,u.scrollbars="yes");const h=Object.entries(u).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(cV(l)&&a!=="_self")return bU(e||"",a),new qE(null);const d=window.open(e||"",a,h);de(d,t,"popup-blocked");try{d.focus()}catch{}return new qE(d)}function bU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="__/auth/handler",OU="emulator/auth/handler",NU=encodeURIComponent("fac");async function HE(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xs,eventId:i};if(e instanceof z1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",A4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(s||{}))o[h]=d}if(e instanceof Nl){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),l=u?`#${NU}=${encodeURIComponent(u)}`:"";return`${jU(t)}?${ml(a).slice(1)}${l}`}function jU({config:t}){return t.emulator?U1(t,OU):`https://${t.authDomain}/${DU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="webStorageSupport";class LU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MP,this._completeRedirectFn=oU,this._overrideRedirectResult=rU}async _openPopup(e,n,r,i){var s;ei((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await HE(e,n,r,ny(),i);return kU(e,o,q1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await HE(e,n,r,ny(),i);return UV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ei(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IU(e),r=new uU(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sm,{type:sm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[sm];o!==void 0&&n(!!o),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RP()||B1()||Df()}}const MU=LU;var WE="@firebase/auth",QE="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function FU(t){Fs(new Gi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AP(t)},l=new yV(r,i,s,u);return TV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new Gi("auth-internal",e=>{const n=Of(e.getProvider("auth").getImmediate());return(r=>new VU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(WE,QE,UU(t)),gr(WE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=5*60,BU=QI("authIdTokenMaxAge")||$U;let KE=null;const zU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BU)return;const i=n==null?void 0:n.token;KE!==i&&(KE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qU(t=Dv()){const e=Zd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EV(t,{popupRedirectResolver:MU,persistence:[KV,LV,MP]}),r=QI("authTokenSyncURL");if(r){const s=zU(r);bV(n,s,()=>s(n.currentUser)),kV(n,o=>s(o))}const i=qI("auth");return i&&SV(n,`http://${i}`),n}FU("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="firebasestorage.googleapis.com",KP="storageBucket",HU=2*60*1e3,WU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends Ir{constructor(e,n,r=0){super(om(e),`Firebase Storage: ${n} (${om(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function om(t){return"storage/"+t}function W1(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(at.UNKNOWN,t)}function QU(t){return new ut(at.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KU(t){return new ut(at.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(at.UNAUTHENTICATED,t)}function YU(){return new ut(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XU(t){return new ut(at.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function JU(){return new ut(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZU(){return new ut(at.CANCELED,"User canceled the upload/download.")}function eF(t){return new ut(at.INVALID_URL,"Invalid URL '"+t+"'.")}function tF(t){return new ut(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nF(){return new ut(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KP+"' property when initializing the app?")}function rF(){return new ut(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iF(){return new ut(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sF(t){return new ut(at.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iy(t){return new ut(at.INVALID_ARGUMENT,t)}function GP(){return new ut(at.APP_DELETED,"The Firebase app was deleted.")}function oF(t){return new ut(at.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wu(t,e){return new ut(at.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qa(t){throw new ut(at.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw tF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(v){v.path_=decodeURIComponent(v.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},y=n===QP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${E}`,"i"),w=[{regex:a,indices:u,postModify:s},{regex:p,indices:m,postModify:l},{regex:_,indices:{bucket:1,path:2},postModify:l}];for(let v=0;v<w.length;v++){const I=w[v],C=I.regex.exec(e);if(C){const R=C[I.indices.bucket];let O=C[I.indices.path];O||(O=""),r=new En(R,O),I.postModify(r);break}}if(r==null)throw eF(e);return r}}class aF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function h(...E){l||(l=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(p,u())},E)}function f(){s&&clearTimeout(s)}function p(E,..._){if(l){f();return}if(E){f(),h.call(null,E,..._);return}if(u()||o){f(),h.call(null,E,..._);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let m=!1;function y(E){m||(m=!0,f(),!l&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function lF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){return t!==void 0}function hF(t){return typeof t=="object"&&!Array.isArray(t)}function Q1(t){return typeof t=="string"||t instanceof String}function GE(t){return K1()&&t instanceof Blob}function K1(){return typeof Blob<"u"&&!w4()}function YE(t,e,n,r){if(r<e)throw iy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function YP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ks||(ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r,i,s,o,a,u,l,h,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new wc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ks.NO_ERROR,u=s.getStatus();if(!a||dF(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===ks.ABORT;r(!1,new wc(!1,null,h));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new wc(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());cF(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=W1();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?GP():ZU();o(u)}else{const u=JU();o(u)}};this.canceled_?n(!1,new wc(!1,null,!0)):this.backoffId_=uF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vF(t,e,n,r,i,s,o=!0){const a=YP(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return gF(l,e),pF(l,n),mF(l,s),yF(l,r),new fF(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wF(...t){const e=_F();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(K1())return new Blob(t);throw new ut(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){if(typeof atob>"u")throw sF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class am{constructor(e,n){this.data=e,this.contentType=n||null}}function SF(t,e){switch(t){case hr.RAW:return new am(XP(e));case hr.BASE64:case hr.BASE64URL:return new am(JP(t,e));case hr.DATA_URL:return new am(xF(e),CF(e))}throw W1()}function XP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function IF(t){let e;try{e=decodeURIComponent(t)}catch{throw wu(hr.DATA_URL,"Malformed data URL.")}return XP(e)}function JP(t,e){switch(t){case hr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw wu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw wu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=TF(e)}catch(i){throw i.message.includes("polyfill")?i:wu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class ZP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wu(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=PF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xF(t){const e=new ZP(t);return e.base64?JP(hr.BASE64,e.rest):IF(e.rest)}function CF(t){return new ZP(t).contentType}function PF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){let r=0,i="";GE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(GE(this.data_)){const r=this.data_,i=EF(r,e,n);return i===null?null:new xi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xi(r,!0)}}static getBlob(...e){if(K1()){const n=e.map(r=>r instanceof xi?r.data_:r);return new xi(wF.apply(null,n))}else{const n=e.map(o=>Q1(o)?SF(hr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new xi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){let e;try{e=JSON.parse(t)}catch{return null}return hF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function t6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e){return e}class tn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||kF}}let Ec=null;function bF(t){return!Q1(t)||t.length<2?t:t6(t)}function n6(){if(Ec)return Ec;const t=[];t.push(new tn("bucket")),t.push(new tn("generation")),t.push(new tn("metageneration")),t.push(new tn("name","fullPath",!0));function e(s,o){return bF(o)}const n=new tn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new tn("size");return i.xform=r,t.push(i),t.push(new tn("timeCreated")),t.push(new tn("updated")),t.push(new tn("md5Hash",null,!0)),t.push(new tn("cacheControl",null,!0)),t.push(new tn("contentDisposition",null,!0)),t.push(new tn("contentEncoding",null,!0)),t.push(new tn("contentLanguage",null,!0)),t.push(new tn("contentType",null,!0)),t.push(new tn("metadata","customMetadata",!0)),Ec=t,Ec}function DF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new En(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function OF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return DF(r,t),r}function r6(t,e,n){const r=e6(e);return r===null?null:OF(t,r,n)}function NF(t,e,n,r){const i=e6(e);if(i===null||!Q1(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),p=G1(f,n,r),m=YP({alt:"media",token:l});return p+m})[0]}function jF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class i6{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){if(!t)throw W1()}function LF(t,e){function n(r,i){const s=r6(t,i,e);return s6(s!==null),s}return n}function MF(t,e){function n(r,i){const s=r6(t,i,e);return s6(s!==null),NF(s,i,t.host,t._protocol)}return n}function o6(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=YU():i=GU():n.getStatus()===402?i=KU(t.bucket):n.getStatus()===403?i=XU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function VF(t){const e=o6(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=QU(t.path)),s.serverResponse=i.serverResponse,s}return n}function UF(t,e,n){const r=e.fullServerUrl(),i=G1(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new i6(i,s,MF(t,n),o);return a.errorHandler=VF(e),a}function FF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $F(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=FF(null,e)),r}function BF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let v=0;v<2;v++)w=w+Math.random().toString().slice(2);return w}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=$F(e,r,i),h=jF(l,n),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+u+"--",p=xi.getBlob(d,r,f);if(p===null)throw rF();const m={name:l.fullPath},y=G1(s,t.host,t._protocol),E="POST",_=t.maxUploadRetryTime,g=new i6(y,E,LF(t,n),_);return g.urlParams=m,g.headers=o,g.body=p.uploadData(),g.errorHandler=o6(e),g}class zF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw qa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qF extends zF{initXhr(){this.xhr_.responseType="text"}}function a6(){return new qF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hs(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return t6(this._location.path)}get storage(){return this._service}get parent(){const e=RF(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new Hs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oF(e)}}function HF(t,e,n){t._throwIfRoot("uploadBytes");const r=BF(t.storage,t._location,n6(),new xi(e,!0),n);return t.storage.makeRequestWithTokens(r,a6).then(i=>({metadata:i,ref:t}))}function WF(t){t._throwIfRoot("getDownloadURL");const e=UF(t.storage,t._location,n6());return t.storage.makeRequestWithTokens(e,a6).then(n=>{if(n===null)throw iF();return n})}function QF(t,e){const n=AF(t._location.path,e),r=new En(t._location.bucket,n);return new Hs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){return/^[A-Za-z]+:\/\//.test(t)}function GF(t,e){return new Hs(t,e)}function u6(t,e){if(t instanceof Y1){const n=t;if(n._bucket==null)throw nF();const r=new Hs(n,n._bucket);return e!=null?u6(r,e):r}else return e!==void 0?QF(t,e):t}function YF(t,e){if(e&&KF(e)){if(t instanceof Y1)return GF(t,e);throw iy("To use ref(service, url), the first argument must be a Storage instance.")}else return u6(t,e)}function XE(t,e){const n=e==null?void 0:e[KP];return n==null?null:En.makeFromBucketSpec(n,t)}function XF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:KI(i,t.app.options.projectId))}class Y1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=QP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HU,this._maxUploadRetryTime=WU,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=XE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=XE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new aF(GP());{const o=vF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const JE="@firebase/storage",ZE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="storage";function JF(t,e,n){return t=st(t),HF(t,e,n)}function ZF(t){return t=st(t),WF(t)}function e8(t,e){return t=st(t),YF(t,e)}function t8(t=Dv(),e){t=st(t);const r=Zd(t,l6).getImmediate({identifier:e}),i=HI("storage");return i&&n8(r,...i),r}function n8(t,e,n,r={}){XF(t,e,n,r)}function r8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Y1(n,r,i,e,Xs)}function i8(){Fs(new Gi(l6,r8,"PUBLIC").setMultipleInstances(!0)),gr(JE,ZE,""),gr(JE,ZE,"esm2017")}i8();const s8={apiKey:"AIzaSyDe2gn1Hk0C_M_FLOS-7WC-JSaw4ACbINw",authDomain:"essencia-app.firebaseapp.com",projectId:"essencia-app",storageBucket:"essencia-app.appspot.com",messagingSenderId:"124764512296",appId:"1:124764512296:web:528e4cc948dc6875f0951d",measurementId:"G-BM7WEF7F7Y"},c6=XI(s8),ha=qU(c6),o8=new jr,ce=P9(c6),a8=t8(),u8=(t,e)=>{const n=B(ce,"users",t);return xr(n,r=>{if(r.exists()){const i=r.data().viewedNotifications;e(i)}else console.log("El documento del usuario no existe")})},l8=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{const i=u8(t,s=>{n(s)});return()=>i()},[t]),{viewedNotificationsData:e}},h6=()=>{const{userId:t}=T.useContext(ve),{viewedNotificationsData:e}=l8(t);return c.jsx(rs,{icon:c.jsx(Pv,{}),navigateTo:"/notifications",bg:"gray",bgOpacity:"40",showNotificationDot:e&&!0,children:"Notificaciones"})},Lf=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.59335 3.92001H3.40667C2.26667 3.92001 1.33334 4.85334 1.33334 5.99334V13.5667C1.33334 14.5333 2.02668 14.9467 2.87334 14.4733L5.49334 13.0133C5.77334 12.86 6.22668 12.86 6.50001 13.0133L9.12 14.4733C9.96667 14.9467 10.66 14.5333 10.66 13.5667V5.99334C10.6667 4.85334 9.73335 3.92001 8.59335 3.92001Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M10.6667 5.99334V13.5667C10.6667 14.5333 9.97334 14.94 9.12668 14.4733L6.50668 13.0133C6.22668 12.86 5.77334 12.86 5.49334 13.0133L2.87334 14.4733C2.02668 14.94 1.33334 14.5333 1.33334 13.5667V5.99334C1.33334 4.85334 2.26667 3.92001 3.40667 3.92001H8.59335C9.73335 3.92001 10.6667 4.85334 10.6667 5.99334Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M14.6667 3.40667V10.98C14.6667 11.9467 13.9733 12.3533 13.1267 11.8867L10.6667 10.5133V5.99334C10.6667 4.85334 9.73335 3.92001 8.59335 3.92001H5.33334V3.40667C5.33334 2.26667 6.26667 1.33334 7.40667 1.33334H12.5934C13.7334 1.33334 14.6667 2.26667 14.6667 3.40667Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),d6=()=>c.jsx(rs,{icon:c.jsx(Lf,{}),navigateTo:"/bookmarks",bg:"gray",bgOpacity:"40",children:"Guardados"}),Mf=({active:t})=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:t?"#66ccff":"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11.3073 4.11337C12.6406 5.04004 13.5606 6.51337 13.7473 8.21337",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M2.32666 8.24667C2.49999 6.55333 3.40666 5.08 4.72666 4.14667",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M5.45963 13.96C6.23296 14.3533 7.11296 14.5733 8.03963 14.5733C8.93296 14.5733 9.77296 14.3733 10.5263 14.0066",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M8.03952 5.13333C9.06309 5.13333 9.89285 4.30357 9.89285 3.28C9.89285 2.25643 9.06309 1.42667 8.03952 1.42667C7.01595 1.42667 6.18619 2.25643 6.18619 3.28C6.18619 4.30357 7.01595 5.13333 8.03952 5.13333Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M3.22052 13.28C4.24409 13.28 5.07385 12.4502 5.07385 11.4267C5.07385 10.4031 4.24409 9.57333 3.22052 9.57333C2.19695 9.57333 1.36719 10.4031 1.36719 11.4267C1.36719 12.4502 2.19695 13.28 3.22052 13.28Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M12.7804 13.28C13.804 13.28 14.6338 12.4502 14.6338 11.4267C14.6338 10.4031 13.804 9.57333 12.7804 9.57333C11.7569 9.57333 10.9271 10.4031 10.9271 11.4267C10.9271 12.4502 11.7569 13.28 12.7804 13.28Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),f6=()=>c.jsx(rs,{icon:c.jsx(Mf,{active:!1}),navigateTo:"/shares",bg:"gray",bgOpacity:"40",children:"Compartidos"}),p6=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M1.33334 8.58663V7.41329C1.33334 6.71996 1.90001 6.14663 2.60001 6.14663C3.80668 6.14663 4.30001 5.29329 3.69334 4.24663C3.34668 3.64663 3.55334 2.86663 4.16001 2.51996L5.31334 1.85996C5.84001 1.54663 6.52001 1.73329 6.83334 2.25996L6.90668 2.38663C7.50668 3.43329 8.49334 3.43329 9.10001 2.38663L9.17334 2.25996C9.48668 1.73329 10.1667 1.54663 10.6933 1.85996L11.8467 2.51996C12.4533 2.86663 12.66 3.64663 12.3133 4.24663C11.7067 5.29329 12.2 6.14663 13.4067 6.14663C14.1 6.14663 14.6733 6.71329 14.6733 7.41329V8.58663C14.6733 9.27996 14.1067 9.85329 13.4067 9.85329C12.2 9.85329 11.7067 10.7066 12.3133 11.7533C12.66 12.36 12.4533 13.1333 11.8467 13.48L10.6933 14.14C10.1667 14.4533 9.48668 14.2666 9.17334 13.74L9.10001 13.6133C8.50001 12.5666 7.51334 12.5666 6.90668 13.6133L6.83334 13.74C6.52001 14.2666 5.84001 14.4533 5.31334 14.14L4.16001 13.48C3.55334 13.1333 3.34668 12.3533 3.69334 11.7533C4.30001 10.7066 3.80668 9.85329 2.60001 9.85329C1.90001 9.85329 1.33334 9.27996 1.33334 8.58663Z",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})]}),m6=()=>c.jsx(rs,{icon:c.jsx(p6,{}),navigateTo:"/setting",bg:"gray",bgOpacity:"40",children:"Configuracion"}),Vf=T.createContext({showNotification:()=>{}});const oi=()=>c.jsx("svg",{className:"loading-icon",width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{opacity:"0.5",d:"M8.00001 1.33333C6.68147 1.33333 5.39254 1.72433 4.29621 2.45687C3.19988 3.18941 2.3454 4.2306 1.84082 5.44878C1.33623 6.66695 1.20421 8.0074 1.46144 9.3006C1.71868 10.5938 2.35362 11.7817 3.28597 12.714C4.21832 13.6464 5.4062 14.2813 6.69941 14.5386C7.99262 14.7958 9.33306 14.6638 10.5512 14.1592C11.7694 13.6546 12.8106 12.8001 13.5431 11.7038C14.2757 10.6075 14.6667 9.31854 14.6667 8C14.6667 7.12452 14.4942 6.25761 14.1592 5.44878C13.8242 4.63994 13.3331 3.90501 12.7141 3.28595C12.095 2.6669 11.3601 2.17583 10.5512 1.8408C9.7424 1.50577 8.87549 1.33333 8.00001 1.33333ZM8.00001 13.3333C6.94518 13.3333 5.91403 13.0205 5.03697 12.4345C4.15991 11.8485 3.47632 11.0155 3.07266 10.041C2.66899 9.06644 2.56337 7.99408 2.76916 6.95952C2.97495 5.92495 3.4829 4.97464 4.22878 4.22876C4.97466 3.48288 5.92497 2.97493 6.95953 2.76915C7.9941 2.56336 9.06645 2.66897 10.041 3.07264C11.0155 3.47631 11.8485 4.1599 12.4345 5.03696C13.0206 5.91402 13.3333 6.94517 13.3333 8C13.3333 9.41449 12.7714 10.771 11.7712 11.7712C10.7711 12.7714 9.4145 13.3333 8.00001 13.3333Z",fill:"#A3A3A3"}),c.jsx("path",{d:"M13.3333 8H14.6667C14.6667 7.12452 14.4942 6.25761 14.1592 5.44878C13.8242 4.63994 13.3331 3.90501 12.714 3.28595C12.095 2.6669 11.3601 2.17583 10.5512 1.8408C9.74239 1.50577 8.87548 1.33333 8 1.33333V2.66667C9.41449 2.66667 10.771 3.22857 11.7712 4.22876C12.7714 5.22896 13.3333 6.58551 13.3333 8Z",fill:"#181818"})]})});const en=({children:t,icon:e,onClick:n,unstyled:r,tooltipMessage:i,bg:s,bgOpacity:o,successTitle:a,successDescription:u,errorTitle:l,errorDescription:h})=>{const[d,f]=T.useState(!1),{showNotification:p}=T.useContext(Vf),m=["asynch-rectangle-button"];e&&m.push("enabled-icon"),s&&m.push(`bg-${s}`),o&&m.push(`opacity-${o}`),r&&m.push("unstyled");const y=async()=>{f(!0);try{await(n==null?void 0:n()),a&&u&&p("success",a,u)}catch(E){console.error(E),l&&h&&p("error",l,h)}f(!1)};return c.jsxs("button",{className:m.join(" "),onClick:y,disabled:d,children:[!r&&e&&c.jsx("div",{className:"icon-wrapper",children:e}),d?c.jsx(oi,{}):t,i&&c.jsx("span",{className:"tooltip-message",children:i})]})},g6=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M5.93335 5.03999C6.14002 2.63999 7.37335 1.65999 10.0733 1.65999H10.16C13.14 1.65999 14.3334 2.85332 14.3334 5.83332V10.18C14.3334 13.16 13.14 14.3533 10.16 14.3533H10.0733C7.39335 14.3533 6.16002 13.3867 5.94002 11.0267",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M10 8H2.41333",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M3.89999 5.7666L1.66666 7.99994L3.89999 10.2333",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),c8=()=>{const{signOutUser:t}=T.useContext(ve);return c.jsx(en,{icon:c.jsx(g6,{}),onClick:t,bg:"red",children:"Salir"})};const h8=()=>{const{userId:t}=T.useContext(ve);return c.jsxs(Ys,{id:"home-mobile",children:[c.jsxs(ta,{stack:"vertical",children:[c.jsx(MI,{}),c.jsx(UI,{navigateTo:t}),c.jsx(FI,{}),c.jsx(h6,{}),c.jsx(f6,{}),c.jsx(d6,{})]}),c.jsxs(ta,{stack:"vertical",children:[c.jsx(m6,{}),c.jsx(c8,{})]})]})};const y6=({children:t,id:e})=>{const n=["aside"];return c.jsx("aside",{className:n.join(" "),id:e,children:c.jsx("div",{children:t})})};const v6=({bg:t,bgOpacity:e})=>{const n=["divider"];return t&&n.push(`bg-${t}`),e&&n.push(`opacity-${e}`),c.jsx("div",{className:n.join(" ")})};const d8=()=>{const{userId:t}=T.useContext(ve);return c.jsxs(y6,{id:"home-navbar",children:[c.jsxs("div",{children:[c.jsx(Cv,{textColor:"blue"}),c.jsx(v6,{bg:"gray",bgOpacity:"80"}),c.jsxs(ta,{stack:"vertical",children:[c.jsx(MI,{}),c.jsx(UI,{navigateTo:t}),c.jsx(FI,{}),c.jsx(h6,{}),c.jsx(f6,{}),c.jsx(d6,{})]})]}),c.jsx(ta,{stack:"vertical",children:c.jsx(m6,{})})]})};const as=({children:t,id:e})=>{const n=["card"];return c.jsx("div",{className:n.join(" "),id:e,children:t})};const Uf=({children:t,family:e,as:n,size:r,weight:i,color:s})=>{const o=["heading"];switch(e!==""&&o.push(`family-${e}`),r!==""&&o.push(`size-${r}`),i!==""&&o.push(`weight-${i}`),s!==""&&o.push(`color-${s}`),n){case"h1":return c.jsx("h1",{className:o.join(" "),children:t});case"h2":return c.jsx("h2",{className:o.join(" "),children:t});case"h3":return c.jsx("h3",{className:o.join(" "),children:t});case"h4":return c.jsx("h4",{className:o.join(" "),children:t});case"h5":return c.jsx("h5",{className:o.join(" "),children:t});case"h6":return c.jsx("h6",{className:o.join(" "),children:t});case"span":return c.jsx("span",{className:o.join(" "),children:t});default:return c.jsx("span",{className:o.join(" "),children:t})}},no=({children:t})=>c.jsxs(Uf,{as:"h3",family:"montserrat",size:"xs",weight:"bold",color:"black",children:["@",t]});const Cr=({children:t,size:e,weight:n,color:r,style:i,enableReadMore:s})=>{const[o,a]=T.useState(!1),u=150,l=["paragraph"];e!==""&&l.push(`size-${e}`),n!==""&&l.push(`weight-${n}`),r!==""&&l.push(`color-${r}`);const h=s?o?t:`${t.slice(0,u)}`:t,d=()=>{a(!o)};return c.jsxs("p",{className:l.join(" "),style:i,children:[h,s&&t.length>u&&c.jsx("button",{onClick:d,children:o?"Ver menos":"Ver más"})]})},f8=(t,e)=>{const n=B(ce,"users",t),r=re(n,"followers");return xr(r,i=>{const s=[];i.forEach(o=>{const a=o.data();Object.keys(a).length>0&&s.push(a)}),e(s)})},p8=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{if(t!==void 0){const i=f8(t,s=>{n(s)});return()=>i()}},[t]),{followersData:e}},X1=({profileId:t})=>{const{followersData:e}=p8(t);return c.jsx(Cr,{size:"xs",weight:"regular",color:"black",children:`${e.length} seguidores`})};const m8=({icon:t,onClick:e,tooltipMessage:n,bg:r,bgOpacity:i,successTitle:s,successDescription:o,errorTitle:a,errorDescription:u})=>{const[l,h]=T.useState(!1),{showNotification:d}=T.useContext(Vf),f=["asynch-round-button"];r&&f.push(`bg-${r}`),i&&f.push(`opacity-${i}`);const p=async()=>{h(!0);try{await(e==null?void 0:e()),s&&o&&d("success",s,o)}catch(m){console.error(m),a&&u&&d("error",a,u)}h(!1)};return c.jsxs("button",{className:f.join(" "),onClick:p,disabled:l,children:[l?c.jsx(oi,{}):t,n&&c.jsx("span",{className:"tooltip-message",children:n})]})},g8=()=>{const{signOutUser:t}=T.useContext(ve);return c.jsx(m8,{icon:c.jsx(g6,{}),onClick:t,bg:"red",tooltipMessage:"Salir"})};const y8=({userId:t,profilePictureURL:e,username:n})=>c.jsxs(as,{id:"profile",children:[c.jsx(ii,{src:e,alt:n,navigateTo:t}),c.jsxs("div",{children:[c.jsx(no,{children:n}),c.jsx(X1,{profileId:t})]}),c.jsx(g8,{})]});const us=({children:t,stack:e})=>{const n=["card-group"];return e&&n.push(`stack-${e}`),c.jsx("div",{className:n.join(" "),children:t})},qr=({children:t})=>c.jsx(Uf,{as:"h1",family:"montserrat",size:"xs",weight:"semibold",color:"black",children:t}),v8=async(t,e)=>{const n=B(ce,"users",t),r=re(n,"following"),i=B(ce,"users",e),s=re(i,"followers");try{const o=await Tr(B(r,e)),a=await Tr(B(s,t));o.exists()&&a.exists()?(await un(B(r,e)),await un(B(s,t))):(await Ge(B(r,e),{followed:e}),await Ge(B(s,t),{follower:t}))}catch(o){console.error("Error al seguir al usuario:",o)}},_6=(t,e)=>{const n=B(ce,"users",t),r=re(n,"following");return xr(r,i=>{const s=[];i.forEach(o=>{const a=o.data();Object.keys(a).length>0&&s.push(a)}),e(s)})},_8=(t,e)=>{const[n,r]=T.useState([]);T.useEffect(()=>{const a=_6(t,u=>{r(u)});return()=>a()},[t]);const s=n.map(o=>o.followed).includes(e);return{followingData:n,isFollowed:s}},Ll=({authorId:t})=>{const{userId:e}=T.useContext(ve),{isFollowed:n}=_8(e,t);return c.jsx(en,{onClick:async()=>await v8(e,t),bg:"blue",unstyled:!0,successTitle:n?"Dejaste de seguir al usuario":"Comenzaste a seguir al usuario",successDescription:n?"Ya no seguirás las actualizaciones de este usuario.":"Ahora seguirás las actualizaciones de este usuario.",errorTitle:"Error al seguir al usuario",errorDescription:"No se pudo seguir al usuario. Por favor, inténtalo de nuevo.",children:n?"Siguiendo":"Seguir"})};const w6=({userId:t,profilePictureURL:e,username:n})=>c.jsxs(as,{id:"user-suggestion",children:[c.jsx(ii,{src:e,alt:n,navigateTo:t}),c.jsxs("div",{children:[c.jsx(no,{children:n}),c.jsx(X1,{profileId:t})]}),c.jsx("div",{children:c.jsx(Ll,{authorId:t})})]}),w8=async t=>{const e=re(ce,"users");let n=[];if(t.length<=0)return[];const r=nr(e,Zr("userId","not-in",t));try{(await yn(r)).forEach(s=>{n=[...n,s.data()]})}catch(i){console.log(i)}return n},E8=async t=>{const e=re(ce,"users",t,"following"),n=nr(e);let r=[t],i=[];try{return(await yn(n)).forEach(a=>{const u=a.data();if(Object.keys(u).length>0){i.push(u);const l=u.followed;l&&r.push(l)}}),await w8(r)}catch(s){return console.error("Error al obtener los posts guardados del usuario:",s),[]}},T8=({to:t,children:e})=>c.jsx(rs,{navigateTo:t,bg:"blue",children:e});const ls=({icon:t,title:e,description:n,buttonContent:r,buttonRedirectPath:i})=>{const s=["notice"];return c.jsxs("div",{className:s.join(" "),children:[c.jsx("div",{children:t}),c.jsx("h3",{children:e}),c.jsx("p",{children:n}),r&&c.jsx(T8,{to:i||"",children:r})]})},S8=()=>c.jsx(ls,{icon:c.jsx(VI,{}),title:"No hay usuarios sugeridos",description:"No hay usuarios sugeridos en este momento."});const I8=()=>{const{userId:t,profilePictureURL:e,username:n}=T.useContext(ve),r=cl(["suggestedUsers"],async()=>E8(t));return c.jsxs(y6,{id:"home-users",children:[c.jsx(y8,{userId:t,profilePictureURL:e,username:n}),c.jsxs("div",{children:[c.jsx(qr,{children:"Sugerencias para ti"}),c.jsx("div",{})]}),c.jsx(us,{stack:"vertical",children:r.data===void 0||r.data.length<=0?c.jsx(S8,{}):r.data.map(i=>c.jsx("div",{children:c.jsx(w6,{userId:i.userId,profilePictureURL:i.profilePictureURL,username:i.username})},i.userId))})]})};const x8=()=>{const{mobileHomeNavbarVisibility:t}=T.useContext(ve);return c.jsxs(Fn,{id:"home",children:[c.jsx(Fp,{minWidth:"md",children:c.jsx(u4,{})}),t&&c.jsx(h8,{}),c.jsxs(l4,{children:[c.jsx(Fp,{maxWidth:"md",children:c.jsx(d8,{})}),c.jsx(jO,{}),c.jsx(Fp,{maxWidth:"xl",children:c.jsx(I8,{})})]})]})},C8=()=>c.jsx(x8,{}),P8=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M7.99999 12.3333C10.3932 12.3333 12.3333 10.3932 12.3333 8C12.3333 5.60677 10.3932 3.66667 7.99999 3.66667C5.60676 3.66667 3.66666 5.60677 3.66666 8C3.66666 10.3932 5.60676 12.3333 7.99999 12.3333Z",stroke:"#181818",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M12.76 12.76L12.6733 12.6733M12.6733 3.32667L12.76 3.24L12.6733 3.32667ZM3.24001 12.76L3.32668 12.6733L3.24001 12.76ZM8.00001 1.38667V1.33333V1.38667ZM8.00001 14.6667V14.6133V14.6667ZM1.38668 8H1.33334H1.38668ZM14.6667 8H14.6133H14.6667ZM3.32668 3.32667L3.24001 3.24L3.32668 3.32667Z",stroke:"#181818",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]}),R8=()=>c.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.35273 8.27997C1.59273 11.7133 4.50606 14.5066 7.99273 14.66C10.4527 14.7666 12.6527 13.62 13.9727 11.8133C14.5194 11.0733 14.2261 10.58 13.3127 10.7466C12.8661 10.8266 12.4061 10.86 11.9261 10.84C8.66606 10.7066 5.9994 7.97997 5.98606 4.75997C5.9794 3.89331 6.1594 3.07331 6.48606 2.32664C6.84606 1.49997 6.41273 1.10664 5.5794 1.45997C2.9394 2.57331 1.13273 5.23331 1.35273 8.27997Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})}),E6=()=>{const{theme:t,changeTheme:e}=T.useContext(ve),n=t?c.jsx(R8,{}):c.jsx(P8,{});return c.jsx(Rv,{icon:n,onClick:e,bg:"white",tooltipMessage:"Cambiar tema"})};const A8=()=>c.jsxs(Ys,{id:"auth",children:[c.jsx(Cv,{showText:!0}),c.jsx(E6,{})]}),k8=({children:t})=>c.jsx(Uf,{as:"h1",family:"montserrat",size:"xl",weight:"extrabold",color:"black",children:t}),sy=({children:t})=>c.jsx(Cr,{size:"sm",weight:"regular",color:"gray",children:t});const b8=({children:t,color:e})=>{const n=["highlight"];return e!==""&&n.push(`color-${e}`),c.jsx("span",{className:n.join(" "),children:t})},D8=()=>c.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.3995 6.8H8.13282V9.26667H11.7995C11.7328 9.86667 11.3328 10.8 10.4662 11.4C9.93282 11.8 9.13282 12.0667 8.13282 12.0667C6.39949 12.0667 4.86616 10.9333 4.33282 9.26667C4.19949 8.86667 4.13282 8.4 4.13282 7.93334C4.13282 7.46667 4.19949 7 4.33282 6.6C4.39949 6.46667 4.39949 6.33334 4.46616 6.26667C5.06616 4.86667 6.46616 3.86667 8.13282 3.86667C9.39949 3.86667 10.1995 4.4 10.7328 4.86667L12.5995 3C11.4662 2 9.93282 1.33334 8.13282 1.33334C5.53282 1.33334 3.26616 2.8 2.19949 5C1.73282 5.93334 1.46616 6.93334 1.46616 8C1.46616 9.06667 1.73282 10.0667 2.19949 11C3.26616 13.2 5.53282 14.6667 8.13282 14.6667C9.93282 14.6667 11.4662 14.0667 12.5328 13.0667C13.7995 11.9333 14.5328 10.2 14.5328 8.13334C14.5328 7.6 14.4662 7.2 14.3995 6.8Z",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})}),O8=()=>{const{signInWithGoogle:t}=T.useContext(ve);return c.jsx(en,{icon:c.jsx(D8,{}),onClick:t,bg:"blue",successTitle:"Inicio de sesión exitoso",successDescription:"Has iniciado sesión correctamente con tu cuenta de Google.",errorTitle:"Error en el inicio de sesión",errorDescription:"No se pudo iniciar sesión con tu cuenta de Google. Por favor, inténtalo de nuevo.",children:"Continuar con Google"})};const N8=()=>c.jsxs(si,{id:"auth",children:[c.jsxs(k8,{children:["¡Bienvenido a ",c.jsx(b8,{color:"blue",children:"Essencia"}),"!"]}),c.jsx(sy,{children:'¡Bienvenido a mi proyecto! Aquí podrás explorar una demostración de mis habilidades en programación a través de esta aplicación. ¡Disfruta y descubre lo que puedo lograr en el mundo del desarrollo de software!".'}),c.jsx(O8,{})]});const j8=()=>c.jsxs(Fn,{id:"auth",children:[c.jsx(A8,{}),c.jsx(N8,{})]}),L8=()=>c.jsx(c.Fragment,{children:c.jsx(j8,{})}),M8=()=>{const[t,e]=T.useState(!0),n=Gd();return T.useEffect(()=>{const r=OP(ha,async i=>{i?(e(!1),n("/")):(e(!1),n("/auth"))});return()=>{r()}},[ha,n]),{isLoading:t}};const V8=()=>c.jsxs(Fn,{id:"loader",children:[c.jsx("div",{children:c.jsx(oi,{})}),c.jsx("span",{children:"Cargando..."})]}),T6=()=>c.jsx(V8,{}),U8=({children:t})=>{const{isLoading:e}=M8();return e?c.jsx(T6,{}):c.jsx("div",{children:t})},F8=()=>{const[t,e]=T.useState(!0),n=Gd(),{handlerUserAuth:r,getPersonalData:i,updateUserPersonalData:s}=T.useContext(ve);return T.useEffect(()=>{const o=OP(ha,async a=>{if(a){await r(a);const u=await i(a.uid);s(u)}a?e(!1):n("/auth")});return()=>{o()}},[ha,n]),{isLoading:t}},$8=({children:t})=>{const{isLoading:e}=F8();return e?c.jsx(T6,{}):c.jsx("div",{children:t})};const B8=()=>c.jsx(Fn,{id:"not-found",children:"NotFoundContainer"}),eT=()=>c.jsx(c.Fragment,{children:c.jsx(B8,{})});var Ml=t=>t.type==="checkbox",Po=t=>t instanceof Date,sn=t=>t==null;const S6=t=>typeof t=="object";var St=t=>!sn(t)&&!Array.isArray(t)&&S6(t)&&!Po(t),z8=t=>St(t)&&t.target?Ml(t.target)?t.target.checked:t.target.value:t,q8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,H8=(t,e)=>t.has(q8(e)),W8=t=>{const e=t.constructor&&t.constructor.prototype;return St(e)&&e.hasOwnProperty("isPrototypeOf")},J1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(J1&&(t instanceof Blob||t instanceof FileList))&&(n||St(t)))if(e=n?[]:{},!n&&!W8(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Dr(t[r]));else return t;return e}var Vl=t=>Array.isArray(t)?t.filter(Boolean):[],dt=t=>t===void 0,G=(t,e,n)=>{if(!e||!St(t))return n;const r=Vl(e.split(/[,[\].]+?/)).reduce((i,s)=>sn(i)?i:i[s],t);return dt(r)||r===t?dt(t[e])?n:t[e]:r},Ci=t=>typeof t=="boolean";const tT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},br={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ke.createContext(null);var Q8=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Gn.all&&(e._proxyFormState[o]=!r||Gn.all),n&&(n[o]=!0),t[o]}});return i},bn=t=>St(t)&&!Object.keys(t).length,K8=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return bn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Gn.all))},um=t=>Array.isArray(t)?t:[t];function G8(t){const e=ke.useRef(t);e.current=t,ke.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var dr=t=>typeof t=="string",Y8=(t,e,n,r,i)=>dr(t)?(r&&e.watch.add(t),G(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),G(n,s))):(r&&(e.watchAll=!0),n),Z1=t=>/^\w*$/.test(t),I6=t=>Vl(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Qe(t,e,n){let r=-1;const i=Z1(e)?[e]:I6(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let u=n;if(r!==o){const l=t[a];u=St(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}t[a]=u,t=t[a]}return t}var X8=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},nT=t=>({isOnSubmit:!t||t===Gn.onSubmit,isOnBlur:t===Gn.onBlur,isOnChange:t===Gn.onChange,isOnAll:t===Gn.all,isOnTouch:t===Gn.onTouched}),rT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Yc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=G(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break}else St(a)&&Yc(a,e)}}};var J8=(t,e,n)=>{const r=Vl(G(t,n));return Qe(r,"root",e[n]),Qe(t,n,r),t},e0=t=>t.type==="file",ki=t=>typeof t=="function",sd=t=>{if(!J1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Xc=t=>dr(t),t0=t=>t.type==="radio",od=t=>t instanceof RegExp;const iT={value:!1,isValid:!1},sT={value:!0,isValid:!0};var x6=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dt(t[0].attributes.value)?dt(t[0].value)||t[0].value===""?sT:{value:t[0].value,isValid:!0}:sT:iT}return iT};const oT={isValid:!1,value:null};var C6=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,oT):oT;function aT(t,e,n="validate"){if(Xc(t)||Array.isArray(t)&&t.every(Xc)||Ci(t)&&!t)return{type:n,message:Xc(t)?t:"",ref:e}}var ao=t=>St(t)&&!od(t)?t:{value:t,message:""},uT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:u,minLength:l,min:h,max:d,pattern:f,validate:p,name:m,valueAsNumber:y,mount:E,disabled:_}=t._f,g=G(e,m);if(!E||_)return{};const w=o?o[0]:s,v=X=>{r&&w.reportValidity&&(w.setCustomValidity(Ci(X)?"":X||""),w.reportValidity())},I={},C=t0(s),R=Ml(s),O=C||R,U=(y||e0(s))&&dt(s.value)&&dt(g)||sd(s)&&s.value===""||g===""||Array.isArray(g)&&!g.length,L=X8.bind(null,m,n,I),oe=(X,J,me,ae=br.maxLength,Se=br.minLength)=>{const Ne=X?J:me;I[m]={type:X?ae:Se,message:Ne,ref:s,...L(X?ae:Se,Ne)}};if(i?!Array.isArray(g)||!g.length:a&&(!O&&(U||sn(g))||Ci(g)&&!g||R&&!x6(o).isValid||C&&!C6(o).isValid)){const{value:X,message:J}=Xc(a)?{value:!!a,message:a}:ao(a);if(X&&(I[m]={type:br.required,message:J,ref:w,...L(br.required,J)},!n))return v(J),I}if(!U&&(!sn(h)||!sn(d))){let X,J;const me=ao(d),ae=ao(h);if(!sn(g)&&!isNaN(g)){const Se=s.valueAsNumber||g&&+g;sn(me.value)||(X=Se>me.value),sn(ae.value)||(J=Se<ae.value)}else{const Se=s.valueAsDate||new Date(g),Ne=Y=>new Date(new Date().toDateString()+" "+Y),M=s.type=="time",q=s.type=="week";dr(me.value)&&g&&(X=M?Ne(g)>Ne(me.value):q?g>me.value:Se>new Date(me.value)),dr(ae.value)&&g&&(J=M?Ne(g)<Ne(ae.value):q?g<ae.value:Se<new Date(ae.value))}if((X||J)&&(oe(!!X,me.message,ae.message,br.max,br.min),!n))return v(I[m].message),I}if((u||l)&&!U&&(dr(g)||i&&Array.isArray(g))){const X=ao(u),J=ao(l),me=!sn(X.value)&&g.length>+X.value,ae=!sn(J.value)&&g.length<+J.value;if((me||ae)&&(oe(me,X.message,J.message),!n))return v(I[m].message),I}if(f&&!U&&dr(g)){const{value:X,message:J}=ao(f);if(od(X)&&!g.match(X)&&(I[m]={type:br.pattern,message:J,ref:s,...L(br.pattern,J)},!n))return v(J),I}if(p){if(ki(p)){const X=await p(g,e),J=aT(X,w);if(J&&(I[m]={...J,...L(br.validate,J.message)},!n))return v(J.message),I}else if(St(p)){let X={};for(const J in p){if(!bn(X)&&!n)break;const me=aT(await p[J](g,e),w,J);me&&(X={...me,...L(J,me.message)},v(me.message),n&&(I[m]=X))}if(!bn(X)&&(I[m]={ref:w,...X},!n))return I}}return v(!0),I};function Z8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=dt(t)?r++:t[e[r++]];return t}function e$(t){for(const e in t)if(t.hasOwnProperty(e)&&!dt(t[e]))return!1;return!0}function bt(t,e){const n=Array.isArray(e)?e:Z1(e)?[e]:I6(e),r=n.length===1?t:Z8(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(St(r)&&bn(r)||Array.isArray(r)&&e$(r))&&bt(t,n.slice(0,-1)),t}function lm(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var ad=t=>sn(t)||!S6(t);function xs(t,e){if(ad(t)||ad(e))return t===e;if(Po(t)&&Po(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Po(s)&&Po(o)||St(s)&&St(o)||Array.isArray(s)&&Array.isArray(o)?!xs(s,o):s!==o)return!1}}return!0}var P6=t=>t.type==="select-multiple",t$=t=>t0(t)||Ml(t),cm=t=>sd(t)&&t.isConnected,R6=t=>{for(const e in t)if(ki(t[e]))return!0;return!1};function ud(t,e={}){const n=Array.isArray(t);if(St(t)||n)for(const r in t)Array.isArray(t[r])||St(t[r])&&!R6(t[r])?(e[r]=Array.isArray(t[r])?[]:{},ud(t[r],e[r])):sn(t[r])||(e[r]=!0);return e}function A6(t,e,n){const r=Array.isArray(t);if(St(t)||r)for(const i in t)Array.isArray(t[i])||St(t[i])&&!R6(t[i])?dt(e)||ad(n[i])?n[i]=Array.isArray(t[i])?ud(t[i],[]):{...ud(t[i])}:A6(t[i],sn(e)?{}:e[i],n[i]):n[i]=!xs(t[i],e[i]);return n}var hm=(t,e)=>A6(t,e,ud(e)),k6=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>dt(t)?t:e?t===""?NaN:t&&+t:n&&dr(t)?new Date(t):r?r(t):t;function dm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return e0(e)?e.files:t0(e)?C6(t.refs).value:P6(e)?[...e.selectedOptions].map(({value:n})=>n):Ml(e)?x6(t.refs).value:k6(dt(e.value)?t.ref.value:e.value,t)}var n$=(t,e,n,r)=>{const i={};for(const s of t){const o=G(e,s);o&&Qe(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ha=t=>dt(t)?t:od(t)?t.source:St(t)?od(t.value)?t.value.source:t.value:t,r$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function lT(t,e,n){const r=G(t,n);if(r||Z1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=G(e,s),a=G(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var i$=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,s$=(t,e)=>!Vl(G(t,e)).length&&bt(t,e);const o$={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function a$(t={},e){let n={...o$,...t},r={submitCount:0,isDirty:!1,isLoading:ki(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},i={},s=St(n.defaultValues)||St(n.values)?Dr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Dr(s),a={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,h=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:lm(),array:lm(),state:lm()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,m=nT(n.mode),y=nT(n.reValidateMode),E=n.criteriaMode===Gn.all,_=S=>P=>{clearTimeout(h),h=setTimeout(S,P)},g=async S=>{if(d.isValid||S){const P=n.resolver?bn((await U()).errors):await oe(i,!0);P!==r.isValid&&f.state.next({isValid:P})}},w=S=>d.isValidating&&f.state.next({isValidating:S}),v=(S,P=[],k,Q,F=!0,V=!0)=>{if(Q&&k){if(a.action=!0,V&&Array.isArray(G(i,S))){const te=k(G(i,S),Q.argA,Q.argB);F&&Qe(i,S,te)}if(V&&Array.isArray(G(r.errors,S))){const te=k(G(r.errors,S),Q.argA,Q.argB);F&&Qe(r.errors,S,te),s$(r.errors,S)}if(d.touchedFields&&V&&Array.isArray(G(r.touchedFields,S))){const te=k(G(r.touchedFields,S),Q.argA,Q.argB);F&&Qe(r.touchedFields,S,te)}d.dirtyFields&&(r.dirtyFields=hm(s,o)),f.state.next({name:S,isDirty:J(S,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qe(o,S,P)},I=(S,P)=>{Qe(r.errors,S,P),f.state.next({errors:r.errors})},C=(S,P,k,Q)=>{const F=G(i,S);if(F){const V=G(o,S,dt(k)?G(s,S):k);dt(V)||Q&&Q.defaultChecked||P?Qe(o,S,P?V:dm(F._f)):Se(S,V),a.mount&&g()}},R=(S,P,k,Q,F)=>{let V=!1,te=!1;const Ee={name:S};if(!k||Q){d.isDirty&&(te=r.isDirty,r.isDirty=Ee.isDirty=J(),V=te!==Ee.isDirty);const Xe=xs(G(s,S),P);te=G(r.dirtyFields,S),Xe?bt(r.dirtyFields,S):Qe(r.dirtyFields,S,!0),Ee.dirtyFields=r.dirtyFields,V=V||d.dirtyFields&&te!==!Xe}if(k){const Xe=G(r.touchedFields,S);Xe||(Qe(r.touchedFields,S,k),Ee.touchedFields=r.touchedFields,V=V||d.touchedFields&&Xe!==k)}return V&&F&&f.state.next(Ee),V?Ee:{}},O=(S,P,k,Q)=>{const F=G(r.errors,S),V=d.isValid&&Ci(P)&&r.isValid!==P;if(t.delayError&&k?(l=_(()=>I(S,k)),l(t.delayError)):(clearTimeout(h),l=null,k?Qe(r.errors,S,k):bt(r.errors,S)),(k?!xs(F,k):F)||!bn(Q)||V){const te={...Q,...V&&Ci(P)?{isValid:P}:{},errors:r.errors,name:S};r={...r,...te},f.state.next(te)}w(!1)},U=async S=>n.resolver(o,n.context,n$(S||u.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),L=async S=>{const{errors:P}=await U(S);if(S)for(const k of S){const Q=G(P,k);Q?Qe(r.errors,k,Q):bt(r.errors,k)}else r.errors=P;return P},oe=async(S,P,k={valid:!0})=>{for(const Q in S){const F=S[Q];if(F){const{_f:V,...te}=F;if(V){const Ee=u.array.has(V.name),Xe=await uT(F,o,E,n.shouldUseNativeValidation&&!P,Ee);if(Xe[V.name]&&(k.valid=!1,P))break;!P&&(G(Xe,V.name)?Ee?J8(r.errors,Xe,V.name):Qe(r.errors,V.name,Xe[V.name]):bt(r.errors,V.name))}te&&await oe(te,P,k)}}return k.valid},X=()=>{for(const S of u.unMount){const P=G(i,S);P&&(P._f.refs?P._f.refs.every(k=>!cm(k)):!cm(P._f.ref))&&ir(S)}u.unMount=new Set},J=(S,P)=>(S&&P&&Qe(o,S,P),!xs(Ce(),s)),me=(S,P,k)=>Y8(S,u,{...a.mount?o:dt(P)?s:dr(S)?{[S]:P}:P},k,P),ae=S=>Vl(G(a.mount?o:s,S,t.shouldUnregister?G(s,S,[]):[])),Se=(S,P,k={})=>{const Q=G(i,S);let F=P;if(Q){const V=Q._f;V&&(!V.disabled&&Qe(o,S,k6(P,V)),F=sd(V.ref)&&sn(P)?"":P,P6(V.ref)?[...V.ref.options].forEach(te=>te.selected=F.includes(te.value)):V.refs?Ml(V.ref)?V.refs.length>1?V.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(F)?!!F.find(Ee=>Ee===te.value):F===te.value)):V.refs[0]&&(V.refs[0].checked=!!F):V.refs.forEach(te=>te.checked=te.value===F):e0(V.ref)?V.ref.value="":(V.ref.value=F,V.ref.type||f.values.next({name:S,values:{...o}})))}(k.shouldDirty||k.shouldTouch)&&R(S,F,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&ye(S)},Ne=(S,P,k)=>{for(const Q in P){const F=P[Q],V=`${S}.${Q}`,te=G(i,V);(u.array.has(S)||!ad(F)||te&&!te._f)&&!Po(F)?Ne(V,F,k):Se(V,F,k)}},M=(S,P,k={})=>{const Q=G(i,S),F=u.array.has(S),V=Dr(P);Qe(o,S,V),F?(f.array.next({name:S,values:{...o}}),(d.isDirty||d.dirtyFields)&&k.shouldDirty&&f.state.next({name:S,dirtyFields:hm(s,o),isDirty:J(S,V)})):Q&&!Q._f&&!sn(V)?Ne(S,V,k):Se(S,V,k),rT(S,u)&&f.state.next({...r}),f.values.next({name:S,values:{...o}}),!a.mount&&e()},q=async S=>{const P=S.target;let k=P.name,Q=!0;const F=G(i,k),V=()=>P.type?dm(F._f):z8(S),te=Ee=>{Q=Number.isNaN(Ee)||Ee===G(o,k,Ee)};if(F){let Ee,Xe;const cs=V(),Rr=S.type===tT.BLUR||S.type===tT.FOCUS_OUT,Yf=!r$(F._f)&&!n.resolver&&!G(r.errors,k)&&!F._f.deps||i$(Rr,G(r.touchedFields,k),r.isSubmitted,y,m),ro=rT(k,u,Rr);Qe(o,k,cs),Rr?(F._f.onBlur&&F._f.onBlur(S),l&&l(0)):F._f.onChange&&F._f.onChange(S);const ci=R(k,cs,Rr,!1),Wl=!bn(ci)||ro;if(!Rr&&f.values.next({name:k,type:S.type,values:{...o}}),Yf)return d.isValid&&g(),Wl&&f.state.next({name:k,...ro?{}:ci});if(!Rr&&ro&&f.state.next({...r}),w(!0),n.resolver){const{errors:io}=await U([k]);if(te(cs),Q){const Xf=lT(r.errors,i,k),Ca=lT(io,i,Xf.name||k);Ee=Ca.error,k=Ca.name,Xe=bn(io)}}else Ee=(await uT(F,o,E,n.shouldUseNativeValidation))[k],te(cs),Q&&(Ee?Xe=!1:d.isValid&&(Xe=await oe(i,!0)));Q&&(F._f.deps&&ye(F._f.deps),O(k,Xe,Ee,ci))}},Y=(S,P)=>{if(G(r.errors,P)&&S.focus)return S.focus(),1},ye=async(S,P={})=>{let k,Q;const F=um(S);if(w(!0),n.resolver){const V=await L(dt(S)?S:F);k=bn(V),Q=S?!F.some(te=>G(V,te)):k}else S?(Q=(await Promise.all(F.map(async V=>{const te=G(i,V);return await oe(te&&te._f?{[V]:te}:te)}))).every(Boolean),!(!Q&&!r.isValid)&&g()):Q=k=await oe(i);return f.state.next({...!dr(S)||d.isValid&&k!==r.isValid?{}:{name:S},...n.resolver||!S?{isValid:k}:{},errors:r.errors,isValidating:!1}),P.shouldFocus&&!Q&&Yc(i,Y,S?F:u.mount),Q},Ce=S=>{const P={...s,...a.mount?o:{}};return dt(S)?P:dr(S)?G(P,S):S.map(k=>G(P,k))},kt=(S,P)=>({invalid:!!G((P||r).errors,S),isDirty:!!G((P||r).dirtyFields,S),isTouched:!!G((P||r).touchedFields,S),error:G((P||r).errors,S)}),vt=S=>{S&&um(S).forEach(P=>bt(r.errors,P)),f.state.next({errors:S?r.errors:{}})},rr=(S,P,k)=>{const Q=(G(i,S,{_f:{}})._f||{}).ref;Qe(r.errors,S,{...P,ref:Q}),f.state.next({name:S,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&Q&&Q.focus&&Q.focus()},$n=(S,P)=>ki(S)?f.values.subscribe({next:k=>S(me(void 0,P),k)}):me(S,P,!0),ir=(S,P={})=>{for(const k of S?um(S):u.mount)u.mount.delete(k),u.array.delete(k),P.keepValue||(bt(i,k),bt(o,k)),!P.keepError&&bt(r.errors,k),!P.keepDirty&&bt(r.dirtyFields,k),!P.keepTouched&&bt(r.touchedFields,k),!n.shouldUnregister&&!P.keepDefaultValue&&bt(s,k);f.values.next({values:{...o}}),f.state.next({...r,...P.keepDirty?{isDirty:J()}:{}}),!P.keepIsValid&&g()},$l=({disabled:S,name:P,field:k,fields:Q,value:F})=>{if(Ci(S)){const V=S?void 0:dt(F)?dm(k?k._f:G(Q,P)._f):F;Qe(o,P,V),R(P,V,!1,!1,!0)}},We=(S,P={})=>{let k=G(i,S);const Q=Ci(P.disabled);return Qe(i,S,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:S}},name:S,mount:!0,...P}}),u.mount.add(S),k?$l({field:k,disabled:P.disabled,name:S}):C(S,!0,P.value),{...Q?{disabled:P.disabled}:{},...n.progressive?{required:!!P.required,min:Ha(P.min),max:Ha(P.max),minLength:Ha(P.minLength),maxLength:Ha(P.maxLength),pattern:Ha(P.pattern)}:{},name:S,onChange:q,onBlur:q,ref:F=>{if(F){We(S,P),k=G(i,S);const V=dt(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,te=t$(V),Ee=k._f.refs||[];if(te?Ee.find(Xe=>Xe===V):V===k._f.ref)return;Qe(i,S,{_f:{...k._f,...te?{refs:[...Ee.filter(cm),V,...Array.isArray(G(s,S))?[{}]:[]],ref:{type:V.type,name:S}}:{ref:V}}}),C(S,!1,void 0,V)}else k=G(i,S,{}),k._f&&(k._f.mount=!1),(n.shouldUnregister||P.shouldUnregister)&&!(H8(u.array,S)&&a.action)&&u.unMount.add(S)}}},li=()=>n.shouldFocusError&&Yc(i,Y,u.mount),Bl=S=>{Ci(S)&&(f.state.next({disabled:S}),Yc(i,P=>{P.disabled=S},0,!1))},zl=(S,P)=>async k=>{k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let Q=Dr(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:F,values:V}=await U();r.errors=F,Q=V}else await oe(i);bt(r.errors,"root"),bn(r.errors)?(f.state.next({errors:{}}),await S(Q,k)):(P&&await P({...r.errors},k),li(),setTimeout(li)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Pr=(S,P={})=>{G(i,S)&&(dt(P.defaultValue)?M(S,G(s,S)):(M(S,P.defaultValue),Qe(s,S,P.defaultValue)),P.keepTouched||bt(r.touchedFields,S),P.keepDirty||(bt(r.dirtyFields,S),r.isDirty=P.defaultValue?J(S,G(s,S)):J()),P.keepError||(bt(r.errors,S),d.isValid&&g()),f.state.next({...r}))},ql=(S,P={})=>{const k=S?Dr(S):s,Q=Dr(k),F=S&&!bn(S)?Q:s;if(P.keepDefaultValues||(s=k),!P.keepValues){if(P.keepDirtyValues||p)for(const V of u.mount)G(r.dirtyFields,V)?Qe(F,V,G(o,V)):M(V,G(F,V));else{if(J1&&dt(S))for(const V of u.mount){const te=G(i,V);if(te&&te._f){const Ee=Array.isArray(te._f.refs)?te._f.refs[0]:te._f.ref;if(sd(Ee)){const Xe=Ee.closest("form");if(Xe){Xe.reset();break}}}}i={}}o=t.shouldUnregister?P.keepDefaultValues?Dr(s):{}:Dr(F),f.array.next({values:{...F}}),f.values.next({values:{...F}})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!P.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!xs(S,s)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:P.keepDirtyValues?r.dirtyFields:P.keepDefaultValues&&S?hm(s,S):{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Hl=(S,P)=>ql(ki(S)?S(o):S,P);return{control:{register:We,unregister:ir,getFieldState:kt,handleSubmit:zl,setError:rr,_executeSchema:U,_getWatch:me,_getDirty:J,_updateValid:g,_removeUnmounted:X,_updateFieldArray:v,_updateDisabledField:$l,_getFieldArray:ae,_reset:ql,_resetDefaultValues:()=>ki(n.defaultValues)&&n.defaultValues().then(S=>{Hl(S,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:S=>{r={...r,...S}},_disableForm:Bl,_subjects:f,_proxyFormState:d,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(S){a=S},get _defaultValues(){return s},get _names(){return u},set _names(S){u=S},get _formState(){return r},set _formState(S){r=S},get _options(){return n},set _options(S){n={...n,...S}}},trigger:ye,register:We,handleSubmit:zl,watch:$n,setValue:M,getValues:Ce,reset:Hl,resetField:Pr,clearErrors:vt,unregister:ir,setError:rr,setFocus:(S,P={})=>{const k=G(i,S),Q=k&&k._f;if(Q){const F=Q.refs?Q.refs[0]:Q.ref;F.focus&&(F.focus(),P.shouldSelect&&F.select())}},getFieldState:kt}}function Ul(t={}){const e=ke.useRef(),n=ke.useRef(),[r,i]=ke.useState({isDirty:!1,isValidating:!1,isLoading:ki(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:ki(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...a$(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,G8({subject:s._subjects.state,next:o=>{K8(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ke.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ke.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ke.useEffect(()=>{t.values&&!xs(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values):s._resetDefaultValues()},[t.values,s]),ke.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Q8(r,s),e.current}const Ff=({children:t,id:e,onSubmit:n,successTitle:r,successDescription:i,errorTitle:s,errorDescription:o})=>{const{showNotification:a}=T.useContext(Vf),{handleSubmit:u}=Ul(),l=["form"],h=d=>{d==="success"&&r&&i?a("success",r,i):d==="error"&&s&&o&&a("error",s,o)};return c.jsx("form",{className:l.join(" "),onSubmit:d=>{u(n)(d).then(()=>h("success")).catch(f=>h(f))},encType:"multipart/form-data",id:e,children:t})},n0=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.00001 14.6667C11.6667 14.6667 14.6667 11.6667 14.6667 7.99999C14.6667 4.33333 11.6667 1.33333 8.00001 1.33333C4.33334 1.33333 1.33334 4.33333 1.33334 7.99999C1.33334 11.6667 4.33334 14.6667 8.00001 14.6667Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M6.11334 9.88668L9.88668 6.11334",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M9.88668 9.88668L6.11334 6.11334",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]});const r0=({register:t,registerName:e,rules:n,fieldName:r,id:i,placeholder:s,errors:o,errorDescription:a})=>{const u=["textarea"];return c.jsxs("label",{children:[r&&c.jsxs("span",{children:[r,":"]}),c.jsx("textarea",{className:u.join(" "),...t(e,n),name:e,id:i,placeholder:s,autoComplete:"off"}),o&&o[e]&&typeof o[e]<"u"&&c.jsxs("div",{className:"error-description",children:[c.jsx("div",{children:c.jsx(n0,{})}),a]})]})};const u$=({register:t,rules:e})=>c.jsx(r0,{register:t,registerName:"postContent",rules:e,placeholder:"¿Qué estas pensando?",id:"post-content"}),b6=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M5.99999 6.66667C6.73637 6.66667 7.33332 6.06971 7.33332 5.33333C7.33332 4.59695 6.73637 4 5.99999 4C5.26361 4 4.66666 4.59695 4.66666 5.33333C4.66666 6.06971 5.26361 6.66667 5.99999 6.66667Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M8.66668 1.33334H6.00001C2.66668 1.33334 1.33334 2.66668 1.33334 6.00001V10C1.33334 13.3333 2.66668 14.6667 6.00001 14.6667H10C13.3333 14.6667 14.6667 13.3333 14.6667 10V6.66668",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M12 5.33334V1.33334L13.3333 2.66668",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M12 1.33334L10.6667 2.66668",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M1.78 12.6333L5.06667 10.4267C5.59333 10.0733 6.35333 10.1133 6.82666 10.52L7.04666 10.7133C7.56666 11.16 8.40667 11.16 8.92667 10.7133L11.7 8.33332C12.22 7.88665 13.06 7.88665 13.58 8.33332L14.6667 9.26665",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),l$=({showImageInput:t,onClick:e})=>{const n=t?c.jsx(Av,{}):c.jsx(b6,{}),r=t?"red":"blue",i=t?"Cerrar":"Subir imagen";return c.jsx(Rv,{icon:n,onClick:e,bg:r,tooltipMessage:i})};const D6=({register:t,registerName:e,fieldName:n,id:r,resetImageInput:i,setResetImageInput:s})=>{const[o,a]=T.useState(null),u=["image-input"],l=d=>{const f=d.target.files;if(f&&f.length>0){const p=f[0];a(p)}},h=()=>{a(null),s(!1)};return T.useEffect(()=>{h()},[i]),c.jsxs("div",{className:u.join(" "),children:[n&&c.jsxs("span",{children:[n,":"]}),c.jsxs("label",{htmlFor:r,...t(e),children:[c.jsx("input",{name:e,id:r,type:"file",onChange:d=>l(d)}),!o&&c.jsxs("div",{className:"upload-image",children:[" ",c.jsx(b6,{})," Subir imagen "]}),o&&c.jsx("img",{src:URL.createObjectURL(o),alt:"Selected Image"}),o&&c.jsx("button",{className:"remove-image",onClick:h,children:c.jsx(Av,{})})]})]})};const c$=({register:t,resetImageInput:e,setResetImageInput:n})=>c.jsx(D6,{register:t,registerName:"postImage",resetImageInput:e,setResetImageInput:n,id:"post-image"});const O6=({children:t,icon:e,isSubmitting:n,tooltipMessage:r,bg:i,bgOpacity:s})=>{const o=["asynch-rectangle-form-button"];return e&&o.push("enabled-icon"),i&&o.push(`bg-${i}`),s&&o.push(`opacity-${s}`),c.jsxs("button",{className:o.join(" "),children:[e&&c.jsx("div",{className:"icon-wrapper",children:e}),n?c.jsx(oi,{}):t,r&&c.jsx("span",{className:"tooltip-message",children:r})]})},h$=({isSubmitting:t})=>c.jsx(O6,{isSubmitting:t,bg:"blue",children:"Crear publicación"});const d$=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{createPost:i,userId:s,profilePictureURL:o,username:a}=T.useContext(ve),{handleSubmit:u,register:l,reset:h,formState:{isSubmitting:d}}=Ul(),f=m=>{m.preventDefault(),e(!t)},p=async m=>{await i(m,s),h(),r(!0),e(!1)};return c.jsxs(Ff,{onSubmit:u(p),successTitle:"Post creado exitosamente",successDescription:"¡Tu publicación ha sido creada exitosamente!",errorTitle:"Error al crear la publicación",errorDescription:"Se ha producido un error al intentar crear la publicación. Por favor, inténtalo nuevamente más tarde.",id:"create-post",children:[c.jsx("div",{children:c.jsx(ii,{src:o,alt:a,navigateTo:s})}),c.jsxs("div",{children:[c.jsx(u$,{register:l,rules:{required:!0}}),t&&c.jsx(c$,{register:l,resetImageInput:n,setResetImageInput:r}),c.jsxs("div",{children:[c.jsx(ta,{stack:"horizontal",children:c.jsx(l$,{showImageInput:t,onClick:m=>f(m)})}),c.jsx(h$,{isSubmitting:d})]})]})]})};const fm=()=>c.jsxs(as,{id:"post-skeleton",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("div",{}),c.jsxs("div",{children:[c.jsx("div",{}),c.jsx("div",{})]}),c.jsx("div",{})]}),c.jsx("div",{className:"card-main",children:c.jsx("div",{})}),c.jsxs("div",{className:"card-footer",children:[c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{})]})]}),Fl=({children:t})=>c.jsx(Cr,{size:"xs",weight:"regular",color:"gray",children:t});const ai=({children:t,icon:e,bg:n,tooltipMessage:r,id:i})=>{const[s,o]=T.useState(!1),a=["round-expandable-button-group"];return n&&a.push(`bg-${n}`),s&&a.push("active"),c.jsxs("div",{className:a.join(" "),id:i,children:[c.jsx("div",{className:"icon",onClick:()=>o(!s),children:e}),c.jsx("div",{className:"button-group",children:t}),r&&c.jsx("span",{className:"tooltip-message",children:r})]})},ui=()=>c.jsxs("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M3.35187 6.66675C2.61447 6.66675 2.01114 7.26675 2.01114 8.00008C2.01114 8.73341 2.61447 9.33341 3.35187 9.33341C4.08927 9.33341 4.69259 8.73341 4.69259 8.00008C4.69259 7.26675 4.08927 6.66675 3.35187 6.66675Z",stroke:"#181818"}),c.jsx("path",{d:"M12.737 6.66675C11.9996 6.66675 11.3963 7.26675 11.3963 8.00008C11.3963 8.73341 11.9996 9.33341 12.737 9.33341C13.4744 9.33341 14.0777 8.73341 14.0777 8.00008C14.0777 7.26675 13.4744 6.66675 12.737 6.66675Z",stroke:"#181818"}),c.jsx("path",{d:"M8.04437 6.66675C7.30697 6.66675 6.70364 7.26675 6.70364 8.00008C6.70364 8.73341 7.30697 9.33341 8.04437 9.33341C8.78177 9.33341 9.3851 8.73341 9.3851 8.00008C9.3851 7.26675 8.78177 6.66675 8.04437 6.66675Z",stroke:"#181818"})]}),xa=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M14 3.98665C11.78 3.76665 9.54667 3.65332 7.32 3.65332C6 3.65332 4.68 3.71999 3.36 3.85332L2 3.98665",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M5.66666 3.31331L5.81332 2.43998C5.91999 1.80665 5.99999 1.33331 7.12666 1.33331H8.87332C9.99999 1.33331 10.0867 1.83331 10.1867 2.44665L10.3333 3.31331",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5669 6.09308L12.1336 12.8064C12.0603 13.8531 12.0003 14.6664 10.1403 14.6664H5.86026C4.00026 14.6664 3.94026 13.8531 3.86693 12.8064L3.43359 6.09308",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M6.88666 11H9.10666",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M6.33334 8.33331H9.66668",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),f$=async t=>{const e=B(ce,"posts",t);try{await un(e)}catch(n){console.error("Error al eliminar el post:",n)}},p$=({postId:t})=>c.jsx(en,{icon:c.jsx(xa,{}),onClick:async()=>await f$(t),bg:"red",successTitle:"Publicación eliminada",successDescription:"Tu publicación se ha eliminado correctamente.",errorTitle:"Error al eliminar la publicación",errorDescription:"No se pudo eliminar la publicación. Por favor, inténtalo de nuevo.",children:"Eliminar publicación"}),N6=({postId:t})=>c.jsx(ai,{icon:c.jsx(ui,{}),bg:"white",id:"post",children:c.jsx(p$,{postId:t})}),j6=(t,e)=>{const n=B(ce,"posts",t),r=re(n,"reports");return xr(r,i=>{const s=[];i.forEach(o=>{const a=o.data();Object.keys(a).length>0&&s.push(a)}),e(s)})},m$=(t,e)=>{const[n,r]=T.useState([]);T.useEffect(()=>{const a=j6(t,u=>{r(u)});return()=>a()},[t,e]);const s=n.map(o=>o.reporterId).includes(e);return{reportsData:n,isReported:s}},g$=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M3.43359 1.33331V14.6666",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M3.43359 2.66669H10.9003C12.7003 2.66669 13.1003 3.66669 11.8336 4.93335L11.0336 5.73335C10.5003 6.26669 10.5003 7.13335 11.0336 7.60002L11.8336 8.40002C13.1003 9.66669 12.6336 10.6667 10.9003 10.6667H3.43359",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})]}),y$=async(t,e)=>{const n=B(ce,"posts",t),r=re(n,"reports"),i=B(r,e);try{(await Tr(i)).exists()?await un(i):await Ge(i,{reporterId:e})}catch(s){console.error("Error al agregar o eliminar el reporte:",s)}},v$=({postId:t})=>{const{userId:e}=T.useContext(ve),{isReported:n}=m$(t,e);return c.jsx(en,{icon:c.jsx(g$,{}),onClick:async()=>await y$(t,e),bg:"orange",successTitle:n?"Has eliminado el reporte":"Publicación reportada",successDescription:n?"Has eliminado el reporte de esta publicación. Gracias por tu contribución.":"Has reportado esta publicación. Gracias por tu contribución.",errorTitle:"Error al reportar la publicación",errorDescription:"No se pudo reportar la publicación. Por favor, inténtalo de nuevo.",children:n?"Eliminar reporte":"Reportar publicación"})},L6=(t,e)=>{const n=B(ce,"users",t),r=re(n,"savedPosts");return xr(r,i=>{const s=[];i.forEach(o=>{const a=o.data();s.push(a)}),e(s)})},_$=(t,e)=>{const[n,r]=T.useState([]);T.useEffect(()=>{const a=L6(e,u=>{r(u)});return()=>a()},[t,e]);const s=n.map(o=>o.postId).includes(t);return{savedPostsData:n,isSaved:s}},M6=async t=>{const e=B(ce,"posts",t);let n;try{n=(await Tr(e)).data()}catch(r){console.log(r)}return n},V6=async(t,e)=>{const n=B(ce,"users",e),r=re(n,"savedPosts"),i=B(r,t);try{const s=await Tr(i),o=await M6(t);s.exists()?await un(i):await Ge(i,o)}catch(s){console.error("Error guardando el post:",s)}},w$=({postId:t})=>{const{userId:e}=T.useContext(ve),{isSaved:n}=_$(t,e);return c.jsx(en,{icon:c.jsx(Lf,{}),onClick:async()=>await V6(t,e),bg:"blue",successTitle:n?"Has eliminado la publicación guardada":"Publicación guardada",successDescription:n?"Publicación eliminada con éxito":"Publicación guardada con éxito",errorTitle:"Error al guardar la publicación",errorDescription:"No se pudo guardar la publicación. Por favor, inténtalo de nuevo.",children:n?"Eliminar publicación guardada":"Guardar publicación"})},E$=(t,e)=>{const[n,r]=T.useState([]),{watchBlockedUsers:i}=T.useContext(ve);T.useEffect(()=>{const u=i(t,l=>{r(l)});return()=>u()},[t]);const o=n.map(a=>a.blocked).includes(e);return{blockedUsersData:n,isBlockedUser:o}},T$=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.00001 14.6666C11.68 14.6666 14.6667 11.68 14.6667 7.99998C14.6667 4.31998 11.68 1.33331 8.00001 1.33331C4.32001 1.33331 1.33334 4.31998 1.33334 7.99998C1.33334 11.68 4.32001 14.6666 8.00001 14.6666Z",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M12.6003 3.33331L3.26694 12.6666",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})]}),S$=async(t,e)=>{const n=B(ce,"users",t),r=re(n,"blockedUsers"),i=B(r,e);try{(await Tr(i)).exists()?await un(i):await Ge(i,{blocked:e})}catch(s){console.error("Error al bloquear o desbloquear al usuario:",s)}},I$=({userToBlockId:t})=>{const{userId:e}=T.useContext(ve),{isBlockedUser:n}=E$(e,t);return c.jsx(en,{icon:c.jsx(T$,{}),onClick:async()=>await S$(e,t),bg:"red",successTitle:n?"Usuario desbloqueado":"Usuario bloqueado",successDescription:n?"Usuario desbloqueado con éxito":"Usuario bloqueado con éxito",errorTitle:"Error al bloquear usuario",errorDescription:"No se pudo bloquear al usuario. Por favor, inténtalo de nuevo.",children:n?"Desbloquear usuario":"Bloquear usuario"})},x$=({postId:t,authorId:e})=>c.jsxs(ai,{icon:c.jsx(ui,{}),bg:"white",id:"post",children:[c.jsx(w$,{postId:t}),c.jsx(v$,{postId:t}),c.jsx(I$,{userToBlockId:e})]}),$f=({children:t})=>c.jsx(Cr,{size:"xs",weight:"regular",color:"black",enableReadMore:!0,children:t});const Bf=({src:t,alt:e})=>c.jsx(LI,{src:t,alt:e,id:"post"}),i0=(t,e)=>{const n=B(ce,"posts",t),r=re(n,"likes");return xr(r,i=>{const s=[];i.forEach(o=>{const a=o.data();Object.keys(a).length>0&&s.push(a)}),e(s)})},C$=(t,e)=>{const[n,r]=T.useState([]);T.useEffect(()=>{const a=i0(t,u=>{r(u)});return()=>a()},[t,e]);const s=n.map(o=>o.likerId).includes(e);return{likesData:n,isLiked:s}},U6=({active:t})=>c.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:t?"#ff5252":"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.41334 13.8733C8.18668 13.9533 7.81334 13.9533 7.58668 13.8733C5.65334 13.2133 1.33334 10.46 1.33334 5.79335C1.33334 3.73335 2.99334 2.06668 5.04001 2.06668C6.25334 2.06668 7.32668 2.65335 8.00001 3.56001C8.67334 2.65335 9.75334 2.06668 10.96 2.06668C13.0067 2.06668 14.6667 3.73335 14.6667 5.79335C14.6667 10.46 10.3467 13.2133 8.41334 13.8733Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})}),zo=()=>{const t=new Date,e={day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0,hourCycle:"h12"},n=new Intl.DateTimeFormat("es-ES",e).format(t),[r,i]=n.split(", "),[s,o]=i.split(" ");return`${r}, ${s} ${o}`},qo=()=>new Date().getTime(),Ws=()=>{const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<30;n++){const r=Math.floor(Math.random()*t.length);e+=t[r]}return e},F6=async(t,e,n,r)=>{const i=B(re(ce,"users"),e),s=re(i,"notifications"),o=await yn(nr(s,Zr("postId","==",t),Zr("notificatorId","==",n)));if(o.empty){const a=Ws(),u={postId:t,notificatorId:n,notificationId:a,type:r,createdAt:zo(),timestamp:qo()};try{await Ge(B(s,a),u),await Fo(i,{viewedNotifications:!0})}catch(l){console.log(l)}}else{let a=null;if(o.forEach(u=>{u.data().type===r&&(a=u.id)}),a)try{await Fo(B(s,a),{postId:t,notificatorId:n,type:r,createdAt:zo(),timestamp:qo()})}catch(u){console.log(u)}else{const u=Ws(),l={postId:t,notificatorId:n,notificationId:u,type:r,createdAt:zo(),timestamp:qo()};try{await Ge(B(s,u),l),await Fo(i,{viewedNotifications:!0})}catch(h){console.log(h)}}}},P$=async(t,e,n)=>{const r=B(ce,"posts",t),i=re(r,"likes"),s=B(i,n);try{(await Tr(s)).exists()?await un(s):(await Ge(s,{likerId:n}),await F6(t,e,n,"like"))}catch(o){console.error("Error al agregar o eliminar el like:",o)}},s0=({postId:t,authorId:e})=>{const{userId:n}=T.useContext(ve),{isLiked:r}=C$(t,n);return c.jsxs(en,{onClick:async()=>await P$(t,e,n),bg:"gray",children:[c.jsx(U6,{active:r})," Me gusta"]})},o0=(t,e)=>{const n=B(ce,"posts",t),r=re(n,"shares");return xr(r,i=>{const s=[];i.forEach(o=>{const a=o.data();Object.keys(a).length>0&&s.push(a)}),e(s)})},R$=(t,e)=>{const[n,r]=T.useState([]);T.useEffect(()=>{const a=o0(t,u=>{r(u)});return()=>a()},[t,e]);const s=n.map(o=>o.sharerId).includes(e);return{sharesData:n,isShared:s}},$6=async(t,e,n)=>{const r=B(ce,"users",n),i=B(ce,"posts",t),s=re(r,"sharedPosts"),o=re(i,"shares"),a=B(s,t),u=B(o,n);try{const l=await Tr(a),h=await M6(t);l.exists()?(await un(u),await un(a)):(await Ge(u,{sharerId:n}),await Ge(a,h),await F6(t,e,n,"share"))}catch(l){console.error("Error compartiendo el post:",l)}},a0=({postId:t,authorId:e})=>{const{userId:n}=T.useContext(ve),{isShared:r}=R$(t,n);return c.jsxs(en,{onClick:async()=>await $6(t,e,n),bg:"gray",successTitle:r?"Has eliminado la publicación compartida":"Publicación compartida",successDescription:r?"Publicación eliminada con éxito":"Publicación compartida con éxito",errorTitle:"Error al compartir publicación",errorDescription:"La publicación no ha sido compartida",children:[c.jsx(Mf,{active:r})," ",r?"Compartido":"Compartir"]})},B6=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M5.66668 12.6667H5.33334C2.66668 12.6667 1.33334 12 1.33334 8.66668V5.33334C1.33334 2.66668 2.66668 1.33334 5.33334 1.33334H10.6667C13.3333 1.33334 14.6667 2.66668 14.6667 5.33334V8.66668C14.6667 11.3333 13.3333 12.6667 10.6667 12.6667H10.3333C10.1267 12.6667 9.92668 12.7667 9.80001 12.9333L8.80001 14.2667C8.36001 14.8533 7.64001 14.8533 7.20001 14.2667L6.20001 12.9333C6.09334 12.7867 5.84668 12.6667 5.66668 12.6667Z",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M4.66666 5.33334H11.3333",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M4.66666 8.66666H8.66666",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]});const A$=({children:t,icon:e,onClick:n,unstyled:r,bg:i,bgOpacity:s,tooltipMessage:o})=>{const a=["rectangle-button"];return e&&a.push("enabled-icon"),i&&a.push(`bg-${i}`),s&&a.push(`opacity-${s}`),r&&a.push("unstyled"),c.jsxs("button",{className:a.join(" "),onClick:n,children:[!r&&e&&c.jsx("div",{className:"icon-wrapper",children:e}),t,o&&c.jsx("span",{className:"tooltip-message",children:o})]})},u0=({postId:t,authorId:e})=>{const n=Gd(),r=()=>{n(`/posts/${t}`,{state:{authorId:e},replace:!1})};return c.jsxs(A$,{onClick:r,bg:"gray",children:[c.jsx(B6,{})," Comentar"]})},k$=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{const s=o0(t,o=>{n(o)});return()=>s()},[t]),{totalShares:e.length}},zf=({postId:t})=>{const{totalShares:e}=k$(t);let n;return e>0?e===1?n=`${e} vez compartido`:n=`${e} veces compartido`:n="",c.jsx(Cr,{size:"xs",weight:"regular",color:"black",children:n})},b$=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{const s=i0(t,o=>{n(o)});return()=>s()},[t]),{totalLikes:e.length}},qf=({postId:t})=>{const{totalLikes:e}=b$(t);let n;return e>0?n=`${e} me gusta`:n="",c.jsx(Cr,{size:"xs",weight:"regular",color:"black",children:n})},Hf=async t=>{const e=re(ce,"users");let n=[];if(t.length<=0)return[];const r=nr(e,Zr("userId","in",t));try{(await yn(r)).forEach(s=>{n=[...n,s.data()]})}catch(i){console.log(i)}return n},D$=async t=>{const e=t.map(r=>r.authorId);let n;try{n=await Hf(e)}catch(r){console.log(r)}return n},z6=(t,e,n,r)=>{const i=[];for(const s of t){const o=e.filter(a=>a[r]===s[n]);if(o.length>0)for(const a of o){const u={...s,...a};i.push(u)}else i.push(s)}return i},q6=(t,e)=>{const n=B(ce,"posts",t),r=re(n,"comments");return xr(r,async i=>{let s=[],o;i.forEach(u=>{const l=u.data();Object.keys(l).length>0&&s.push(l)});try{o=await D$(s)}catch(u){console.log(u)}const a=z6(s,o,"authorId","userId");e(a)})},O$=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{const s=q6(t,o=>{n(o)});return()=>s()},[t]),{totalComments:e.length}},Wf=({postId:t})=>{const{totalComments:e}=O$(t);let n;return e>0?e===1?n=`${e} comentario`:n=`${e} comentarios`:n="",c.jsx(Cr,{size:"xs",weight:"regular",color:"black",children:n})};const H6=({postId:t,authorId:e,profilePictureURL:n,username:r,createdAt:i,postContent:s,postImage:o})=>{const{userId:a}=T.useContext(ve);return c.jsxs(as,{id:"post",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("div",{children:c.jsx(ii,{src:n,alt:r,navigateTo:e})}),c.jsxs("div",{children:[c.jsxs(no,{children:[r," - ",e!==a&&c.jsx(Ll,{authorId:e})]}),c.jsx(Fl,{children:i})]}),c.jsx("div",{children:e===a?c.jsx(N6,{postId:t}):c.jsx(x$,{postId:t,authorId:e})})]}),c.jsxs("div",{className:"card-main",children:[c.jsx("div",{children:c.jsx($f,{children:s})}),c.jsx("div",{children:o!==void 0&&c.jsx(Bf,{src:o,alt:r})}),c.jsxs("div",{children:[c.jsx(qf,{postId:t}),c.jsxs("div",{children:[c.jsx(Wf,{postId:t}),c.jsx(zf,{postId:t})]})]})]}),c.jsxs("div",{className:"card-footer",children:[c.jsx(s0,{postId:t,authorId:e}),c.jsx(u0,{postId:t,authorId:e}),c.jsx(a0,{postId:t,authorId:e})]})]})},Qf=t=>{const e=t.reduce((r,i)=>{const s=`${i.postId}-${i.type}`;return(!r[s]||r[s].timestamp<i.timestamp)&&(r[s]=i),r},{});return Object.values(e).sort((r,i)=>i.timestamp-r.timestamp)},N$=async()=>{const t=re(ce,"posts");let e=[];try{(await yn(t)).forEach(r=>{Object.keys(r.data()).length>0&&(e=[...e,r.data()])})}catch(n){console.log(n)}return e},j$=(t,e)=>{const n=[];for(const r of t){const i=r[e];n.includes(i)||n.push(i)}return n},L$=async()=>{let t=[],e=[];try{t=await N$(),e=await Hf(j$(t,"authorId"))}catch(r){console.log(r)}return z6(t,e,"authorId","userId")};const M$=()=>{const t=cl("posts",L$),e=t.data?Qf(t.data):[];return c.jsxs(Fn,{id:"feed",children:[c.jsx(d$,{}),c.jsx(us,{stack:"vertical",children:t.isLoading?c.jsxs(c.Fragment,{children:[c.jsx(fm,{}),c.jsx(fm,{}),c.jsx(fm,{})]}):e.map(n=>c.jsx("div",{children:c.jsx(H6,{postId:n.postId,authorId:n.authorId,profilePictureURL:n.profilePictureURL,username:n.username,createdAt:n.createdAt,postContent:n.postContent,postImage:n.postImage})},n.postId))})]})},V$=()=>c.jsx(c.Fragment,{children:c.jsx(M$,{})}),l0=async t=>{const e=B(ce,"users",t);let n;try{n=(await Tr(e)).data()}catch(r){console.log(r)}return n},U$=async t=>{const e=re(ce,"posts"),n=nr(e,Zr("authorId","==",t));let r=[];try{const i=await l0(t);return(await yn(n)).forEach(o=>{const u={...o.data(),userData:i};r.push(u)}),r}catch(i){console.error("Error al obtener los posts del usuario:",i)}};const F$=({children:t,id:e})=>{const n=["header"];return c.jsx("header",{className:n.join(" "),id:e,children:c.jsx("div",{children:t})})},$$=(t,e)=>{const n=re(ce,"posts"),r=nr(n,Zr("authorId","==",t));return xr(r,i=>{const s=[];i.forEach(o=>{const a=o.data();s.push(a)}),e(s)})},B$=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{if(t!==void 0){const i=$$(t,s=>{n(s)});return()=>i()}},[t]),{userPersonalPostsData:e}},z$=({profileId:t})=>{const{userPersonalPostsData:e}=B$(t);return c.jsx(Cr,{size:"xs",weight:"regular",color:"black",children:`${e.length} publicaciones`})},q$=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{if(t!==void 0){const i=_6(t,s=>{n(s)});return()=>i()}},[t]),{followingData:e}},H$=({profileId:t})=>{const{followingData:e}=q$(t);return c.jsx(Cr,{size:"xs",weight:"regular",color:"black",children:`${e.length} siguiendo`})},W$=({children:t})=>c.jsx(Cr,{size:"xs",weight:"regular",color:"black",enableReadMore:!0,children:t}),Q$=()=>c.jsx(Xd,{icon:c.jsx(p6,{}),navigateTo:"/setting",bg:"white",tooltipMessage:"Editar"});const K$=({username:t,profileId:e,profilePictureURL:n,biography:r})=>{const{userId:i}=T.useContext(ve);return c.jsxs(F$,{id:"profile",children:[c.jsx("div",{children:c.jsx(ii,{src:n,alt:t})}),c.jsxs("div",{children:[c.jsxs("div",{children:[c.jsxs(no,{children:[t," - ",e!==i&&c.jsx(Ll,{authorId:e})]}),c.jsx(Q$,{})]}),c.jsxs("div",{children:[c.jsx(z$,{profileId:e}),c.jsx(X1,{profileId:e}),c.jsx(H$,{profileId:e})]}),c.jsx("div",{children:c.jsx(W$,{children:r})})]})]})};const G$=({children:t})=>c.jsx(si,{id:"profile",children:t}),Y$=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M6.00001 14.6667H10C13.3333 14.6667 14.6667 13.3333 14.6667 10V6.00001C14.6667 2.66668 13.3333 1.33334 10 1.33334H6.00001C2.66668 1.33334 1.33334 2.66668 1.33334 6.00001V10C1.33334 13.3333 2.66668 14.6667 6.00001 14.6667Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M5.99999 6.66667C6.73637 6.66667 7.33332 6.06971 7.33332 5.33333C7.33332 4.59695 6.73637 4 5.99999 4C5.26361 4 4.66666 4.59695 4.66666 5.33333C4.66666 6.06971 5.26361 6.66667 5.99999 6.66667Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M1.78 12.6333L5.06667 10.4267C5.59333 10.0733 6.35333 10.1133 6.82666 10.52L7.04666 10.7133C7.56666 11.16 8.40667 11.16 8.92667 10.7133L11.7 8.33332C12.22 7.88665 13.06 7.88665 13.58 8.33332L14.6667 9.26665",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),X$=()=>c.jsx(ls,{icon:c.jsx(Y$,{}),title:"Aún no has creado publicaciones",description:"¡Anímate a compartir tus pensamientos, ideas o experiencias! Haz clic en el botón de abajo para ir al inicio y crear tu primera publicación.",buttonContent:"Crear publicación",buttonRedirectPath:"/"});const J$=()=>{var r,i,s,o;const{profileId:t}=RI(),[e,n]=AD([{queryKey:["profileData",t],queryFn:async()=>t?await l0(t):null},{queryKey:["profilePersonalPosts",t],queryFn:async()=>t?await U$(t):null}]);return c.jsx(Fn,{id:"profile",children:e.isLoading||n.isLoading?c.jsx("div",{className:"loading",children:c.jsx(oi,{})}):c.jsxs(c.Fragment,{children:[c.jsx(K$,{username:(r=e.data)==null?void 0:r.username,profileId:t||"",profilePictureURL:(i=e.data)==null?void 0:i.profilePictureURL,biography:(s=e.data)==null?void 0:s.biography}),c.jsx(G$,{children:c.jsx(us,{stack:"vertical",children:n.data&&n.data.length<=0?c.jsx(X$,{}):(o=n.data)==null?void 0:o.map(a=>c.jsx("div",{children:c.jsx(H6,{postId:a.postId,authorId:a.authorId,profilePictureURL:a.userData.profilePictureURL,username:a.userData.username,createdAt:a.createdAt,postContent:a.postContent,postImage:a.postImage})},a.postId))})})]})})},Z$=()=>c.jsx(c.Fragment,{children:c.jsx(J$,{})}),e7=async t=>{const e=re(ce,"users");let n=[];try{const r=nr(e,Zr("username",">=",t),Zr("username","<=",t+""));(await yn(r)).forEach(s=>{n=[...n,s.data()]})}catch(r){console.log(r)}return n};const W6=({register:t,registerName:e,rules:n,fieldName:r,id:i,placeholder:s,type:o,errors:a,errorDescription:u})=>{const l=["input"];return c.jsxs("label",{children:[r&&c.jsxs("span",{children:[r,":"]}),c.jsx("input",{className:l.join(" "),...t(e,n),name:e,id:i,placeholder:s,type:o,autoComplete:"off"}),a&&a[e]&&typeof a[e]<"u"&&c.jsxs("div",{className:"error-description",children:[c.jsx("div",{children:c.jsx(n0,{})}),u]})]})};const t7=({register:t,rules:e})=>c.jsx(W6,{register:t,registerName:"search",rules:e,placeholder:"Buscar...",type:"text",id:"search-data"});const Q6=({icon:t,isSubmitting:e,tooltipMessage:n,bg:r,bgOpacity:i})=>{const s=["asynch-round-form-button"];return t&&s.push("enabled-icon"),r&&s.push(`bg-${r}`),i&&s.push(`opacity-${i}`),c.jsxs("button",{className:s.join(" "),children:[e?c.jsx(oi,{}):t,n&&c.jsx("span",{className:"tooltip-message",children:n})]})},K6=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M4.93313 4.21338L10.5931 2.32671C13.1331 1.48004 14.5131 2.86671 13.6731 5.40671L11.7865 11.0667C10.5198 14.8734 8.43979 14.8734 7.17312 11.0667L6.61312 9.38671L4.93313 8.82671C1.12646 7.56004 1.12646 5.48671 4.93313 4.21338Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M6.73959 9.10006L9.12626 6.70673",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),n7=({isSubmitting:t})=>c.jsx(Q6,{icon:c.jsx(K6,{}),isSubmitting:t,bg:"blue"});const r7=({setUsers:t})=>{const{handleSubmit:e,register:n,reset:r,formState:{isSubmitting:i}}=Ul(),s=async o=>{const a=await e7(o.search);t(a),r()};return c.jsxs(Ff,{onSubmit:e(s),id:"search",children:[c.jsx(t7,{register:n,rules:{required:!0}}),c.jsx("div",{children:c.jsx(n7,{isSubmitting:i})})]})};const i7=({children:t})=>c.jsx(si,{id:"search",children:t}),s7=()=>c.jsx(ls,{icon:c.jsx(fl,{}),title:"No se encontraron usuarios",description:"Realiza una búsqueda para encontrar usuarios. ¡Anímate a buscar y conectar con otras personas!"}),o7=()=>c.jsx(ls,{icon:c.jsx(fl,{}),title:"¡Bienvenido a la búsqueda de usuarios!",description:"Utiliza la barra de búsqueda para encontrar y conectar con otros usuarios. ¡Explora y conecta con personas afines a ti!"}),a7=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(!1);return T.useEffect(()=>{},[t]),c.jsxs(Fn,{id:"search",children:[c.jsx(r7,{setUsers:i=>{e(i),r(!0)}}),c.jsx(i7,{children:n?t.length<=0?c.jsx(s7,{}):c.jsx("div",{children:c.jsx(us,{stack:"vertical",children:t.map(i=>c.jsx("div",{children:c.jsx(w6,{userId:i.userId,profilePictureURL:i.profilePictureURL,username:i.username})},i.userId))})}):c.jsx(o7,{})})]})},u7=()=>c.jsx(c.Fragment,{children:c.jsx(a7,{})}),l7=async t=>{try{const e=B(ce,"users",t);await Fo(e,{viewedNotifications:!1})}catch(e){console.error("Error updating viewedNotifications:",e)}},c7=async t=>{const e=re(ce,"posts");let n=[];const r=nr(e,Zr("postId","in",t));try{(await yn(r)).forEach(s=>{n=[...n,s.data()]})}catch(i){console.log(i)}return n},h7=async t=>{const e=B(ce,"users",t),n=re(e,"notifications");let r=[],i=[],s=[];try{return(await yn(n)).forEach(a=>{const u=a.data();if(Object.keys(u).length>0){i.push(u);const l=u.postId;l&&r.push(l)}}),s=await c7(r),i.forEach(a=>{const u=a.postId,l=s.find(h=>h.postId===u);l&&(a.postData=l)}),i}catch(o){return console.log(o),[]}},d7=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M6.38001 3.95332L2.33334 7.99999L6.38001 12.0467",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M13.6667 8H2.44669",stroke:"#181818",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})]}),Kf=()=>c.jsx(Xd,{icon:c.jsx(d7,{}),navigateTo:"/",bg:"blue",tooltipMessage:"Volver"}),f7=async t=>{const e=re(B(ce,"users",t),"notifications");try{(await yn(e)).forEach(r=>{r.id!=="default"&&un(r.ref)})}catch(n){console.error("Error al eliminar las notificaciones:",n)}},p7=()=>{const{userId:t}=T.useContext(ve);return c.jsx(en,{icon:c.jsx(xa,{}),onClick:async()=>await f7(t),bg:"red",successTitle:"Notificaciónes eliminadas",successDescription:"Tus notificaciónes se ha eliminado correctamente.",errorTitle:"Error al eliminar las notificaciónes",errorDescription:"No se pudieron eliminar las notificaciónes. Por favor, inténtalo de nuevo.",children:"Eliminar todas"})},m7=()=>c.jsx(ai,{icon:c.jsx(ui,{}),bg:"white",id:"post",children:c.jsx(p7,{})});const g7=()=>c.jsxs(Ys,{id:"notifications",children:[c.jsx(Kf,{}),c.jsx(qr,{children:"Notificaciones"}),c.jsx(m7,{})]});const y7=({children:t})=>c.jsx(si,{id:"notifications",children:t}),v7=async(t,e)=>{const n=B(ce,"users",t),r=B(n,"notifications",e);try{await un(r)}catch(i){console.error("Error al eliminar la notificación:",i)}},_7=({notificationId:t})=>{const{userId:e}=T.useContext(ve);return c.jsx(en,{icon:c.jsx(xa,{}),onClick:async()=>await v7(e,t),bg:"red",successTitle:"Notificación eliminada",successDescription:"Tu notificación se ha eliminado correctamente.",errorTitle:"Error al eliminar la notificación",errorDescription:"No se pudo eliminar la notificación. Por favor, inténtalo de nuevo.",children:"Eliminar"})},w7=({notificationId:t})=>c.jsx(ai,{icon:c.jsx(ui,{}),bg:"white",id:"post",children:c.jsx(_7,{notificationId:t})});const E7=({notificationId:t,postId:e,postImage:n,createdAt:r,typeNotification:i})=>c.jsxs(as,{id:"notification",children:[c.jsx("div",{children:c.jsxs("div",{children:[c.jsx(Bf,{src:n,alt:t}),c.jsxs("div",{className:"icon",children:[i==="like"&&c.jsx(U6,{active:!0}),i==="comment"&&c.jsx(B6,{}),i==="share"&&c.jsx(Mf,{active:!0})]})]})}),c.jsx("div",{children:c.jsxs("div",{children:[i==="like"&&c.jsx(qr,{children:"Han dado me gusta a tu publicación"}),i==="comment"&&c.jsx(qr,{children:"Han comentado tu publicación"}),i==="share"&&c.jsx(qr,{children:"Han compartido tu publicación"}),c.jsx(Fl,{children:r}),i==="like"&&c.jsx(qf,{postId:e}),i==="comment"&&c.jsx(Wf,{postId:e}),i==="share"&&c.jsx(zf,{postId:e})]})}),c.jsx("div",{children:c.jsx(w7,{notificationId:t})})]}),T7=()=>c.jsx(ls,{icon:c.jsx(Pv,{}),title:"No hay notificaciones",description:"No tienes nuevas notificaciones en este momento. ¡Explora nuevas publicaciones y mantente al tanto de las novedades!",buttonContent:"Ir al inicio",buttonRedirectPath:"/"});const S7=()=>{const{userId:t}=T.useContext(ve);T.useEffect(()=>{l7(t)},[t]);const e=cl(["notifications"],async()=>h7(t)),n=e.data?Qf(e.data):[];return c.jsx(Fn,{id:"notifications",children:e.isLoading?c.jsx("div",{className:"loading",children:c.jsx(oi,{})}):c.jsxs(c.Fragment,{children:[c.jsx(g7,{}),c.jsx(y7,{children:c.jsx(us,{stack:"vertical",children:n.length<=0?c.jsx(T7,{}):n.map(r=>c.jsx("div",{children:c.jsx(E7,{notificationId:r.notificationId,postId:r.postId,postImage:r.postData.postImage,createdAt:r.createdAt,typeNotification:r.type})},r.notificationId))})})]})})},I7=()=>c.jsx(c.Fragment,{children:c.jsx(S7,{})}),x7=async t=>{const e=re(ce,"users",t,"savedPosts"),n=nr(e);let r=[],i=[];try{(await yn(n)).forEach(a=>{const u=a.data();if(Object.keys(u).length>0){i.push(u);const l=u.authorId;l&&r.push(l)}});const o=await Hf(r);return i.forEach(a=>{const u=o.find(l=>l.userId===a.authorId);u&&(a.authorData=u)}),i}catch(s){return console.error("Error al obtener los posts guardados del usuario:",s),[]}},C7=async t=>{const e=re(B(ce,"users",t),"savedPosts");try{(await yn(e)).forEach(r=>{r.id!=="default"&&un(r.ref)})}catch(n){console.error("Error al eliminar los posts guardados:",n)}},P7=()=>{const{userId:t}=T.useContext(ve);return c.jsx(en,{icon:c.jsx(xa,{}),onClick:async()=>await C7(t),bg:"red",successTitle:"Publicaciones guardadas eliminadas",successDescription:"Tus Publicaciones guardadas se ha eliminado correctamente.",errorTitle:"Error al eliminar las publicaciones guardadas",errorDescription:"No se pudieron eliminar las publicaciones guardadas. Por favor, inténtalo de nuevo.",children:"Eliminar todas"})},R7=()=>c.jsx(ai,{icon:c.jsx(ui,{}),bg:"white",id:"post",children:c.jsx(P7,{})});const A7=()=>c.jsxs(Ys,{id:"bookmarks",children:[c.jsx(Kf,{}),c.jsx(qr,{children:"Guardados"}),c.jsx(R7,{})]});const k7=({children:t})=>c.jsx(si,{id:"bookmarks",children:t}),b7=()=>c.jsx(ls,{icon:c.jsx(Lf,{}),title:"No hay publicaciones guardadas",description:"¡Guarda tus publicaciónes favoritas para verlas más tarde! Haz clic en el botón de abajo para ir al inicio y empezar a guardar publicaciones.",buttonContent:"Ver publicaciones",buttonRedirectPath:"/"});const D7=({postId:t})=>{const{userId:e}=T.useContext(ve);return c.jsx(en,{icon:c.jsx(Lf,{}),onClick:async()=>await V6(t,e),bg:"blue",successTitle:"Has eliminado la publicación guardada",successDescription:"Publicación eliminada con éxito",errorTitle:"Error al guardar la publicación",errorDescription:"No se pudo guardar la publicación. Por favor, inténtalo de nuevo.",children:"Eliminar"})},O7=({bookmarkId:t})=>c.jsx(ai,{icon:c.jsx(ui,{}),bg:"white",id:"post",children:c.jsx(D7,{postId:t})}),N7=({postId:t,authorId:e,profilePictureURL:n,username:r,createdAt:i,postContent:s,postImage:o})=>{const{userId:a}=T.useContext(ve);return c.jsxs(as,{id:"post",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("div",{children:c.jsx(ii,{src:n,alt:r,navigateTo:e})}),c.jsxs("div",{children:[c.jsxs(no,{children:[r," - ",e!==a&&c.jsx(Ll,{authorId:e})]}),c.jsx(Fl,{children:i})]}),c.jsx("div",{children:e===a?c.jsx(N6,{postId:t}):c.jsx(O7,{bookmarkId:t})})]}),c.jsxs("div",{className:"card-main",children:[c.jsx("div",{children:c.jsx($f,{children:s})}),c.jsx("div",{children:c.jsx(Bf,{src:o,alt:r})}),c.jsxs("div",{children:[c.jsx(qf,{postId:t}),c.jsxs("div",{children:[c.jsx(Wf,{postId:t}),c.jsx(zf,{postId:t})]})]})]}),c.jsxs("div",{className:"card-footer",children:[c.jsx(s0,{postId:t,authorId:e}),c.jsx(u0,{postId:t,authorId:e}),c.jsx(a0,{postId:t,authorId:e})]})]})};const j7=()=>{const{userId:t}=T.useContext(ve),e=cl(["bookmarks"],async()=>await x7(t)),n=e.data?Qf(e.data):[];return c.jsx(Fn,{id:"bookmarks",children:e.isLoading?c.jsx("div",{className:"loading",children:c.jsx(oi,{})}):c.jsxs(c.Fragment,{children:[c.jsx(A7,{}),c.jsx(k7,{children:c.jsx(us,{stack:"vertical",children:n.length<=0?c.jsx(b7,{}):n.map(r=>c.jsx("div",{children:c.jsx(N7,{postId:r.postId,authorId:r.authorId,profilePictureURL:r.authorData.profilePictureURL,username:r.authorData.username,createdAt:r.createdAt,postContent:r.postContent,postImage:r.postImage})},r.postId))})})]})})},L7=()=>c.jsx(c.Fragment,{children:c.jsx(j7,{})}),M7=async t=>{const e=re(ce,"users",t,"sharedPosts"),n=nr(e);let r=[],i=[];try{(await yn(n)).forEach(a=>{const u=a.data();if(Object.keys(u).length>0){i.push(u);const l=u.authorId;l&&r.push(l)}});const o=await Hf(r);return i.forEach(a=>{const u=o.find(l=>l.userId===a.authorId);u&&(a.authorData=u)}),i}catch(s){return console.error("Error al obtener los posts compartidos del usuario:",s),[]}},V7=async t=>{const e=re(B(ce,"users",t),"sharedPosts");try{const n=nr(e);(await yn(n)).forEach(async i=>{const s=i.id,o=re(B(ce,"posts",s),"shares"),a=B(o,t);i.id!=="default"&&(await un(a),await un(i.ref))})}catch(n){console.error("Error al eliminar las publicaciones compartidas:",n)}},U7=()=>{const{userId:t}=T.useContext(ve);return c.jsx(en,{icon:c.jsx(xa,{}),onClick:async()=>await V7(t),bg:"red",successTitle:"Publicaciones compartidas eliminadas",successDescription:"Tus Publicaciones compartidas se ha eliminado correctamente.",errorTitle:"Error al eliminar las publicaciones compartidas",errorDescription:"No se pudieron eliminar las publicaciones compartidas. Por favor, inténtalo de nuevo.",children:"Eliminar todas"})},F7=()=>c.jsx(ai,{icon:c.jsx(ui,{}),bg:"white",id:"post",children:c.jsx(U7,{})});const $7=()=>c.jsxs(Ys,{id:"shares",children:[c.jsx(Kf,{}),c.jsx(qr,{children:"Compartidos"}),c.jsx(F7,{})]});const B7=({children:t})=>c.jsx(si,{id:"shares",children:t}),z7=()=>c.jsx(ls,{icon:c.jsx(Mf,{active:!1}),title:"No hay publicaciones compartidas",description:"Comparte tus publicaciónes favoritas! Haz clic en el botón de abajo para ir al inicio y empezar a compartir publicaciones.",buttonContent:"Ver publicaciones",buttonRedirectPath:"/"}),q7=({sharedPostId:t,authorId:e})=>{const{userId:n}=T.useContext(ve);return c.jsx(en,{onClick:async()=>await $6(t,e,n),bg:"red",successTitle:"Has eliminado la publicación compartida",successDescription:"Publicación eliminada con éxito",errorTitle:"Error al eliminar la publicación compartida",errorDescription:"La publicación no ha sido eliminada",children:"Eliminar"})},H7=({sharedPostId:t,authorId:e})=>c.jsx(ai,{icon:c.jsx(ui,{}),bg:"white",id:"post",children:c.jsx(q7,{sharedPostId:t,authorId:e})});const W7=({postId:t,authorId:e,profilePictureURL:n,username:r,createdAt:i,postContent:s,postImage:o})=>{const{userId:a}=T.useContext(ve);return c.jsxs(as,{id:"post-share",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("div",{children:c.jsx(ii,{src:n,alt:r,navigateTo:e})}),c.jsxs("div",{children:[c.jsxs(no,{children:[r," - ",e!==a&&c.jsx(Ll,{authorId:e})]}),c.jsx(Fl,{children:i})]}),c.jsx("div",{children:c.jsx(H7,{sharedPostId:t,authorId:e})})]}),c.jsxs("div",{className:"card-main",children:[c.jsx("div",{children:c.jsx($f,{children:s})}),c.jsx("div",{children:c.jsx(Bf,{src:o,alt:r})}),c.jsxs("div",{children:[c.jsx(qf,{postId:t}),c.jsxs("div",{children:[c.jsx(Wf,{postId:t}),c.jsx(zf,{postId:t})]})]})]}),c.jsxs("div",{className:"card-footer",children:[c.jsx(s0,{postId:t,authorId:e}),c.jsx(u0,{postId:t,authorId:e}),c.jsx(a0,{postId:t,authorId:e})]})]})};const Q7=()=>{const{userId:t}=T.useContext(ve),e=cl(["shares"],async()=>await M7(t)),n=e.data?Qf(e.data):[];return c.jsx(Fn,{id:"shares",children:e.isLoading?c.jsx("div",{className:"loading",children:c.jsx(oi,{})}):c.jsxs(c.Fragment,{children:[c.jsx($7,{}),c.jsx(B7,{children:c.jsx(us,{stack:"vertical",children:n.length<=0?c.jsx(z7,{}):n.map(r=>c.jsx("div",{children:c.jsx(W7,{postId:r.postId,authorId:r.authorId,profilePictureURL:r.authorData.profilePictureURL,username:r.authorData.username,createdAt:r.createdAt,postContent:r.postContent,postImage:r.postImage})},r.postId))})})]})})},K7=()=>c.jsx(c.Fragment,{children:c.jsx(Q7,{})});const G7=({children:t})=>c.jsx(si,{id:"setting",children:t}),cT=({children:t})=>c.jsx(Uf,{as:"h1",family:"montserrat",size:"lg",weight:"semibold",color:"black",children:t});const Y7=({register:t,rules:e,errors:n})=>c.jsx(W6,{register:t,registerName:"username",rules:e,fieldName:"Nombre de usuario",placeholder:"Nombre de usuario",type:"text",errors:n,errorDescription:`El nombre de usuario debe tener entre 5 y 20 caracteres y comenzar\r
        con una letra. Solo puede contener letras, números y guiones bajos.`,id:"update-username"});const X7=({register:t,rules:e,errors:n})=>c.jsx(r0,{register:t,registerName:"biography",rules:e,fieldName:"Biografía",errors:n,errorDescription:`La biografía debe tener entre 10 y 150 caracteres y solo puede\r
      contener letras, números, espacios en blanco y los caracteres .,!¡¿?_-.`,placeholder:"Escribe una biografía",id:"biography"});const J7=({register:t,resetImageInput:e,setResetImageInput:n})=>c.jsx(D6,{register:t,registerName:"profilePictureURL",resetImageInput:e,setResetImageInput:n,id:"change-profile-picture"}),Z7=({isSubmitting:t})=>c.jsx(O6,{isSubmitting:t,bg:"blue",children:"Actualizar datos"}),G6=async(t,e)=>{const n=e8(a8,e);try{return await JF(n,t),await ZF(n)}catch(r){throw console.error("Error uploading file:",r),r}},e5=async(t,e)=>{const n=B(ce,"users",t),r={};if(e.biography!==""&&(r.biography=e.biography),e.username!==""&&(r.username=e.username),e.profilePictureURL.length>0){const i=await G6(e.profilePictureURL[0],`profilePictureImages/${Ws()}`);r.profilePictureURL=i}else r.profilePictureURL="";Object.keys(r).forEach(i=>(r[i]===""||r[i]===void 0)&&delete r[i]);try{await Fo(n,r)}catch(i){console.error("Error updating user data:",i)}};const t5=()=>{const[t,e]=T.useState(!1),{userId:n}=T.useContext(ve),{handleSubmit:r,register:i,reset:s,formState:{isSubmitting:o,errors:a}}=Ul(),u=async l=>{await e5(n,l),s(),e(!0)};return c.jsxs(Ff,{onSubmit:r(u),id:"update-personal-data",children:[c.jsx("div",{children:c.jsx(J7,{register:i,resetImageInput:t,setResetImageInput:e})}),c.jsxs("div",{children:[c.jsx(Y7,{register:i,rules:{minLength:5,maxLength:15,pattern:/^[A-Za-z][A-Za-z0-9_]{4,15}$/},errors:a}),c.jsx(X7,{register:i,rules:{minLength:10,maxLength:150},errors:a})]}),c.jsx("div",{children:c.jsx(Z7,{isSubmitting:o})})]})};const n5=()=>c.jsx(Fn,{id:"setting",children:c.jsxs(G7,{children:[c.jsx(cT,{children:"Informacion Personal"}),c.jsx(sy,{children:"Personaliza tu perfil a tu gusto. Cambia tu foto de perfil, nombre de usuario y biografía para reflejar quién eres y compartir información relevante sobre ti."}),c.jsx(t5,{}),c.jsx(v6,{bg:"gray"}),c.jsx(cT,{children:"Interfaz de usuario"}),c.jsx(sy,{children:"Personaliza la apariencia de la aplicación según tus preferencias. Cambia el tema de la aplicación para adaptarlo a tu estilo y mejorar tu experiencia de uso."}),c.jsxs("div",{children:[c.jsx(qr,{children:"Tema"}),c.jsx(E6,{})]})]})}),r5=()=>c.jsx(c.Fragment,{children:c.jsx(n5,{})});const i5=()=>c.jsxs(Ys,{id:"post",children:[c.jsx(Kf,{}),c.jsx(qr,{children:"Comentarios de la publicación"}),c.jsx("div",{})]});const s5=({children:t})=>c.jsx(si,{id:"post",children:t});const o5=({register:t,rules:e})=>c.jsx(r0,{register:t,registerName:"commentContent",rules:e,placeholder:"Escribe un comentario",id:"comment-content"}),a5=({isSubmitting:t})=>c.jsx(Q6,{icon:c.jsx(K6,{}),isSubmitting:t,bg:"blue"}),u5=async(t,e,n)=>{const r=B(re(ce,"users"),e),i=re(r,"notifications"),s=Ws(),o={postId:t,notificatorId:n,notificationId:s,type:"comment",createdAt:zo(),timestamp:qo()};try{await Ge(B(i,s),o),await Fo(r,{viewedNotifications:!0})}catch(a){console.log(a)}},l5=async(t,e,n,r)=>{const i=B(re(ce,"posts"),t),s=Ws(),o=re(i,"comments"),a={authorId:n,postId:t,commentId:s,commentContent:r.commentContent,createdAt:zo(),timestamp:qo()};try{await Ge(B(o,s),a),await u5(t,e,n)}catch(u){console.log(u)}};const c5=({postId:t,authorId:e})=>{const{userId:n}=T.useContext(ve),{handleSubmit:r,register:i,reset:s,formState:{isSubmitting:o}}=Ul(),a=async u=>{await l5(t,e,n,u),s()};return c.jsxs(Ff,{onSubmit:r(a),successTitle:"Comentario creado exitosamente",successDescription:"¡Tu comentario ha sido creada exitosamente!",errorTitle:"Error al crear el comentario",errorDescription:"Se ha producido un error al intentar crear el comentario. Por favor, inténtalo de nuevo",id:"create-post-comment",children:[c.jsx(o5,{register:i,rules:{required:!0}}),c.jsx("div",{children:c.jsx(a5,{isSubmitting:o})})]})},h5=async(t,e)=>{const n=B(re(ce,"posts",t,"comments"),e);try{await un(n)}catch(r){console.error("Error al eliminar el comentario:",r)}},d5=({postId:t,commentId:e})=>c.jsx(en,{icon:c.jsx(xa,{}),onClick:async()=>await h5(t,e),bg:"red",successTitle:"Comentario eliminado",successDescription:"Tu comentario se ha eliminado correctamente.",errorTitle:"Error al eliminar comentario",errorDescription:"No se pudo eliminar el comentario. Por favor, inténtalo de nuevo.",children:"Eliminar"}),f5=({postId:t,commentId:e})=>c.jsx(ai,{icon:c.jsx(ui,{}),id:"comments",bg:"white",children:c.jsx(d5,{postId:t,commentId:e})});const p5=({profilePictureURL:t,username:e,commentContent:n,createdAt:r,authorId:i,commentId:s,postId:o})=>{const{userId:a}=T.useContext(ve);return c.jsxs(as,{id:"post-comment",children:[c.jsx("div",{children:c.jsx(ii,{src:t,alt:e})}),c.jsxs("div",{children:[c.jsxs("div",{children:[c.jsx(no,{children:e}),c.jsx(Fl,{children:r})]}),c.jsx($f,{children:n})]}),c.jsx("div",{children:i===a&&c.jsx(f5,{postId:o,commentId:s})})]})},m5=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{const i=q6(t,s=>{n(s)});return()=>i()},[t]),{commentsData:e}},g5=()=>c.jsx(ls,{icon:c.jsx(fl,{}),title:"¡No hay comentarios!",description:"No hay comentarios creados, se el primero en comentar."}),y5=()=>{const{postId:t}=RI(),{state:{authorId:e}}=va(),{commentsData:n}=m5(t||"");return c.jsxs(Fn,{id:"post",children:[c.jsx(i5,{}),c.jsx(s5,{children:c.jsx(us,{stack:"vertical",children:n.length<=0?c.jsx(c.Fragment,{children:c.jsx(g5,{})}):n.map(r=>c.jsx("div",{children:c.jsx(p5,{profilePictureURL:r.profilePictureURL,username:r.username,commentContent:r.commentContent,createdAt:r.createdAt,authorId:r.authorId,commentId:r.commentId,postId:r.postId})},r.commentId))})}),c.jsx(c5,{postId:t||"",authorId:e})]})},v5=()=>c.jsx(c.Fragment,{children:c.jsx(y5,{})}),_5=BO([{path:"/auth",element:c.jsx(U8,{children:c.jsx(L8,{})}),errorElement:c.jsx(eT,{})},{path:"/",element:c.jsx($8,{children:c.jsx(C8,{})}),errorElement:c.jsx(eT,{}),children:[{index:!0,element:c.jsx(V$,{})},{path:"/posts/:postId",element:c.jsx(v5,{})},{path:"/profile/:profileId",element:c.jsx(Z$,{})},{path:"/search",element:c.jsx(u7,{})},{path:"/notifications",element:c.jsx(I7,{})},{path:"/shares",element:c.jsx(K7,{})},{path:"/bookmarks",element:c.jsx(L7,{})},{path:"/setting",element:c.jsx(r5,{})}]}]),Y6=vb,nn=eb,w5=()=>{const t=nn(n=>n.theme.value),e=nn(n=>n.userInterface.mobileHomeNavbarVisibility);return{theme:t,mobileHomeNavbarVisibility:e}},E5=()=>{const t=Y6();return{changeTheme:()=>t(B2()),toggleMobileHomeNavbarVisibility:()=>t(K2())}},T5=async()=>{try{await iU(ha,o8)}catch(t){console.error(t)}},S5=async()=>{try{await DV(ha)}catch(t){console.error(t)}},I5=async t=>{const e=re(ce,"users"),n=re(B(e,t.uid),"followers"),r=re(B(e,t.uid),"following"),i=re(B(e,t.uid),"savedPosts"),s=re(B(e,t.uid),"sharedPosts"),o=re(B(e,t.uid),"blockedUsers"),a=re(B(e,t.uid),"notifications"),u={userId:t.uid,username:t.displayName.trim().toLowerCase().replace(/ /g,""),profilePictureURL:t.photoURL,biography:"¡Bienvenido! Actualiza tu biografía para compartir más sobre ti.",accountCreated:t.metadata.creationTime,viewedNotifications:!1};try{await Ge(B(e,t.uid),u),await Ge(B(n,"default"),{}),await Ge(B(r,"default"),{}),await Ge(B(i,"default"),{}),await Ge(B(s,"default"),{}),await Ge(B(o,"default"),{}),await Ge(B(a,"default"),{})}catch(l){console.log(l)}},x5=async t=>{const e=B(ce,"users",t.uid);if(!(await Tr(e)).exists()){await I5(t);return}},C5=()=>({signInWithGoogle:async()=>{try{await T5()}catch(r){console.error(r)}},signOutUser:async()=>{try{await S5()}catch(r){console.error(r)}},handlerUserAuth:async r=>{try{await x5(r)}catch(i){console.log(i)}}}),P5=()=>{const t=nn(p=>p.userPersonalData.userId),e=nn(p=>p.userPersonalData.username),n=nn(p=>p.userPersonalData.biography),r=nn(p=>p.userPersonalData.profilePictureURL),i=nn(p=>p.userPersonalData.followers),s=nn(p=>p.userPersonalData.following),o=nn(p=>p.userPersonalData.posts),a=nn(p=>p.userPersonalData.savedPosts),u=nn(p=>p.userPersonalData.sharedPosts),l=nn(p=>p.userPersonalData.blockedUsers),h=nn(p=>p.userPersonalData.notifications),d=nn(p=>p.userPersonalData.viewedNotifications),f=nn(p=>p.userPersonalData.accountCreated);return{userId:t,username:e,biography:n,profilePictureURL:r,followers:i,following:s,posts:o,savedPosts:a,sharedPosts:u,blockedUsers:l,notifications:h,viewedNotifications:d,accountCreated:f}},R5=()=>{const t=Y6();return{changeUserId:y=>t(H_(y)),changeUsername:y=>t(W_(y)),changeBiography:y=>t(Q_(y)),changeProfilePictureURL:y=>t(K_(y)),changeFollowers:y=>t(G_(y)),changeFollowing:y=>t(Y_(y)),changePosts:y=>t(H2(y)),changeSavedPosts:y=>t(X_(y)),changeSharedPosts:y=>t(J_(y)),changeBlockedUsers:y=>t(Z_(y)),changeNotifications:y=>t(ew(y)),changeViewedNotifications:y=>t(tw(y)),changeAccountCreated:y=>t(nw(y)),updateUserPersonalData:y=>{t(H_(y.userId)),t(W_(y.username)),t(Q_(y.biography)),t(K_(y.profilePictureURL)),t(G_(y.followers)),t(Y_(y.following)),t(X_(y.savedPosts)),t(J_(y.sharedPosts)),t(Z_(y.blockedUsers)),t(ew(y.notifications)),t(tw(y.viewedNotifications)),t(nw(y.accountCreated))}}},A5=async(t,e)=>{const n=re(ce,"posts"),r=Ws(),i=re(B(n,r),"likes"),s=re(B(n,r),"comments"),o=re(B(n,r),"shares"),a=re(B(n,r),"reports");if(t.postImage&&t.postImage.length>0){const h=await G6(t.postImage[0],`postImages/${Ws()}`);t.postImage=h}const u={authorId:e,postId:r,createdAt:zo(),timestamp:qo()},l={...t,...u};try{await Ge(B(n,r),l),await Ge(B(i,"default"),{}),await Ge(B(s,"default"),{}),await Ge(B(o,"default"),{}),await Ge(B(a,"default"),{})}catch(h){console.log(h)}},k5=()=>({createPost:async(e,n)=>{try{await A5(e,n)}catch(r){console.error(r)}}}),b5=()=>({getPersonalData:async e=>{try{return await l0(e)}catch(n){console.error(n)}}}),D5=(t,e)=>{const n=B(ce,"users",t),r=re(n,"blockedUsers");return xr(r,i=>{const s=[];i.forEach(o=>{const a=o.data();Object.keys(a).length>0&&s.push(a)}),e(s)})},O5=()=>({watchBlockedUsers:(s,o)=>D5(s,o),watchPostLikes:async(s,o)=>i0(s,o),watchPostReports:async(s,o)=>j6(s,o),watchPostShares:async(s,o)=>o0(s,o),watchSavedPosts:async(s,o)=>L6(s,o)}),hT=()=>{const{theme:t,mobileHomeNavbarVisibility:e}=w5(),{changeTheme:n,toggleMobileHomeNavbarVisibility:r}=E5(),{signInWithGoogle:i,signOutUser:s,handlerUserAuth:o}=C5(),{userId:a,username:u,biography:l,profilePictureURL:h,followers:d,following:f,posts:p,savedPosts:m,sharedPosts:y,blockedUsers:E,notifications:_,viewedNotifications:g,accountCreated:w}=P5(),{changeUserId:v,changeUsername:I,changeBiography:C,changeProfilePictureURL:R,changeFollowers:O,changeFollowing:U,changePosts:L,changeSavedPosts:oe,changeSharedPosts:X,changeBlockedUsers:J,changeNotifications:me,changeViewedNotifications:ae,changeAccountCreated:Se,updateUserPersonalData:Ne}=R5(),{createPost:M}=k5(),{getPersonalData:q}=b5(),{watchBlockedUsers:Y,watchPostLikes:ye,watchPostReports:Ce,watchPostShares:kt,watchSavedPosts:vt}=O5();return{theme:t,mobileHomeNavbarVisibility:e,changeTheme:n,toggleMobileHomeNavbarVisibility:r,signInWithGoogle:i,signOutUser:s,handlerUserAuth:o,userId:a,username:u,biography:l,profilePictureURL:h,followers:d,following:f,posts:p,savedPosts:m,sharedPosts:y,blockedUsers:E,notifications:_,viewedNotifications:g,accountCreated:w,changeUserId:v,changeUsername:I,changeBiography:C,changeProfilePictureURL:R,changeFollowers:O,changeFollowing:U,changePosts:L,changeSavedPosts:oe,changeSharedPosts:X,changeBlockedUsers:J,changeNotifications:me,changeViewedNotifications:ae,changeAccountCreated:Se,updateUserPersonalData:Ne,createPost:M,getPersonalData:q,watchBlockedUsers:Y,watchPostLikes:ye,watchPostReports:Ce,watchPostShares:kt,watchSavedPosts:vt}},N5=({children:t})=>{const e=hT(),{theme:n}=hT();return c.jsx(ve.Provider,{value:e,children:c.jsx("div",{className:`${n?"theme-dark":"theme-light"}`,children:t})})},j5=()=>{const[t,e]=T.useState([]),n=(r,i,s)=>{const o={id:Date.now(),visible:!0,status:r,title:i,message:s};e(a=>[...a,o])};return T.useEffect(()=>{if(t.length>0){const r=setTimeout(()=>{e(i=>i.slice(1))},2e3);return()=>clearTimeout(r)}},[t]),{notifications:t,showNotification:n}},L5=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.00001 14.6667C11.6667 14.6667 14.6667 11.6667 14.6667 7.99999C14.6667 4.33333 11.6667 1.33333 8.00001 1.33333C4.33334 1.33333 1.33334 4.33333 1.33334 7.99999C1.33334 11.6667 4.33334 14.6667 8.00001 14.6667Z",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M5.16666 8.00001L7.05332 9.88668L10.8333 6.11334",stroke:"#181818",strokeLinecap:"round",strokeLinejoin:"round"})]}),M5=()=>c.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.00001 14.6667C11.6667 14.6667 14.6667 11.6667 14.6667 7.99999C14.6667 4.33333 11.6667 1.33333 8.00001 1.33333C4.33334 1.33333 1.33334 4.33333 1.33334 7.99999C1.33334 11.6667 4.33334 14.6667 8.00001 14.6667Z",stroke:"#181818",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M8 5.33333V8.66666",stroke:"#181818",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M7.99609 10.6667H8.00208",stroke:"#181818",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"})]});const V5=({status:t,title:e,message:n})=>{const r=["notice-notification"];t==="success"&&r.push("success"),t==="error"&&r.push("error"),t==="info"&&r.push("info"),t==="warning"&&r.push("warning");let i=null;switch(t){case"success":i=c.jsx(L5,{});break;case"error":i=c.jsx(n0,{});break;case"info":i=c.jsx(M5,{});break;case"warning":i=c.jsx(jI,{});break}return c.jsxs("div",{className:r.join(" "),children:[c.jsx("div",{className:"icon",children:i}),c.jsxs("div",{className:"content",children:[c.jsx("h6",{className:"title",children:e}),c.jsx("p",{className:"message",children:n})]})]})},U5=({children:t})=>{const{notifications:e,showNotification:n}=j5(),r={showNotification:(i,s,o)=>{n(i,s,o)}};return c.jsxs(Vf.Provider,{value:r,children:[t,e.map(i=>c.jsx(V5,{status:i.status,title:i.title,message:i.message},i.id))]})};const F5=new vD;pm.createRoot(document.getElementById("root")).render(c.jsx(ke.StrictMode,{children:c.jsx(U3,{persistor:J2,children:c.jsx(mb,{store:oI,children:c.jsx(SD,{client:F5,children:c.jsx(N5,{children:c.jsx(U5,{children:c.jsx(GO,{router:_5})})})})})})}));
